var d_=Object.defineProperty;var h_=(e,t,n)=>t in e?d_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Te=(e,t,n)=>h_(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function Cg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ag={exports:{}},Aa={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_=Symbol.for("react.transitional.element"),m_=Symbol.for("react.fragment");function Mg(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var o in t)o!=="key"&&(n[o]=t[o])}else n=t;return t=n.ref,{$$typeof:p_,type:e,key:i,ref:t!==void 0?t:null,props:n}}Aa.Fragment=m_;Aa.jsx=Mg;Aa.jsxs=Mg;Ag.exports=Aa;var T=Ag.exports,Rg={exports:{}},Z={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vf=Symbol.for("react.transitional.element"),g_=Symbol.for("react.portal"),y_=Symbol.for("react.fragment"),v_=Symbol.for("react.strict_mode"),S_=Symbol.for("react.profiler"),__=Symbol.for("react.consumer"),E_=Symbol.for("react.context"),T_=Symbol.for("react.forward_ref"),C_=Symbol.for("react.suspense"),A_=Symbol.for("react.memo"),bg=Symbol.for("react.lazy"),M_=Symbol.for("react.activity"),Kd=Symbol.iterator;function R_(e){return e===null||typeof e!="object"?null:(e=Kd&&e[Kd]||e["@@iterator"],typeof e=="function"?e:null)}var xg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ng=Object.assign,wg={};function hl(e,t,n){this.props=e,this.context=t,this.refs=wg,this.updater=n||xg}hl.prototype.isReactComponent={};hl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};hl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Dg(){}Dg.prototype=hl.prototype;function Sf(e,t,n){this.props=e,this.context=t,this.refs=wg,this.updater=n||xg}var _f=Sf.prototype=new Dg;_f.constructor=Sf;Ng(_f,hl.prototype);_f.isPureReactComponent=!0;var $d=Array.isArray;function tc(){}var Me={H:null,A:null,T:null,S:null},Ig=Object.prototype.hasOwnProperty;function Ef(e,t,n){var i=n.ref;return{$$typeof:vf,type:e,key:t,ref:i!==void 0?i:null,props:n}}function b_(e,t){return Ef(e.type,t,e.props)}function Tf(e){return typeof e=="object"&&e!==null&&e.$$typeof===vf}function x_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Xd=/\/+/g;function iu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?x_(""+e.key):t.toString(36)}function N_(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(tc,tc):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Ro(e,t,n,i,o){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(l){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case vf:case g_:s=!0;break;case bg:return s=e._init,Ro(s(e._payload),t,n,i,o)}}if(s)return o=o(e),s=i===""?"."+iu(e,0):i,$d(o)?(n="",s!=null&&(n=s.replace(Xd,"$&/")+"/"),Ro(o,t,n,"",function(f){return f})):o!=null&&(Tf(o)&&(o=b_(o,n+(o.key==null||e&&e.key===o.key?"":(""+o.key).replace(Xd,"$&/")+"/")+s)),t.push(o)),1;s=0;var r=i===""?".":i+":";if($d(e))for(var c=0;c<e.length;c++)i=e[c],l=r+iu(i,c),s+=Ro(i,t,n,l,o);else if(c=R_(e),typeof c=="function")for(e=c.call(e),c=0;!(i=e.next()).done;)i=i.value,l=r+iu(i,c++),s+=Ro(i,t,n,l,o);else if(l==="object"){if(typeof e.then=="function")return Ro(N_(e),t,n,i,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function Ks(e,t,n){if(e==null)return e;var i=[],o=0;return Ro(e,i,"","",function(l){return t.call(n,l,o++)}),i}function w_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qd=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},D_={map:Ks,forEach:function(e,t,n){Ks(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ks(e,function(){t++}),t},toArray:function(e){return Ks(e,function(t){return t})||[]},only:function(e){if(!Tf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Activity=M_;Z.Children=D_;Z.Component=hl;Z.Fragment=y_;Z.Profiler=S_;Z.PureComponent=Sf;Z.StrictMode=v_;Z.Suspense=C_;Z.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Me;Z.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Me.H.useMemoCache(e)}};Z.cache=function(e){return function(){return e.apply(null,arguments)}};Z.cacheSignal=function(){return null};Z.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=Ng({},e.props),o=e.key;if(t!=null)for(l in t.key!==void 0&&(o=""+t.key),t)!Ig.call(t,l)||l==="key"||l==="__self"||l==="__source"||l==="ref"&&t.ref===void 0||(i[l]=t[l]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var s=Array(l),r=0;r<l;r++)s[r]=arguments[r+2];i.children=s}return Ef(e.type,o,i)};Z.createContext=function(e){return e={$$typeof:E_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:__,_context:e},e};Z.createElement=function(e,t,n){var i,o={},l=null;if(t!=null)for(i in t.key!==void 0&&(l=""+t.key),t)Ig.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(o[i]=t[i]);var s=arguments.length-2;if(s===1)o.children=n;else if(1<s){for(var r=Array(s),c=0;c<s;c++)r[c]=arguments[c+2];o.children=r}if(e&&e.defaultProps)for(i in s=e.defaultProps,s)o[i]===void 0&&(o[i]=s[i]);return Ef(e,l,o)};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:T_,render:e}};Z.isValidElement=Tf;Z.lazy=function(e){return{$$typeof:bg,_payload:{_status:-1,_result:e},_init:w_}};Z.memo=function(e,t){return{$$typeof:A_,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=Me.T,n={};Me.T=n;try{var i=e(),o=Me.S;o!==null&&o(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(tc,Qd)}catch(l){Qd(l)}finally{t!==null&&n.types!==null&&(t.types=n.types),Me.T=t}};Z.unstable_useCacheRefresh=function(){return Me.H.useCacheRefresh()};Z.use=function(e){return Me.H.use(e)};Z.useActionState=function(e,t,n){return Me.H.useActionState(e,t,n)};Z.useCallback=function(e,t){return Me.H.useCallback(e,t)};Z.useContext=function(e){return Me.H.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e,t){return Me.H.useDeferredValue(e,t)};Z.useEffect=function(e,t){return Me.H.useEffect(e,t)};Z.useEffectEvent=function(e){return Me.H.useEffectEvent(e)};Z.useId=function(){return Me.H.useId()};Z.useImperativeHandle=function(e,t,n){return Me.H.useImperativeHandle(e,t,n)};Z.useInsertionEffect=function(e,t){return Me.H.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return Me.H.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return Me.H.useMemo(e,t)};Z.useOptimistic=function(e,t){return Me.H.useOptimistic(e,t)};Z.useReducer=function(e,t,n){return Me.H.useReducer(e,t,n)};Z.useRef=function(e){return Me.H.useRef(e)};Z.useState=function(e){return Me.H.useState(e)};Z.useSyncExternalStore=function(e,t,n){return Me.H.useSyncExternalStore(e,t,n)};Z.useTransition=function(){return Me.H.useTransition()};Z.version="19.2.3";Rg.exports=Z;var R=Rg.exports;const Ue=Cg(R);var Ug={exports:{}},Ma={},Lg={exports:{}},kg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,z){var Y=q.length;q.push(z);e:for(;0<Y;){var ie=Y-1>>>1,ce=q[ie];if(0<o(ce,z))q[ie]=z,q[Y]=ce,Y=ie;else break e}}function n(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var z=q[0],Y=q.pop();if(Y!==z){q[0]=Y;e:for(var ie=0,ce=q.length,it=ce>>>1;ie<it;){var Ee=2*(ie+1)-1,Fe=q[Ee],Ye=Ee+1,re=q[Ye];if(0>o(Fe,Y))Ye<ce&&0>o(re,Fe)?(q[ie]=re,q[Ye]=Y,ie=Ye):(q[ie]=Fe,q[Ee]=Y,ie=Ee);else if(Ye<ce&&0>o(re,Y))q[ie]=re,q[Ye]=Y,ie=Ye;else break e}}return z}function o(q,z){var Y=q.sortIndex-z.sortIndex;return Y!==0?Y:q.id-z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var s=Date,r=s.now();e.unstable_now=function(){return s.now()-r}}var c=[],f=[],d=1,p=null,h=3,m=!1,S=!1,_=!1,E=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;function C(q){for(var z=n(f);z!==null;){if(z.callback===null)i(f);else if(z.startTime<=q)i(f),z.sortIndex=z.expirationTime,t(c,z);else break;z=n(f)}}function b(q){if(_=!1,C(q),!S)if(n(c)!==null)S=!0,U||(U=!0,$());else{var z=n(f);z!==null&&me(b,z.startTime-q)}}var U=!1,A=-1,x=5,w=-1;function k(){return E?!0:!(e.unstable_now()-w<x)}function H(){if(E=!1,U){var q=e.unstable_now();w=q;var z=!0;try{e:{S=!1,_&&(_=!1,y(A),A=-1),m=!0;var Y=h;try{t:{for(C(q),p=n(c);p!==null&&!(p.expirationTime>q&&k());){var ie=p.callback;if(typeof ie=="function"){p.callback=null,h=p.priorityLevel;var ce=ie(p.expirationTime<=q);if(q=e.unstable_now(),typeof ce=="function"){p.callback=ce,C(q),z=!0;break t}p===n(c)&&i(c),C(q)}else i(c);p=n(c)}if(p!==null)z=!0;else{var it=n(f);it!==null&&me(b,it.startTime-q),z=!1}}break e}finally{p=null,h=Y,m=!1}z=void 0}}finally{z?$():U=!1}}}var $;if(typeof v=="function")$=function(){v(H)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,j=O.port2;O.port1.onmessage=H,$=function(){j.postMessage(null)}}else $=function(){g(H,0)};function me(q,z){A=g(function(){q(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(q){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var Y=h;h=z;try{return q()}finally{h=Y}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(q,z){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Y=h;h=q;try{return z()}finally{h=Y}},e.unstable_scheduleCallback=function(q,z,Y){var ie=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ie+Y:ie):Y=ie,q){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=Y+ce,q={id:d++,callback:z,priorityLevel:q,startTime:Y,expirationTime:ce,sortIndex:-1},Y>ie?(q.sortIndex=Y,t(f,q),n(c)===null&&q===n(f)&&(_?(y(A),A=-1):_=!0,me(b,Y-ie))):(q.sortIndex=ce,t(c,q),S||m||(S=!0,U||(U=!0,$()))),q},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(q){var z=h;return function(){var Y=h;h=z;try{return q.apply(this,arguments)}finally{h=Y}}}})(kg);Lg.exports=kg;var I_=Lg.exports,qg={exports:{}},bt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_=R;function Gg(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function gi(){}var Mt={d:{f:gi,r:function(){throw Error(Gg(522))},D:gi,C:gi,L:gi,m:gi,X:gi,S:gi,M:gi},p:0,findDOMNode:null},L_=Symbol.for("react.portal");function k_(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L_,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var $l=U_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Ra(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Mt;bt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Gg(299));return k_(e,t,null,n)};bt.flushSync=function(e){var t=$l.T,n=Mt.p;try{if($l.T=null,Mt.p=2,e)return e()}finally{$l.T=t,Mt.p=n,Mt.d.f()}};bt.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Mt.d.C(e,t))};bt.prefetchDNS=function(e){typeof e=="string"&&Mt.d.D(e)};bt.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=Ra(n,t.crossOrigin),o=typeof t.integrity=="string"?t.integrity:void 0,l=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Mt.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:o,fetchPriority:l}):n==="script"&&Mt.d.X(e,{crossOrigin:i,integrity:o,fetchPriority:l,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};bt.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Ra(t.as,t.crossOrigin);Mt.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Mt.d.M(e)};bt.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=Ra(n,t.crossOrigin);Mt.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};bt.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Ra(t.as,t.crossOrigin);Mt.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Mt.d.m(e)};bt.requestFormReset=function(e){Mt.d.r(e)};bt.unstable_batchedUpdates=function(e,t){return e(t)};bt.useFormState=function(e,t,n){return $l.H.useFormState(e,t,n)};bt.useFormStatus=function(){return $l.H.useHostTransitionStatus()};bt.version="19.2.3";function Hg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hg)}catch(e){console.error(e)}}Hg(),qg.exports=bt;var wo=qg.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qe=I_,Pg=R,q_=wo;function L(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function zg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ws(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Og(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Vg(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Zd(e){if(ws(e)!==e)throw Error(L(188))}function G_(e){var t=e.alternate;if(!t){if(t=ws(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(o===null)break;var l=o.alternate;if(l===null){if(i=o.return,i!==null){n=i;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===n)return Zd(o),e;if(l===i)return Zd(o),t;l=l.sibling}throw Error(L(188))}if(n.return!==i.return)n=o,i=l;else{for(var s=!1,r=o.child;r;){if(r===n){s=!0,n=o,i=l;break}if(r===i){s=!0,i=o,n=l;break}r=r.sibling}if(!s){for(r=l.child;r;){if(r===n){s=!0,n=l,i=o;break}if(r===i){s=!0,i=l,n=o;break}r=r.sibling}if(!s)throw Error(L(189))}}if(n.alternate!==i)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function Bg(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Bg(e),t!==null)return t;e=e.sibling}return null}var Re=Object.assign,H_=Symbol.for("react.element"),$s=Symbol.for("react.transitional.element"),Ol=Symbol.for("react.portal"),Do=Symbol.for("react.fragment"),Fg=Symbol.for("react.strict_mode"),nc=Symbol.for("react.profiler"),Yg=Symbol.for("react.consumer"),Zn=Symbol.for("react.context"),Cf=Symbol.for("react.forward_ref"),ic=Symbol.for("react.suspense"),oc=Symbol.for("react.suspense_list"),Af=Symbol.for("react.memo"),Si=Symbol.for("react.lazy"),lc=Symbol.for("react.activity"),P_=Symbol.for("react.memo_cache_sentinel"),Wd=Symbol.iterator;function Dl(e){return e===null||typeof e!="object"?null:(e=Wd&&e[Wd]||e["@@iterator"],typeof e=="function"?e:null)}var z_=Symbol.for("react.client.reference");function sc(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===z_?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Do:return"Fragment";case nc:return"Profiler";case Fg:return"StrictMode";case ic:return"Suspense";case oc:return"SuspenseList";case lc:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Ol:return"Portal";case Zn:return e.displayName||"Context";case Yg:return(e._context.displayName||"Context")+".Consumer";case Cf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Af:return t=e.displayName||null,t!==null?t:sc(e.type)||"Memo";case Si:t=e._payload,e=e._init;try{return sc(e(t))}catch{}}return null}var Vl=Array.isArray,K=Pg.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=q_.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oo={pending:!1,data:null,method:null,action:null},rc=[],Io=-1;function Gn(e){return{current:e}}function tt(e){0>Io||(e.current=rc[Io],rc[Io]=null,Io--)}function _e(e,t){Io++,rc[Io]=e.current,e.current=t}var qn=Gn(null),fs=Gn(null),Ii=Gn(null),Hr=Gn(null);function Pr(e,t){switch(_e(Ii,t),_e(fs,e),_e(qn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?op(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=op(t),e=fv(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}tt(qn),_e(qn,e)}function tl(){tt(qn),tt(fs),tt(Ii)}function ac(e){e.memoizedState!==null&&_e(Hr,e);var t=qn.current,n=fv(t,e.type);t!==n&&(_e(fs,e),_e(qn,n))}function zr(e){fs.current===e&&(tt(qn),tt(fs)),Hr.current===e&&(tt(Hr),Ts._currentValue=oo)}var ou,jd;function Wi(e){if(ou===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ou=t&&t[1]||"",jd=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ou+e+jd}var lu=!1;function su(e,t){if(!e||lu)return"";lu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var p=function(){throw Error()};if(Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(m){var h=m}Reflect.construct(e,[],p)}else{try{p.call()}catch(m){h=m}e.call(p.prototype)}}else{try{throw Error()}catch(m){h=m}(p=e())&&typeof p.catch=="function"&&p.catch(function(){})}}catch(m){if(m&&h&&typeof m.stack=="string")return[m.stack,h.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var l=i.DetermineComponentFrameRoot(),s=l[0],r=l[1];if(s&&r){var c=s.split(`
`),f=r.split(`
`);for(o=i=0;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;for(;o<f.length&&!f[o].includes("DetermineComponentFrameRoot");)o++;if(i===c.length||o===f.length)for(i=c.length-1,o=f.length-1;1<=i&&0<=o&&c[i]!==f[o];)o--;for(;1<=i&&0<=o;i--,o--)if(c[i]!==f[o]){if(i!==1||o!==1)do if(i--,o--,0>o||c[i]!==f[o]){var d=`
`+c[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=o);break}}}finally{lu=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Wi(n):""}function O_(e,t){switch(e.tag){case 26:case 27:case 5:return Wi(e.type);case 16:return Wi("Lazy");case 13:return e.child!==t&&t!==null?Wi("Suspense Fallback"):Wi("Suspense");case 19:return Wi("SuspenseList");case 0:case 15:return su(e.type,!1);case 11:return su(e.type.render,!1);case 1:return su(e.type,!0);case 31:return Wi("Activity");default:return""}}function eh(e){try{var t="",n=null;do t+=O_(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var uc=Object.prototype.hasOwnProperty,Mf=Qe.unstable_scheduleCallback,ru=Qe.unstable_cancelCallback,V_=Qe.unstable_shouldYield,B_=Qe.unstable_requestPaint,Kt=Qe.unstable_now,F_=Qe.unstable_getCurrentPriorityLevel,Jg=Qe.unstable_ImmediatePriority,Kg=Qe.unstable_UserBlockingPriority,Or=Qe.unstable_NormalPriority,Y_=Qe.unstable_LowPriority,$g=Qe.unstable_IdlePriority,J_=Qe.log,K_=Qe.unstable_setDisableYieldValue,Ds=null,$t=null;function bi(e){if(typeof J_=="function"&&K_(e),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(Ds,e)}catch{}}var Xt=Math.clz32?Math.clz32:Q_,$_=Math.log,X_=Math.LN2;function Q_(e){return e>>>=0,e===0?32:31-($_(e)/X_|0)|0}var Xs=256,Qs=262144,Zs=4194304;function ji(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ba(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var o=0,l=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var r=i&134217727;return r!==0?(i=r&~l,i!==0?o=ji(i):(s&=r,s!==0?o=ji(s):n||(n=r&~e,n!==0&&(o=ji(n))))):(r=i&~l,r!==0?o=ji(r):s!==0?o=ji(s):n||(n=i&~e,n!==0&&(o=ji(n)))),o===0?0:t!==0&&t!==o&&!(t&l)&&(l=o&-o,n=t&-t,l>=n||l===32&&(n&4194048)!==0)?t:o}function Is(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Z_(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xg(){var e=Zs;return Zs<<=1,!(Zs&62914560)&&(Zs=4194304),e}function au(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Us(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function W_(e,t,n,i,o,l){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var r=e.entanglements,c=e.expirationTimes,f=e.hiddenUpdates;for(n=s&~n;0<n;){var d=31-Xt(n),p=1<<d;r[d]=0,c[d]=-1;var h=f[d];if(h!==null)for(f[d]=null,d=0;d<h.length;d++){var m=h[d];m!==null&&(m.lane&=-536870913)}n&=~p}i!==0&&Qg(e,i,0),l!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=l&~(s&~t))}function Qg(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Xt(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function Zg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Xt(n),o=1<<i;o&t|e[i]&t&&(e[i]|=t),n&=~o}}function Wg(e,t){var n=t&-t;return n=n&42?1:Rf(n),n&(e.suspendedLanes|t)?0:n}function Rf(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function bf(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function jg(){var e=ue.p;return e!==0?e:(e=window.event,e===void 0?32:Tv(e.type))}function th(e,t){var n=ue.p;try{return ue.p=e,t()}finally{ue.p=n}}var Yi=Math.random().toString(36).slice(2),st="__reactFiber$"+Yi,Gt="__reactProps$"+Yi,pl="__reactContainer$"+Yi,cc="__reactEvents$"+Yi,j_="__reactListeners$"+Yi,eE="__reactHandles$"+Yi,nh="__reactResources$"+Yi,Ls="__reactMarker$"+Yi;function xf(e){delete e[st],delete e[Gt],delete e[cc],delete e[j_],delete e[eE]}function Uo(e){var t=e[st];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pl]||n[st]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=up(e);e!==null;){if(n=e[st])return n;e=up(e)}return t}e=n,n=e.parentNode}return null}function ml(e){if(e=e[st]||e[pl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Bl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(L(33))}function Yo(e){var t=e[nh];return t||(t=e[nh]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Ls]=!0}var e0=new Set,t0={};function go(e,t){nl(e,t),nl(e+"Capture",t)}function nl(e,t){for(t0[e]=t,e=0;e<t.length;e++)e0.add(t[e])}var tE=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ih={},oh={};function nE(e){return uc.call(oh,e)?!0:uc.call(ih,e)?!1:tE.test(e)?oh[e]=!0:(ih[e]=!0,!1)}function vr(e,t,n){if(nE(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Ws(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Fn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function ln(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function n0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function iE(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,l=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){n=""+s,l.call(this,s)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fc(e){if(!e._valueTracker){var t=n0(e)?"checked":"value";e._valueTracker=iE(e,t,""+e[t])}}function i0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=n0(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Vr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var oE=/[\n"\\]/g;function an(e){return e.replace(oE,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function dc(e,t,n,i,o,l,s,r){e.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.type=s:e.removeAttribute("type"),t!=null?s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+ln(t)):e.value!==""+ln(t)&&(e.value=""+ln(t)):s!=="submit"&&s!=="reset"||e.removeAttribute("value"),t!=null?hc(e,s,ln(t)):n!=null?hc(e,s,ln(n)):i!=null&&e.removeAttribute("value"),o==null&&l!=null&&(e.defaultChecked=!!l),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.name=""+ln(r):e.removeAttribute("name")}function o0(e,t,n,i,o,l,s,r){if(l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(e.type=l),t!=null||n!=null){if(!(l!=="submit"&&l!=="reset"||t!=null)){fc(e);return}n=n!=null?""+ln(n):"",t=t!=null?""+ln(t):n,r||t===e.value||(e.value=t),e.defaultValue=t}i=i??o,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=r?e.checked:!!i,e.defaultChecked=!!i,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.name=s),fc(e)}function hc(e,t,n){t==="number"&&Vr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Jo(e,t,n,i){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&i&&(e[n].defaultSelected=!0)}else{for(n=""+ln(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function l0(e,t,n){if(t!=null&&(t=""+ln(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+ln(n):""}function s0(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(L(92));if(Vl(i)){if(1<i.length)throw Error(L(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=ln(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),fc(e)}function il(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var lE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lh(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||lE.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function r0(e,t,n){if(t!=null&&typeof t!="object")throw Error(L(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var o in t)i=t[o],t.hasOwnProperty(o)&&n[o]!==i&&lh(e,o,i)}else for(var l in t)t.hasOwnProperty(l)&&lh(e,l,t[l])}function Nf(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sr(e){return rE.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Wn(){}var pc=null;function wf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Lo=null,Ko=null;function sh(e){var t=ml(e);if(t&&(e=t.stateNode)){var n=e[Gt]||null;e:switch(e=t.stateNode,t.type){case"input":if(dc(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+an(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=i[Gt]||null;if(!o)throw Error(L(90));dc(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&i0(i)}break e;case"textarea":l0(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Jo(e,!!n.multiple,t,!1)}}}var uu=!1;function a0(e,t,n){if(uu)return e(t,n);uu=!0;try{var i=e(t);return i}finally{if(uu=!1,(Lo!==null||Ko!==null)&&(Pa(),Lo&&(t=Lo,e=Ko,Ko=Lo=null,sh(t),e)))for(t=0;t<e.length;t++)sh(e[t])}}function ds(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Gt]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mc=!1;if(ii)try{var Il={};Object.defineProperty(Il,"passive",{get:function(){mc=!0}}),window.addEventListener("test",Il,Il),window.removeEventListener("test",Il,Il)}catch{mc=!1}var xi=null,Df=null,_r=null;function u0(){if(_r)return _r;var e,t=Df,n=t.length,i,o="value"in xi?xi.value:xi.textContent,l=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(i=1;i<=s&&t[n-i]===o[l-i];i++);return _r=o.slice(e,1<i?1-i:void 0)}function Er(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function js(){return!0}function rh(){return!1}function Ht(e){function t(n,i,o,l,s){this._reactName=n,this._targetInst=o,this.type=i,this.nativeEvent=l,this.target=s,this.currentTarget=null;for(var r in e)e.hasOwnProperty(r)&&(n=e[r],this[r]=n?n(l):l[r]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?js:rh,this.isPropagationStopped=rh,this}return Re(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=js)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=js)},persist:function(){},isPersistent:js}),t}var yo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xa=Ht(yo),ks=Re({},yo,{view:0,detail:0}),aE=Ht(ks),cu,fu,Ul,Na=Re({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:If,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ul&&(Ul&&e.type==="mousemove"?(cu=e.screenX-Ul.screenX,fu=e.screenY-Ul.screenY):fu=cu=0,Ul=e),cu)},movementY:function(e){return"movementY"in e?e.movementY:fu}}),ah=Ht(Na),uE=Re({},Na,{dataTransfer:0}),cE=Ht(uE),fE=Re({},ks,{relatedTarget:0}),du=Ht(fE),dE=Re({},yo,{animationName:0,elapsedTime:0,pseudoElement:0}),hE=Ht(dE),pE=Re({},yo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mE=Ht(pE),gE=Re({},yo,{data:0}),uh=Ht(gE),yE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _E(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=SE[e])?!!t[e]:!1}function If(){return _E}var EE=Re({},ks,{key:function(e){if(e.key){var t=yE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Er(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:If,charCode:function(e){return e.type==="keypress"?Er(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Er(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),TE=Ht(EE),CE=Re({},Na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ch=Ht(CE),AE=Re({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:If}),ME=Ht(AE),RE=Re({},yo,{propertyName:0,elapsedTime:0,pseudoElement:0}),bE=Ht(RE),xE=Re({},Na,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),NE=Ht(xE),wE=Re({},yo,{newState:0,oldState:0}),DE=Ht(wE),IE=[9,13,27,32],Uf=ii&&"CompositionEvent"in window,Xl=null;ii&&"documentMode"in document&&(Xl=document.documentMode);var UE=ii&&"TextEvent"in window&&!Xl,c0=ii&&(!Uf||Xl&&8<Xl&&11>=Xl),fh=" ",dh=!1;function f0(e,t){switch(e){case"keyup":return IE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function d0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ko=!1;function LE(e,t){switch(e){case"compositionend":return d0(t);case"keypress":return t.which!==32?null:(dh=!0,fh);case"textInput":return e=t.data,e===fh&&dh?null:e;default:return null}}function kE(e,t){if(ko)return e==="compositionend"||!Uf&&f0(e,t)?(e=u0(),_r=Df=xi=null,ko=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return c0&&t.locale!=="ko"?null:t.data;default:return null}}var qE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!qE[e.type]:t==="textarea"}function h0(e,t,n,i){Lo?Ko?Ko.push(i):Ko=[i]:Lo=i,t=sa(t,"onChange"),0<t.length&&(n=new xa("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Ql=null,hs=null;function GE(e){av(e,0)}function wa(e){var t=Bl(e);if(i0(t))return e}function ph(e,t){if(e==="change")return t}var p0=!1;if(ii){var hu;if(ii){var pu="oninput"in document;if(!pu){var mh=document.createElement("div");mh.setAttribute("oninput","return;"),pu=typeof mh.oninput=="function"}hu=pu}else hu=!1;p0=hu&&(!document.documentMode||9<document.documentMode)}function gh(){Ql&&(Ql.detachEvent("onpropertychange",m0),hs=Ql=null)}function m0(e){if(e.propertyName==="value"&&wa(hs)){var t=[];h0(t,hs,e,wf(e)),a0(GE,t)}}function HE(e,t,n){e==="focusin"?(gh(),Ql=t,hs=n,Ql.attachEvent("onpropertychange",m0)):e==="focusout"&&gh()}function PE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wa(hs)}function zE(e,t){if(e==="click")return wa(t)}function OE(e,t){if(e==="input"||e==="change")return wa(t)}function VE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zt=typeof Object.is=="function"?Object.is:VE;function ps(e,t){if(Zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!uc.call(t,o)||!Zt(e[o],t[o]))return!1}return!0}function yh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vh(e,t){var n=yh(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yh(n)}}function g0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?g0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function y0(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Vr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Vr(e.document)}return t}function Lf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var BE=ii&&"documentMode"in document&&11>=document.documentMode,qo=null,gc=null,Zl=null,yc=!1;function Sh(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yc||qo==null||qo!==Vr(i)||(i=qo,"selectionStart"in i&&Lf(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Zl&&ps(Zl,i)||(Zl=i,i=sa(gc,"onSelect"),0<i.length&&(t=new xa("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=qo)))}function Qi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Go={animationend:Qi("Animation","AnimationEnd"),animationiteration:Qi("Animation","AnimationIteration"),animationstart:Qi("Animation","AnimationStart"),transitionrun:Qi("Transition","TransitionRun"),transitionstart:Qi("Transition","TransitionStart"),transitioncancel:Qi("Transition","TransitionCancel"),transitionend:Qi("Transition","TransitionEnd")},mu={},v0={};ii&&(v0=document.createElement("div").style,"AnimationEvent"in window||(delete Go.animationend.animation,delete Go.animationiteration.animation,delete Go.animationstart.animation),"TransitionEvent"in window||delete Go.transitionend.transition);function vo(e){if(mu[e])return mu[e];if(!Go[e])return e;var t=Go[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in v0)return mu[e]=t[n];return e}var S0=vo("animationend"),_0=vo("animationiteration"),E0=vo("animationstart"),FE=vo("transitionrun"),YE=vo("transitionstart"),JE=vo("transitioncancel"),T0=vo("transitionend"),C0=new Map,vc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vc.push("scrollEnd");function xn(e,t){C0.set(e,t),go(t,[e])}var Br=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},nn=[],Ho=0,kf=0;function Da(){for(var e=Ho,t=kf=Ho=0;t<e;){var n=nn[t];nn[t++]=null;var i=nn[t];nn[t++]=null;var o=nn[t];nn[t++]=null;var l=nn[t];if(nn[t++]=null,i!==null&&o!==null){var s=i.pending;s===null?o.next=o:(o.next=s.next,s.next=o),i.pending=o}l!==0&&A0(n,o,l)}}function Ia(e,t,n,i){nn[Ho++]=e,nn[Ho++]=t,nn[Ho++]=n,nn[Ho++]=i,kf|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function qf(e,t,n,i){return Ia(e,t,n,i),Fr(e)}function So(e,t){return Ia(e,null,null,t),Fr(e)}function A0(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var o=!1,l=e.return;l!==null;)l.childLanes|=n,i=l.alternate,i!==null&&(i.childLanes|=n),l.tag===22&&(e=l.stateNode,e===null||e._visibility&1||(o=!0)),e=l,l=l.return;return e.tag===3?(l=e.stateNode,o&&t!==null&&(o=31-Xt(n),e=l.hiddenUpdates,i=e[o],i===null?e[o]=[t]:i.push(t),t.lane=n|536870912),l):null}function Fr(e){if(50<ss)throw ss=0,Pc=null,Error(L(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Po={};function KE(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(e,t,n,i){return new KE(e,t,n,i)}function Gf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ei(e,t){var n=e.alternate;return n===null?(n=Ft(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function M0(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Tr(e,t,n,i,o,l){var s=0;if(i=e,typeof e=="function")Gf(e)&&(s=1);else if(typeof e=="string")s=WT(e,n,qn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case lc:return e=Ft(31,n,t,o),e.elementType=lc,e.lanes=l,e;case Do:return lo(n.children,o,l,t);case Fg:s=8,o|=24;break;case nc:return e=Ft(12,n,t,o|2),e.elementType=nc,e.lanes=l,e;case ic:return e=Ft(13,n,t,o),e.elementType=ic,e.lanes=l,e;case oc:return e=Ft(19,n,t,o),e.elementType=oc,e.lanes=l,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Zn:s=10;break e;case Yg:s=9;break e;case Cf:s=11;break e;case Af:s=14;break e;case Si:s=16,i=null;break e}s=29,n=Error(L(130,e===null?"null":typeof e,"")),i=null}return t=Ft(s,n,t,o),t.elementType=e,t.type=i,t.lanes=l,t}function lo(e,t,n,i){return e=Ft(7,e,i,t),e.lanes=n,e}function gu(e,t,n){return e=Ft(6,e,null,t),e.lanes=n,e}function R0(e){var t=Ft(18,null,null,0);return t.stateNode=e,t}function yu(e,t,n){return t=Ft(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var _h=new WeakMap;function un(e,t){if(typeof e=="object"&&e!==null){var n=_h.get(e);return n!==void 0?n:(t={value:e,source:t,stack:eh(t)},_h.set(e,t),t)}return{value:e,source:t,stack:eh(t)}}var zo=[],Oo=0,Yr=null,ms=0,sn=[],rn=0,Oi=null,Un=1,Ln="";function Xn(e,t){zo[Oo++]=ms,zo[Oo++]=Yr,Yr=e,ms=t}function b0(e,t,n){sn[rn++]=Un,sn[rn++]=Ln,sn[rn++]=Oi,Oi=e;var i=Un;e=Ln;var o=32-Xt(i)-1;i&=~(1<<o),n+=1;var l=32-Xt(t)+o;if(30<l){var s=o-o%5;l=(i&(1<<s)-1).toString(32),i>>=s,o-=s,Un=1<<32-Xt(t)+o|n<<o|i,Ln=l+e}else Un=1<<l|n<<o|i,Ln=e}function Hf(e){e.return!==null&&(Xn(e,1),b0(e,1,0))}function Pf(e){for(;e===Yr;)Yr=zo[--Oo],zo[Oo]=null,ms=zo[--Oo],zo[Oo]=null;for(;e===Oi;)Oi=sn[--rn],sn[rn]=null,Ln=sn[--rn],sn[rn]=null,Un=sn[--rn],sn[rn]=null}function x0(e,t){sn[rn++]=Un,sn[rn++]=Ln,sn[rn++]=Oi,Un=t.id,Ln=t.overflow,Oi=e}var rt=null,Ae=null,oe=!1,Ui=null,cn=!1,Sc=Error(L(519));function Vi(e){var t=Error(L(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gs(un(t,e)),Sc}function Eh(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[st]=e,t[Gt]=i,n){case"dialog":ee("cancel",t),ee("close",t);break;case"iframe":case"object":case"embed":ee("load",t);break;case"video":case"audio":for(n=0;n<_s.length;n++)ee(_s[n],t);break;case"source":ee("error",t);break;case"img":case"image":case"link":ee("error",t),ee("load",t);break;case"details":ee("toggle",t);break;case"input":ee("invalid",t),o0(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":ee("invalid",t);break;case"textarea":ee("invalid",t),s0(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||cv(t.textContent,n)?(i.popover!=null&&(ee("beforetoggle",t),ee("toggle",t)),i.onScroll!=null&&ee("scroll",t),i.onScrollEnd!=null&&ee("scrollend",t),i.onClick!=null&&(t.onclick=Wn),t=!0):t=!1,t||Vi(e,!0)}function Th(e){for(rt=e.return;rt;)switch(rt.tag){case 5:case 31:case 13:cn=!1;return;case 27:case 3:cn=!0;return;default:rt=rt.return}}function Ao(e){if(e!==rt)return!1;if(!oe)return Th(e),oe=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Fc(e.type,e.memoizedProps)),n=!n),n&&Ae&&Vi(e),Th(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));Ae=ap(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));Ae=ap(e)}else t===27?(t=Ae,Ji(e.type)?(e=$c,$c=null,Ae=e):Ae=t):Ae=rt?dn(e.stateNode.nextSibling):null;return!0}function co(){Ae=rt=null,oe=!1}function vu(){var e=Ui;return e!==null&&(kt===null?kt=e:kt.push.apply(kt,e),Ui=null),e}function gs(e){Ui===null?Ui=[e]:Ui.push(e)}var _c=Gn(null),_o=null,jn=null;function Ci(e,t,n){_e(_c,t._currentValue),t._currentValue=n}function ti(e){e._currentValue=_c.current,tt(_c)}function Ec(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Tc(e,t,n,i){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){var s=o.child;l=l.firstContext;e:for(;l!==null;){var r=l;l=o;for(var c=0;c<t.length;c++)if(r.context===t[c]){l.lanes|=n,r=l.alternate,r!==null&&(r.lanes|=n),Ec(l.return,n,e),i||(s=null);break e}l=r.next}}else if(o.tag===18){if(s=o.return,s===null)throw Error(L(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ec(s,n,e),s=null}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}}function gl(e,t,n,i){e=null;for(var o=t,l=!1;o!==null;){if(!l){if(o.flags&524288)l=!0;else if(o.flags&262144)break}if(o.tag===10){var s=o.alternate;if(s===null)throw Error(L(387));if(s=s.memoizedProps,s!==null){var r=o.type;Zt(o.pendingProps.value,s.value)||(e!==null?e.push(r):e=[r])}}else if(o===Hr.current){if(s=o.alternate,s===null)throw Error(L(387));s.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Ts):e=[Ts])}o=o.return}e!==null&&Tc(t,e,n,i),t.flags|=262144}function Jr(e){for(e=e.firstContext;e!==null;){if(!Zt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function fo(e){_o=e,jn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function at(e){return N0(_o,e)}function er(e,t){return _o===null&&fo(e),N0(e,t)}function N0(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},jn===null){if(e===null)throw Error(L(308));jn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else jn=jn.next=t;return n}var $E=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},XE=Qe.unstable_scheduleCallback,QE=Qe.unstable_NormalPriority,Ve={$$typeof:Zn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zf(){return{controller:new $E,data:new Map,refCount:0}}function qs(e){e.refCount--,e.refCount===0&&XE(QE,function(){e.controller.abort()})}var Wl=null,Cc=0,ol=0,$o=null;function ZE(e,t){if(Wl===null){var n=Wl=[];Cc=0,ol=fd(),$o={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Cc++,t.then(Ch,Ch),t}function Ch(){if(--Cc===0&&Wl!==null){$o!==null&&($o.status="fulfilled");var e=Wl;Wl=null,ol=0,$o=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function WE(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var o=0;o<n.length;o++)(0,n[o])(t)},function(o){for(i.status="rejected",i.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),i}var Ah=K.S;K.S=function(e,t){By=Kt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&ZE(e,t),Ah!==null&&Ah(e,t)};var so=Gn(null);function Of(){var e=so.current;return e!==null?e:Se.pooledCache}function Cr(e,t){t===null?_e(so,so.current):_e(so,t.pool)}function w0(){var e=Of();return e===null?null:{parent:Ve._currentValue,pool:e}}var yl=Error(L(460)),Vf=Error(L(474)),Ua=Error(L(542)),Kr={then:function(){}};function Mh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function D0(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Wn,Wn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,bh(e),e;default:if(typeof t.status=="string")t.then(Wn,Wn);else{if(e=Se,e!==null&&100<e.shellSuspendCounter)throw Error(L(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=i}},function(i){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,bh(e),e}throw ro=t,yl}}function eo(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ro=n,yl):n}}var ro=null;function Rh(){if(ro===null)throw Error(L(459));var e=ro;return ro=null,e}function bh(e){if(e===yl||e===Ua)throw Error(L(483))}var Xo=null,ys=0;function tr(e){var t=ys;return ys+=1,Xo===null&&(Xo=[]),D0(Xo,e,t)}function Ll(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function nr(e,t){throw t.$$typeof===H_?Error(L(525)):(e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function I0(e){function t(g,y){if(e){var v=g.deletions;v===null?(g.deletions=[y],g.flags|=16):v.push(y)}}function n(g,y){if(!e)return null;for(;y!==null;)t(g,y),y=y.sibling;return null}function i(g){for(var y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function o(g,y){return g=ei(g,y),g.index=0,g.sibling=null,g}function l(g,y,v){return g.index=v,e?(v=g.alternate,v!==null?(v=v.index,v<y?(g.flags|=67108866,y):v):(g.flags|=67108866,y)):(g.flags|=1048576,y)}function s(g){return e&&g.alternate===null&&(g.flags|=67108866),g}function r(g,y,v,C){return y===null||y.tag!==6?(y=gu(v,g.mode,C),y.return=g,y):(y=o(y,v),y.return=g,y)}function c(g,y,v,C){var b=v.type;return b===Do?d(g,y,v.props.children,C,v.key):y!==null&&(y.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Si&&eo(b)===y.type)?(y=o(y,v.props),Ll(y,v),y.return=g,y):(y=Tr(v.type,v.key,v.props,null,g.mode,C),Ll(y,v),y.return=g,y)}function f(g,y,v,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=yu(v,g.mode,C),y.return=g,y):(y=o(y,v.children||[]),y.return=g,y)}function d(g,y,v,C,b){return y===null||y.tag!==7?(y=lo(v,g.mode,C,b),y.return=g,y):(y=o(y,v),y.return=g,y)}function p(g,y,v){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=gu(""+y,g.mode,v),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case $s:return v=Tr(y.type,y.key,y.props,null,g.mode,v),Ll(v,y),v.return=g,v;case Ol:return y=yu(y,g.mode,v),y.return=g,y;case Si:return y=eo(y),p(g,y,v)}if(Vl(y)||Dl(y))return y=lo(y,g.mode,v,null),y.return=g,y;if(typeof y.then=="function")return p(g,tr(y),v);if(y.$$typeof===Zn)return p(g,er(g,y),v);nr(g,y)}return null}function h(g,y,v,C){var b=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return b!==null?null:r(g,y,""+v,C);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case $s:return v.key===b?c(g,y,v,C):null;case Ol:return v.key===b?f(g,y,v,C):null;case Si:return v=eo(v),h(g,y,v,C)}if(Vl(v)||Dl(v))return b!==null?null:d(g,y,v,C,null);if(typeof v.then=="function")return h(g,y,tr(v),C);if(v.$$typeof===Zn)return h(g,y,er(g,v),C);nr(g,v)}return null}function m(g,y,v,C,b){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return g=g.get(v)||null,r(y,g,""+C,b);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case $s:return g=g.get(C.key===null?v:C.key)||null,c(y,g,C,b);case Ol:return g=g.get(C.key===null?v:C.key)||null,f(y,g,C,b);case Si:return C=eo(C),m(g,y,v,C,b)}if(Vl(C)||Dl(C))return g=g.get(v)||null,d(y,g,C,b,null);if(typeof C.then=="function")return m(g,y,v,tr(C),b);if(C.$$typeof===Zn)return m(g,y,v,er(y,C),b);nr(y,C)}return null}function S(g,y,v,C){for(var b=null,U=null,A=y,x=y=0,w=null;A!==null&&x<v.length;x++){A.index>x?(w=A,A=null):w=A.sibling;var k=h(g,A,v[x],C);if(k===null){A===null&&(A=w);break}e&&A&&k.alternate===null&&t(g,A),y=l(k,y,x),U===null?b=k:U.sibling=k,U=k,A=w}if(x===v.length)return n(g,A),oe&&Xn(g,x),b;if(A===null){for(;x<v.length;x++)A=p(g,v[x],C),A!==null&&(y=l(A,y,x),U===null?b=A:U.sibling=A,U=A);return oe&&Xn(g,x),b}for(A=i(A);x<v.length;x++)w=m(A,g,x,v[x],C),w!==null&&(e&&w.alternate!==null&&A.delete(w.key===null?x:w.key),y=l(w,y,x),U===null?b=w:U.sibling=w,U=w);return e&&A.forEach(function(H){return t(g,H)}),oe&&Xn(g,x),b}function _(g,y,v,C){if(v==null)throw Error(L(151));for(var b=null,U=null,A=y,x=y=0,w=null,k=v.next();A!==null&&!k.done;x++,k=v.next()){A.index>x?(w=A,A=null):w=A.sibling;var H=h(g,A,k.value,C);if(H===null){A===null&&(A=w);break}e&&A&&H.alternate===null&&t(g,A),y=l(H,y,x),U===null?b=H:U.sibling=H,U=H,A=w}if(k.done)return n(g,A),oe&&Xn(g,x),b;if(A===null){for(;!k.done;x++,k=v.next())k=p(g,k.value,C),k!==null&&(y=l(k,y,x),U===null?b=k:U.sibling=k,U=k);return oe&&Xn(g,x),b}for(A=i(A);!k.done;x++,k=v.next())k=m(A,g,x,k.value,C),k!==null&&(e&&k.alternate!==null&&A.delete(k.key===null?x:k.key),y=l(k,y,x),U===null?b=k:U.sibling=k,U=k);return e&&A.forEach(function($){return t(g,$)}),oe&&Xn(g,x),b}function E(g,y,v,C){if(typeof v=="object"&&v!==null&&v.type===Do&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case $s:e:{for(var b=v.key;y!==null;){if(y.key===b){if(b=v.type,b===Do){if(y.tag===7){n(g,y.sibling),C=o(y,v.props.children),C.return=g,g=C;break e}}else if(y.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Si&&eo(b)===y.type){n(g,y.sibling),C=o(y,v.props),Ll(C,v),C.return=g,g=C;break e}n(g,y);break}else t(g,y);y=y.sibling}v.type===Do?(C=lo(v.props.children,g.mode,C,v.key),C.return=g,g=C):(C=Tr(v.type,v.key,v.props,null,g.mode,C),Ll(C,v),C.return=g,g=C)}return s(g);case Ol:e:{for(b=v.key;y!==null;){if(y.key===b)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){n(g,y.sibling),C=o(y,v.children||[]),C.return=g,g=C;break e}else{n(g,y);break}else t(g,y);y=y.sibling}C=yu(v,g.mode,C),C.return=g,g=C}return s(g);case Si:return v=eo(v),E(g,y,v,C)}if(Vl(v))return S(g,y,v,C);if(Dl(v)){if(b=Dl(v),typeof b!="function")throw Error(L(150));return v=b.call(v),_(g,y,v,C)}if(typeof v.then=="function")return E(g,y,tr(v),C);if(v.$$typeof===Zn)return E(g,y,er(g,v),C);nr(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint"?(v=""+v,y!==null&&y.tag===6?(n(g,y.sibling),C=o(y,v),C.return=g,g=C):(n(g,y),C=gu(v,g.mode,C),C.return=g,g=C),s(g)):n(g,y)}return function(g,y,v,C){try{ys=0;var b=E(g,y,v,C);return Xo=null,b}catch(A){if(A===yl||A===Ua)throw A;var U=Ft(29,A,null,g.mode);return U.lanes=C,U.return=g,U}finally{}}}var ho=I0(!0),U0=I0(!1),_i=!1;function Bf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ac(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Li(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ki(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,ae&2){var o=i.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),i.pending=t,t=Fr(e),A0(e,null,n),t}return Ia(e,i,t,n),Fr(e)}function jl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Zg(e,n)}}function Su(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var o=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};l===null?o=l=s:l=l.next=s,n=n.next}while(n!==null);l===null?o=l=t:l=l.next=t}else o=l=t;n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:l,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Mc=!1;function es(){if(Mc){var e=$o;if(e!==null)throw e}}function ts(e,t,n,i){Mc=!1;var o=e.updateQueue;_i=!1;var l=o.firstBaseUpdate,s=o.lastBaseUpdate,r=o.shared.pending;if(r!==null){o.shared.pending=null;var c=r,f=c.next;c.next=null,s===null?l=f:s.next=f,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,r=d.lastBaseUpdate,r!==s&&(r===null?d.firstBaseUpdate=f:r.next=f,d.lastBaseUpdate=c))}if(l!==null){var p=o.baseState;s=0,d=f=c=null,r=l;do{var h=r.lane&-536870913,m=h!==r.lane;if(m?(ne&h)===h:(i&h)===h){h!==0&&h===ol&&(Mc=!0),d!==null&&(d=d.next={lane:0,tag:r.tag,payload:r.payload,callback:null,next:null});e:{var S=e,_=r;h=t;var E=n;switch(_.tag){case 1:if(S=_.payload,typeof S=="function"){p=S.call(E,p,h);break e}p=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=_.payload,h=typeof S=="function"?S.call(E,p,h):S,h==null)break e;p=Re({},p,h);break e;case 2:_i=!0}}h=r.callback,h!==null&&(e.flags|=64,m&&(e.flags|=8192),m=o.callbacks,m===null?o.callbacks=[h]:m.push(h))}else m={lane:h,tag:r.tag,payload:r.payload,callback:r.callback,next:null},d===null?(f=d=m,c=p):d=d.next=m,s|=h;if(r=r.next,r===null){if(r=o.shared.pending,r===null)break;m=r,r=m.next,m.next=null,o.lastBaseUpdate=m,o.shared.pending=null}}while(!0);d===null&&(c=p),o.baseState=c,o.firstBaseUpdate=f,o.lastBaseUpdate=d,l===null&&(o.shared.lanes=0),Fi|=s,e.lanes=s,e.memoizedState=p}}function L0(e,t){if(typeof e!="function")throw Error(L(191,e));e.call(t)}function k0(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)L0(n[e],t)}var ll=Gn(null),$r=Gn(0);function xh(e,t){e=ri,_e($r,e),_e(ll,t),ri=e|t.baseLanes}function Rc(){_e($r,ri),_e(ll,ll.current)}function Ff(){ri=$r.current,tt(ll),tt($r)}var Wt=Gn(null),fn=null;function Ai(e){var t=e.alternate;_e(qe,qe.current&1),_e(Wt,e),fn===null&&(t===null||ll.current!==null||t.memoizedState!==null)&&(fn=e)}function bc(e){_e(qe,qe.current),_e(Wt,e),fn===null&&(fn=e)}function q0(e){e.tag===22?(_e(qe,qe.current),_e(Wt,e),fn===null&&(fn=e)):Mi()}function Mi(){_e(qe,qe.current),_e(Wt,Wt.current)}function Bt(e){tt(Wt),fn===e&&(fn=null),tt(qe)}var qe=Gn(0);function Xr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Jc(n)||Kc(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var oi=0,W=null,ye=null,ze=null,Qr=!1,Qo=!1,po=!1,Zr=0,vs=0,Zo=null,jE=0;function Ie(){throw Error(L(321))}function Yf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zt(e[n],t[n]))return!1;return!0}function Jf(e,t,n,i,o,l){return oi=l,W=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,K.H=e===null||e.memoizedState===null?hy:id,po=!1,l=n(i,o),po=!1,Qo&&(l=H0(t,n,i,o)),G0(e),l}function G0(e){K.H=Ss;var t=ye!==null&&ye.next!==null;if(oi=0,ze=ye=W=null,Qr=!1,vs=0,Zo=null,t)throw Error(L(300));e===null||Be||(e=e.dependencies,e!==null&&Jr(e)&&(Be=!0))}function H0(e,t,n,i){W=e;var o=0;do{if(Qo&&(Zo=null),vs=0,Qo=!1,25<=o)throw Error(L(301));if(o+=1,ze=ye=null,e.updateQueue!=null){var l=e.updateQueue;l.lastEffect=null,l.events=null,l.stores=null,l.memoCache!=null&&(l.memoCache.index=0)}K.H=py,l=t(n,i)}while(Qo);return l}function eT(){var e=K.H,t=e.useState()[0];return t=typeof t.then=="function"?Gs(t):t,e=e.useState()[0],(ye!==null?ye.memoizedState:null)!==e&&(W.flags|=1024),t}function Kf(){var e=Zr!==0;return Zr=0,e}function $f(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Xf(e){if(Qr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Qr=!1}oi=0,ze=ye=W=null,Qo=!1,vs=Zr=0,Zo=null}function Ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?W.memoizedState=ze=e:ze=ze.next=e,ze}function Ge(){if(ye===null){var e=W.alternate;e=e!==null?e.memoizedState:null}else e=ye.next;var t=ze===null?W.memoizedState:ze.next;if(t!==null)ze=t,ye=e;else{if(e===null)throw W.alternate===null?Error(L(467)):Error(L(310));ye=e,e={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},ze===null?W.memoizedState=ze=e:ze=ze.next=e}return ze}function La(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gs(e){var t=vs;return vs+=1,Zo===null&&(Zo=[]),e=D0(Zo,e,t),t=W,(ze===null?t.memoizedState:ze.next)===null&&(t=t.alternate,K.H=t===null||t.memoizedState===null?hy:id),e}function ka(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Gs(e);if(e.$$typeof===Zn)return at(e)}throw Error(L(438,String(e)))}function Qf(e){var t=null,n=W.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=W.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=La(),W.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=P_;return t.index++,n}function li(e,t){return typeof t=="function"?t(e):t}function Ar(e){var t=Ge();return Zf(t,ye,e)}function Zf(e,t,n){var i=e.queue;if(i===null)throw Error(L(311));i.lastRenderedReducer=n;var o=e.baseQueue,l=i.pending;if(l!==null){if(o!==null){var s=o.next;o.next=l.next,l.next=s}t.baseQueue=o=l,i.pending=null}if(l=e.baseState,o===null)e.memoizedState=l;else{t=o.next;var r=s=null,c=null,f=t,d=!1;do{var p=f.lane&-536870913;if(p!==f.lane?(ne&p)===p:(oi&p)===p){var h=f.revertLane;if(h===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),p===ol&&(d=!0);else if((oi&h)===h){f=f.next,h===ol&&(d=!0);continue}else p={lane:0,revertLane:f.revertLane,gesture:null,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},c===null?(r=c=p,s=l):c=c.next=p,W.lanes|=h,Fi|=h;p=f.action,po&&n(l,p),l=f.hasEagerState?f.eagerState:n(l,p)}else h={lane:p,revertLane:f.revertLane,gesture:f.gesture,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},c===null?(r=c=h,s=l):c=c.next=h,W.lanes|=p,Fi|=p;f=f.next}while(f!==null&&f!==t);if(c===null?s=l:c.next=r,!Zt(l,e.memoizedState)&&(Be=!0,d&&(n=$o,n!==null)))throw n;e.memoizedState=l,e.baseState=s,e.baseQueue=c,i.lastRenderedState=l}return o===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function _u(e){var t=Ge(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,l=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do l=e(l,s.action),s=s.next;while(s!==o);Zt(l,t.memoizedState)||(Be=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,i]}function P0(e,t,n){var i=W,o=Ge(),l=oe;if(l){if(n===void 0)throw Error(L(407));n=n()}else n=t();var s=!Zt((ye||o).memoizedState,n);if(s&&(o.memoizedState=n,Be=!0),o=o.queue,Wf(V0.bind(null,i,o,e),[e]),o.getSnapshot!==t||s||ze!==null&&ze.memoizedState.tag&1){if(i.flags|=2048,sl(9,{destroy:void 0},O0.bind(null,i,o,n,t),null),Se===null)throw Error(L(349));l||oi&127||z0(i,t,n)}return n}function z0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=W.updateQueue,t===null?(t=La(),W.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function O0(e,t,n,i){t.value=n,t.getSnapshot=i,B0(t)&&F0(e)}function V0(e,t,n){return n(function(){B0(t)&&F0(e)})}function B0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zt(e,n)}catch{return!0}}function F0(e){var t=So(e,2);t!==null&&qt(t,e,2)}function xc(e){var t=Ct();if(typeof e=="function"){var n=e;if(e=n(),po){bi(!0);try{n()}finally{bi(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:e},t}function Y0(e,t,n,i){return e.baseState=n,Zf(e,ye,typeof i=="function"?i:li)}function tT(e,t,n,i,o){if(Ga(e))throw Error(L(485));if(e=t.action,e!==null){var l={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){l.listeners.push(s)}};K.T!==null?n(!0):l.isTransition=!1,i(l),n=t.pending,n===null?(l.next=t.pending=l,J0(t,l)):(l.next=n.next,t.pending=n.next=l)}}function J0(e,t){var n=t.action,i=t.payload,o=e.state;if(t.isTransition){var l=K.T,s={};K.T=s;try{var r=n(o,i),c=K.S;c!==null&&c(s,r),Nh(e,t,r)}catch(f){Nc(e,t,f)}finally{l!==null&&s.types!==null&&(l.types=s.types),K.T=l}}else try{l=n(o,i),Nh(e,t,l)}catch(f){Nc(e,t,f)}}function Nh(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){wh(e,t,i)},function(i){return Nc(e,t,i)}):wh(e,t,n)}function wh(e,t,n){t.status="fulfilled",t.value=n,K0(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,J0(e,n)))}function Nc(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,K0(t),t=t.next;while(t!==i)}e.action=null}function K0(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function $0(e,t){return t}function Dh(e,t){if(oe){var n=Se.formState;if(n!==null){e:{var i=W;if(oe){if(Ae){t:{for(var o=Ae,l=cn;o.nodeType!==8;){if(!l){o=null;break t}if(o=dn(o.nextSibling),o===null){o=null;break t}}l=o.data,o=l==="F!"||l==="F"?o:null}if(o){Ae=dn(o.nextSibling),i=o.data==="F!";break e}}Vi(i)}i=!1}i&&(t=n[0])}}return n=Ct(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$0,lastRenderedState:t},n.queue=i,n=cy.bind(null,W,i),i.dispatch=n,i=xc(!1),l=nd.bind(null,W,!1,i.queue),i=Ct(),o={state:t,dispatch:null,action:e,pending:null},i.queue=o,n=tT.bind(null,W,o,l,n),o.dispatch=n,i.memoizedState=e,[t,n,!1]}function Ih(e){var t=Ge();return X0(t,ye,e)}function X0(e,t,n){if(t=Zf(e,t,$0)[0],e=Ar(li)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Gs(t)}catch(s){throw s===yl?Ua:s}else i=t;t=Ge();var o=t.queue,l=o.dispatch;return n!==t.memoizedState&&(W.flags|=2048,sl(9,{destroy:void 0},nT.bind(null,o,n),null)),[i,l,e]}function nT(e,t){e.action=t}function Uh(e){var t=Ge(),n=ye;if(n!==null)return X0(t,n,e);Ge(),t=t.memoizedState,n=Ge();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function sl(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=W.updateQueue,t===null&&(t=La(),W.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Q0(){return Ge().memoizedState}function Mr(e,t,n,i){var o=Ct();W.flags|=e,o.memoizedState=sl(1|t,{destroy:void 0},n,i===void 0?null:i)}function qa(e,t,n,i){var o=Ge();i=i===void 0?null:i;var l=o.memoizedState.inst;ye!==null&&i!==null&&Yf(i,ye.memoizedState.deps)?o.memoizedState=sl(t,l,n,i):(W.flags|=e,o.memoizedState=sl(1|t,l,n,i))}function Lh(e,t){Mr(8390656,8,e,t)}function Wf(e,t){qa(2048,8,e,t)}function iT(e){W.flags|=4;var t=W.updateQueue;if(t===null)t=La(),W.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Z0(e){var t=Ge().memoizedState;return iT({ref:t,nextImpl:e}),function(){if(ae&2)throw Error(L(440));return t.impl.apply(void 0,arguments)}}function W0(e,t){return qa(4,2,e,t)}function j0(e,t){return qa(4,4,e,t)}function ey(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ty(e,t,n){n=n!=null?n.concat([e]):null,qa(4,4,ey.bind(null,t,e),n)}function jf(){}function ny(e,t){var n=Ge();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Yf(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function iy(e,t){var n=Ge();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Yf(t,i[1]))return i[0];if(i=e(),po){bi(!0);try{e()}finally{bi(!1)}}return n.memoizedState=[i,t],i}function ed(e,t,n){return n===void 0||oi&1073741824&&!(ne&261930)?e.memoizedState=t:(e.memoizedState=n,e=Yy(),W.lanes|=e,Fi|=e,n)}function oy(e,t,n,i){return Zt(n,t)?n:ll.current!==null?(e=ed(e,n,i),Zt(e,t)||(Be=!0),e):!(oi&42)||oi&1073741824&&!(ne&261930)?(Be=!0,e.memoizedState=n):(e=Yy(),W.lanes|=e,Fi|=e,t)}function ly(e,t,n,i,o){var l=ue.p;ue.p=l!==0&&8>l?l:8;var s=K.T,r={};K.T=r,nd(e,!1,t,n);try{var c=o(),f=K.S;if(f!==null&&f(r,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=WE(c,i);ns(e,t,d,Qt(e))}else ns(e,t,i,Qt(e))}catch(p){ns(e,t,{then:function(){},status:"rejected",reason:p},Qt())}finally{ue.p=l,s!==null&&r.types!==null&&(s.types=r.types),K.T=s}}function oT(){}function wc(e,t,n,i){if(e.tag!==5)throw Error(L(476));var o=sy(e).queue;ly(e,o,t,oo,n===null?oT:function(){return ry(e),n(i)})}function sy(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:oo,baseState:oo,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:oo},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function ry(e){var t=sy(e);t.next===null&&(t=e.alternate.memoizedState),ns(e,t.next.queue,{},Qt())}function td(){return at(Ts)}function ay(){return Ge().memoizedState}function uy(){return Ge().memoizedState}function lT(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Qt();e=Li(n);var i=ki(t,e,n);i!==null&&(qt(i,t,n),jl(i,t,n)),t={cache:zf()},e.payload=t;return}t=t.return}}function sT(e,t,n){var i=Qt();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ga(e)?fy(t,n):(n=qf(e,t,n,i),n!==null&&(qt(n,e,i),dy(n,t,i)))}function cy(e,t,n){var i=Qt();ns(e,t,n,i)}function ns(e,t,n,i){var o={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ga(e))fy(t,o);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var s=t.lastRenderedState,r=l(s,n);if(o.hasEagerState=!0,o.eagerState=r,Zt(r,s))return Ia(e,t,o,0),Se===null&&Da(),!1}catch{}finally{}if(n=qf(e,t,o,i),n!==null)return qt(n,e,i),dy(n,t,i),!0}return!1}function nd(e,t,n,i){if(i={lane:2,revertLane:fd(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Ga(e)){if(t)throw Error(L(479))}else t=qf(e,n,i,2),t!==null&&qt(t,e,2)}function Ga(e){var t=e.alternate;return e===W||t!==null&&t===W}function fy(e,t){Qo=Qr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function dy(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Zg(e,n)}}var Ss={readContext:at,use:ka,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useLayoutEffect:Ie,useInsertionEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useSyncExternalStore:Ie,useId:Ie,useHostTransitionStatus:Ie,useFormState:Ie,useActionState:Ie,useOptimistic:Ie,useMemoCache:Ie,useCacheRefresh:Ie};Ss.useEffectEvent=Ie;var hy={readContext:at,use:ka,useCallback:function(e,t){return Ct().memoizedState=[e,t===void 0?null:t],e},useContext:at,useEffect:Lh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Mr(4194308,4,ey.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mr(4194308,4,e,t)},useInsertionEffect:function(e,t){Mr(4,2,e,t)},useMemo:function(e,t){var n=Ct();t=t===void 0?null:t;var i=e();if(po){bi(!0);try{e()}finally{bi(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Ct();if(n!==void 0){var o=n(t);if(po){bi(!0);try{n(t)}finally{bi(!1)}}}else o=t;return i.memoizedState=i.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},i.queue=e,e=e.dispatch=sT.bind(null,W,e),[i.memoizedState,e]},useRef:function(e){var t=Ct();return e={current:e},t.memoizedState=e},useState:function(e){e=xc(e);var t=e.queue,n=cy.bind(null,W,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:jf,useDeferredValue:function(e,t){var n=Ct();return ed(n,e,t)},useTransition:function(){var e=xc(!1);return e=ly.bind(null,W,e.queue,!0,!1),Ct().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=W,o=Ct();if(oe){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),Se===null)throw Error(L(349));ne&127||z0(i,t,n)}o.memoizedState=n;var l={value:n,getSnapshot:t};return o.queue=l,Lh(V0.bind(null,i,l,e),[e]),i.flags|=2048,sl(9,{destroy:void 0},O0.bind(null,i,l,n,t),null),n},useId:function(){var e=Ct(),t=Se.identifierPrefix;if(oe){var n=Ln,i=Un;n=(i&~(1<<32-Xt(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Zr++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=jE++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:td,useFormState:Dh,useActionState:Dh,useOptimistic:function(e){var t=Ct();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=nd.bind(null,W,!0,n),n.dispatch=t,[e,t]},useMemoCache:Qf,useCacheRefresh:function(){return Ct().memoizedState=lT.bind(null,W)},useEffectEvent:function(e){var t=Ct(),n={impl:e};return t.memoizedState=n,function(){if(ae&2)throw Error(L(440));return n.impl.apply(void 0,arguments)}}},id={readContext:at,use:ka,useCallback:ny,useContext:at,useEffect:Wf,useImperativeHandle:ty,useInsertionEffect:W0,useLayoutEffect:j0,useMemo:iy,useReducer:Ar,useRef:Q0,useState:function(){return Ar(li)},useDebugValue:jf,useDeferredValue:function(e,t){var n=Ge();return oy(n,ye.memoizedState,e,t)},useTransition:function(){var e=Ar(li)[0],t=Ge().memoizedState;return[typeof e=="boolean"?e:Gs(e),t]},useSyncExternalStore:P0,useId:ay,useHostTransitionStatus:td,useFormState:Ih,useActionState:Ih,useOptimistic:function(e,t){var n=Ge();return Y0(n,ye,e,t)},useMemoCache:Qf,useCacheRefresh:uy};id.useEffectEvent=Z0;var py={readContext:at,use:ka,useCallback:ny,useContext:at,useEffect:Wf,useImperativeHandle:ty,useInsertionEffect:W0,useLayoutEffect:j0,useMemo:iy,useReducer:_u,useRef:Q0,useState:function(){return _u(li)},useDebugValue:jf,useDeferredValue:function(e,t){var n=Ge();return ye===null?ed(n,e,t):oy(n,ye.memoizedState,e,t)},useTransition:function(){var e=_u(li)[0],t=Ge().memoizedState;return[typeof e=="boolean"?e:Gs(e),t]},useSyncExternalStore:P0,useId:ay,useHostTransitionStatus:td,useFormState:Uh,useActionState:Uh,useOptimistic:function(e,t){var n=Ge();return ye!==null?Y0(n,ye,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Qf,useCacheRefresh:uy};py.useEffectEvent=Z0;function Eu(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Re({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Dc={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Qt(),o=Li(i);o.payload=t,n!=null&&(o.callback=n),t=ki(e,o,i),t!==null&&(qt(t,e,i),jl(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Qt(),o=Li(i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=ki(e,o,i),t!==null&&(qt(t,e,i),jl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Qt(),i=Li(n);i.tag=2,t!=null&&(i.callback=t),t=ki(e,i,n),t!==null&&(qt(t,e,n),jl(t,e,n))}};function kh(e,t,n,i,o,l,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,l,s):t.prototype&&t.prototype.isPureReactComponent?!ps(n,i)||!ps(o,l):!0}function qh(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Dc.enqueueReplaceState(t,t.state,null)}function mo(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=Re({},n));for(var o in e)n[o]===void 0&&(n[o]=e[o])}return n}function my(e){Br(e)}function gy(e){console.error(e)}function yy(e){Br(e)}function Wr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Gh(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Ic(e,t,n){return n=Li(n),n.tag=3,n.payload={element:null},n.callback=function(){Wr(e,t)},n}function vy(e){return e=Li(e),e.tag=3,e}function Sy(e,t,n,i){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var l=i.value;e.payload=function(){return o(l)},e.callback=function(){Gh(t,n,i)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){Gh(t,n,i),typeof o!="function"&&(qi===null?qi=new Set([this]):qi.add(this));var r=i.stack;this.componentDidCatch(i.value,{componentStack:r!==null?r:""})})}function rT(e,t,n,i,o){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&gl(t,n,o,!0),n=Wt.current,n!==null){switch(n.tag){case 31:case 13:return fn===null?ia():n.alternate===null&&Le===0&&(Le=3),n.flags&=-257,n.flags|=65536,n.lanes=o,i===Kr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Iu(e,i,o)),!1;case 22:return n.flags|=65536,i===Kr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Iu(e,i,o)),!1}throw Error(L(435,n.tag))}return Iu(e,i,o),ia(),!1}if(oe)return t=Wt.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=o,i!==Sc&&(e=Error(L(422),{cause:i}),gs(un(e,n)))):(i!==Sc&&(t=Error(L(423),{cause:i}),gs(un(t,n))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,i=un(i,n),o=Ic(e.stateNode,i,o),Su(e,o),Le!==4&&(Le=2)),!1;var l=Error(L(520),{cause:i});if(l=un(l,n),ls===null?ls=[l]:ls.push(l),Le!==4&&(Le=2),t===null)return!0;i=un(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,e=Ic(n.stateNode,i,e),Su(n,e),!1;case 1:if(t=n.type,l=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||l!==null&&typeof l.componentDidCatch=="function"&&(qi===null||!qi.has(l))))return n.flags|=65536,o&=-o,n.lanes|=o,o=vy(o),Sy(o,e,n,i),Su(n,o),!1}n=n.return}while(n!==null);return!1}var od=Error(L(461)),Be=!1;function lt(e,t,n,i){t.child=e===null?U0(t,null,n,i):ho(t,e.child,n,i)}function Hh(e,t,n,i,o){n=n.render;var l=t.ref;if("ref"in i){var s={};for(var r in i)r!=="ref"&&(s[r]=i[r])}else s=i;return fo(t),i=Jf(e,t,n,s,l,o),r=Kf(),e!==null&&!Be?($f(e,t,o),si(e,t,o)):(oe&&r&&Hf(t),t.flags|=1,lt(e,t,i,o),t.child)}function Ph(e,t,n,i,o){if(e===null){var l=n.type;return typeof l=="function"&&!Gf(l)&&l.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=l,_y(e,t,l,i,o)):(e=Tr(n.type,null,i,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!ld(e,o)){var s=l.memoizedProps;if(n=n.compare,n=n!==null?n:ps,n(s,i)&&e.ref===t.ref)return si(e,t,o)}return t.flags|=1,e=ei(l,i),e.ref=t.ref,e.return=t,t.child=e}function _y(e,t,n,i,o){if(e!==null){var l=e.memoizedProps;if(ps(l,i)&&e.ref===t.ref)if(Be=!1,t.pendingProps=i=l,ld(e,o))e.flags&131072&&(Be=!0);else return t.lanes=e.lanes,si(e,t,o)}return Uc(e,t,n,i,o)}function Ey(e,t,n,i){var o=i.children,l=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(t.flags&128){if(l=l!==null?l.baseLanes|n:n,e!==null){for(i=t.child=e.child,o=0;i!==null;)o=o|i.lanes|i.childLanes,i=i.sibling;i=o&~l}else i=0,t.child=null;return zh(e,t,l,n,i)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Cr(t,l!==null?l.cachePool:null),l!==null?xh(t,l):Rc(),q0(t);else return i=t.lanes=536870912,zh(e,t,l!==null?l.baseLanes|n:n,n,i)}else l!==null?(Cr(t,l.cachePool),xh(t,l),Mi(),t.memoizedState=null):(e!==null&&Cr(t,null),Rc(),Mi());return lt(e,t,o,n),t.child}function Fl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function zh(e,t,n,i,o){var l=Of();return l=l===null?null:{parent:Ve._currentValue,pool:l},t.memoizedState={baseLanes:n,cachePool:l},e!==null&&Cr(t,null),Rc(),q0(t),e!==null&&gl(e,t,i,!0),t.childLanes=o,null}function Rr(e,t){return t=jr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Oh(e,t,n){return ho(t,e.child,null,n),e=Rr(t,t.pendingProps),e.flags|=2,Bt(t),t.memoizedState=null,e}function aT(e,t,n){var i=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(oe){if(i.mode==="hidden")return e=Rr(t,i),t.lanes=536870912,Fl(null,e);if(bc(t),(e=Ae)?(e=hv(e,cn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Oi!==null?{id:Un,overflow:Ln}:null,retryLane:536870912,hydrationErrors:null},n=R0(e),n.return=t,t.child=n,rt=t,Ae=null)):e=null,e===null)throw Vi(t);return t.lanes=536870912,null}return Rr(t,i)}var l=e.memoizedState;if(l!==null){var s=l.dehydrated;if(bc(t),o)if(t.flags&256)t.flags&=-257,t=Oh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(L(558));else if(Be||gl(e,t,n,!1),o=(n&e.childLanes)!==0,Be||o){if(i=Se,i!==null&&(s=Wg(i,n),s!==0&&s!==l.retryLane))throw l.retryLane=s,So(e,s),qt(i,e,s),od;ia(),t=Oh(e,t,n)}else e=l.treeContext,Ae=dn(s.nextSibling),rt=t,oe=!0,Ui=null,cn=!1,e!==null&&x0(t,e),t=Rr(t,i),t.flags|=4096;return t}return e=ei(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function br(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(L(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Uc(e,t,n,i,o){return fo(t),n=Jf(e,t,n,i,void 0,o),i=Kf(),e!==null&&!Be?($f(e,t,o),si(e,t,o)):(oe&&i&&Hf(t),t.flags|=1,lt(e,t,n,o),t.child)}function Vh(e,t,n,i,o,l){return fo(t),t.updateQueue=null,n=H0(t,i,n,o),G0(e),i=Kf(),e!==null&&!Be?($f(e,t,l),si(e,t,l)):(oe&&i&&Hf(t),t.flags|=1,lt(e,t,n,l),t.child)}function Bh(e,t,n,i,o){if(fo(t),t.stateNode===null){var l=Po,s=n.contextType;typeof s=="object"&&s!==null&&(l=at(s)),l=new n(i,l),t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Dc,t.stateNode=l,l._reactInternals=t,l=t.stateNode,l.props=i,l.state=t.memoizedState,l.refs={},Bf(t),s=n.contextType,l.context=typeof s=="object"&&s!==null?at(s):Po,l.state=t.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(Eu(t,n,s,i),l.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(s=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),s!==l.state&&Dc.enqueueReplaceState(l,l.state,null),ts(t,i,l,o),es(),l.state=t.memoizedState),typeof l.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){l=t.stateNode;var r=t.memoizedProps,c=mo(n,r);l.props=c;var f=l.context,d=n.contextType;s=Po,typeof d=="object"&&d!==null&&(s=at(d));var p=n.getDerivedStateFromProps;d=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function",r=t.pendingProps!==r,d||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(r||f!==s)&&qh(t,l,i,s),_i=!1;var h=t.memoizedState;l.state=h,ts(t,i,l,o),es(),f=t.memoizedState,r||h!==f||_i?(typeof p=="function"&&(Eu(t,n,p,i),f=t.memoizedState),(c=_i||kh(t,n,c,i,h,f,s))?(d||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=f),l.props=i,l.state=f,l.context=s,i=c):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{l=t.stateNode,Ac(e,t),s=t.memoizedProps,d=mo(n,s),l.props=d,p=t.pendingProps,h=l.context,f=n.contextType,c=Po,typeof f=="object"&&f!==null&&(c=at(f)),r=n.getDerivedStateFromProps,(f=typeof r=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==p||h!==c)&&qh(t,l,i,c),_i=!1,h=t.memoizedState,l.state=h,ts(t,i,l,o),es();var m=t.memoizedState;s!==p||h!==m||_i||e!==null&&e.dependencies!==null&&Jr(e.dependencies)?(typeof r=="function"&&(Eu(t,n,r,i),m=t.memoizedState),(d=_i||kh(t,n,d,i,h,m,c)||e!==null&&e.dependencies!==null&&Jr(e.dependencies))?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(i,m,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(i,m,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=m),l.props=i,l.state=m,l.context=c,i=d):(typeof l.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return l=i,br(e,t),i=(t.flags&128)!==0,l||i?(l=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:l.render(),t.flags|=1,e!==null&&i?(t.child=ho(t,e.child,null,o),t.child=ho(t,null,n,o)):lt(e,t,n,o),t.memoizedState=l.state,e=t.child):e=si(e,t,o),e}function Fh(e,t,n,i){return co(),t.flags|=256,lt(e,t,n,i),t.child}var Tu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cu(e){return{baseLanes:e,cachePool:w0()}}function Au(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Jt),e}function Ty(e,t,n){var i=t.pendingProps,o=!1,l=(t.flags&128)!==0,s;if((s=l)||(s=e!==null&&e.memoizedState===null?!1:(qe.current&2)!==0),s&&(o=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,e===null){if(oe){if(o?Ai(t):Mi(),(e=Ae)?(e=hv(e,cn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Oi!==null?{id:Un,overflow:Ln}:null,retryLane:536870912,hydrationErrors:null},n=R0(e),n.return=t,t.child=n,rt=t,Ae=null)):e=null,e===null)throw Vi(t);return Kc(e)?t.lanes=32:t.lanes=536870912,null}var r=i.children;return i=i.fallback,o?(Mi(),o=t.mode,r=jr({mode:"hidden",children:r},o),i=lo(i,o,n,null),r.return=t,i.return=t,r.sibling=i,t.child=r,i=t.child,i.memoizedState=Cu(n),i.childLanes=Au(e,s,n),t.memoizedState=Tu,Fl(null,i)):(Ai(t),Lc(t,r))}var c=e.memoizedState;if(c!==null&&(r=c.dehydrated,r!==null)){if(l)t.flags&256?(Ai(t),t.flags&=-257,t=Mu(e,t,n)):t.memoizedState!==null?(Mi(),t.child=e.child,t.flags|=128,t=null):(Mi(),r=i.fallback,o=t.mode,i=jr({mode:"visible",children:i.children},o),r=lo(r,o,n,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,ho(t,e.child,null,n),i=t.child,i.memoizedState=Cu(n),i.childLanes=Au(e,s,n),t.memoizedState=Tu,t=Fl(null,i));else if(Ai(t),Kc(r)){if(s=r.nextSibling&&r.nextSibling.dataset,s)var f=s.dgst;s=f,i=Error(L(419)),i.stack="",i.digest=s,gs({value:i,source:null,stack:null}),t=Mu(e,t,n)}else if(Be||gl(e,t,n,!1),s=(n&e.childLanes)!==0,Be||s){if(s=Se,s!==null&&(i=Wg(s,n),i!==0&&i!==c.retryLane))throw c.retryLane=i,So(e,i),qt(s,e,i),od;Jc(r)||ia(),t=Mu(e,t,n)}else Jc(r)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,Ae=dn(r.nextSibling),rt=t,oe=!0,Ui=null,cn=!1,e!==null&&x0(t,e),t=Lc(t,i.children),t.flags|=4096);return t}return o?(Mi(),r=i.fallback,o=t.mode,c=e.child,f=c.sibling,i=ei(c,{mode:"hidden",children:i.children}),i.subtreeFlags=c.subtreeFlags&65011712,f!==null?r=ei(f,r):(r=lo(r,o,n,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,Fl(null,i),i=t.child,r=e.child.memoizedState,r===null?r=Cu(n):(o=r.cachePool,o!==null?(c=Ve._currentValue,o=o.parent!==c?{parent:c,pool:c}:o):o=w0(),r={baseLanes:r.baseLanes|n,cachePool:o}),i.memoizedState=r,i.childLanes=Au(e,s,n),t.memoizedState=Tu,Fl(e.child,i)):(Ai(t),n=e.child,e=n.sibling,n=ei(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function Lc(e,t){return t=jr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function jr(e,t){return e=Ft(22,e,null,t),e.lanes=0,e}function Mu(e,t,n){return ho(t,e.child,null,n),e=Lc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Yh(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Ec(e.return,t,n)}function Ru(e,t,n,i,o,l){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o,treeForkCount:l}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=o,s.treeForkCount=l)}function Cy(e,t,n){var i=t.pendingProps,o=i.revealOrder,l=i.tail;i=i.children;var s=qe.current,r=(s&2)!==0;if(r?(s=s&1|2,t.flags|=128):s&=1,_e(qe,s),lt(e,t,i,n),i=oe?ms:0,!r&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yh(e,n,t);else if(e.tag===19)Yh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Xr(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ru(t,!1,o,n,l,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Xr(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ru(t,!0,n,null,l,i);break;case"together":Ru(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function si(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Fi|=t.lanes,!(n&t.childLanes))if(e!==null){if(gl(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=ei(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ei(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ld(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Jr(e)))}function uT(e,t,n){switch(t.tag){case 3:Pr(t,t.stateNode.containerInfo),Ci(t,Ve,e.memoizedState.cache),co();break;case 27:case 5:ac(t);break;case 4:Pr(t,t.stateNode.containerInfo);break;case 10:Ci(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,bc(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Ai(t),t.flags|=128,null):n&t.child.childLanes?Ty(e,t,n):(Ai(t),e=si(e,t,n),e!==null?e.sibling:null);Ai(t);break;case 19:var o=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(gl(e,t,n,!1),i=(n&t.childLanes)!==0),o){if(i)return Cy(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),_e(qe,qe.current),i)break;return null;case 22:return t.lanes=0,Ey(e,t,n,t.pendingProps);case 24:Ci(t,Ve,e.memoizedState.cache)}return si(e,t,n)}function Ay(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Be=!0;else{if(!ld(e,n)&&!(t.flags&128))return Be=!1,uT(e,t,n);Be=!!(e.flags&131072)}else Be=!1,oe&&t.flags&1048576&&b0(t,ms,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=eo(t.elementType),t.type=e,typeof e=="function")Gf(e)?(i=mo(e,i),t.tag=1,t=Bh(null,t,e,i,n)):(t.tag=0,t=Uc(null,t,e,i,n));else{if(e!=null){var o=e.$$typeof;if(o===Cf){t.tag=11,t=Hh(null,t,e,i,n);break e}else if(o===Af){t.tag=14,t=Ph(null,t,e,i,n);break e}}throw t=sc(e)||e,Error(L(306,t,""))}}return t;case 0:return Uc(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,o=mo(i,t.pendingProps),Bh(e,t,i,o,n);case 3:e:{if(Pr(t,t.stateNode.containerInfo),e===null)throw Error(L(387));i=t.pendingProps;var l=t.memoizedState;o=l.element,Ac(e,t),ts(t,i,null,n);var s=t.memoizedState;if(i=s.cache,Ci(t,Ve,i),i!==l.cache&&Tc(t,[Ve],n,!0),es(),i=s.element,l.isDehydrated)if(l={element:i,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){t=Fh(e,t,i,n);break e}else if(i!==o){o=un(Error(L(424)),t),gs(o),t=Fh(e,t,i,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ae=dn(e.firstChild),rt=t,oe=!0,Ui=null,cn=!0,n=U0(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(co(),i===o){t=si(e,t,n);break e}lt(e,t,i,n)}t=t.child}return t;case 26:return br(e,t),e===null?(n=fp(t.type,null,t.pendingProps,null))?t.memoizedState=n:oe||(n=t.type,e=t.pendingProps,i=ra(Ii.current).createElement(n),i[st]=t,i[Gt]=e,ut(i,n,e),et(i),t.stateNode=i):t.memoizedState=fp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ac(t),e===null&&oe&&(i=t.stateNode=pv(t.type,t.pendingProps,Ii.current),rt=t,cn=!0,o=Ae,Ji(t.type)?($c=o,Ae=dn(i.firstChild)):Ae=o),lt(e,t,t.pendingProps.children,n),br(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&oe&&((o=i=Ae)&&(i=PT(i,t.type,t.pendingProps,cn),i!==null?(t.stateNode=i,rt=t,Ae=dn(i.firstChild),cn=!1,o=!0):o=!1),o||Vi(t)),ac(t),o=t.type,l=t.pendingProps,s=e!==null?e.memoizedProps:null,i=l.children,Fc(o,l)?i=null:s!==null&&Fc(o,s)&&(t.flags|=32),t.memoizedState!==null&&(o=Jf(e,t,eT,null,null,n),Ts._currentValue=o),br(e,t),lt(e,t,i,n),t.child;case 6:return e===null&&oe&&((e=n=Ae)&&(n=zT(n,t.pendingProps,cn),n!==null?(t.stateNode=n,rt=t,Ae=null,e=!0):e=!1),e||Vi(t)),null;case 13:return Ty(e,t,n);case 4:return Pr(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=ho(t,null,i,n):lt(e,t,i,n),t.child;case 11:return Hh(e,t,t.type,t.pendingProps,n);case 7:return lt(e,t,t.pendingProps,n),t.child;case 8:return lt(e,t,t.pendingProps.children,n),t.child;case 12:return lt(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Ci(t,t.type,i.value),lt(e,t,i.children,n),t.child;case 9:return o=t.type._context,i=t.pendingProps.children,fo(t),o=at(o),i=i(o),t.flags|=1,lt(e,t,i,n),t.child;case 14:return Ph(e,t,t.type,t.pendingProps,n);case 15:return _y(e,t,t.type,t.pendingProps,n);case 19:return Cy(e,t,n);case 31:return aT(e,t,n);case 22:return Ey(e,t,n,t.pendingProps);case 24:return fo(t),i=at(Ve),e===null?(o=Of(),o===null&&(o=Se,l=zf(),o.pooledCache=l,l.refCount++,l!==null&&(o.pooledCacheLanes|=n),o=l),t.memoizedState={parent:i,cache:o},Bf(t),Ci(t,Ve,o)):(e.lanes&n&&(Ac(e,t),ts(t,null,null,n),es()),o=e.memoizedState,l=t.memoizedState,o.parent!==i?(o={parent:i,cache:i},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Ci(t,Ve,i)):(i=l.cache,Ci(t,Ve,i),i!==o.cache&&Tc(t,[Ve],n,!0))),lt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(L(156,t.tag))}function Yn(e){e.flags|=4}function bu(e,t,n,i,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if($y())e.flags|=8192;else throw ro=Kr,Vf}else e.flags&=-16777217}function Jh(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!yv(t))if($y())e.flags|=8192;else throw ro=Kr,Vf}function ir(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Xg():536870912,e.lanes|=t,rl|=t)}function kl(e,t){if(!oe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ce(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags&65011712,i|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function cT(e,t,n){var i=t.pendingProps;switch(Pf(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ce(t),null;case 1:return Ce(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),ti(Ve),tl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ao(t)?Yn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,vu())),Ce(t),null;case 26:var o=t.type,l=t.memoizedState;return e===null?(Yn(t),l!==null?(Ce(t),Jh(t,l)):(Ce(t),bu(t,o,null,i,n))):l?l!==e.memoizedState?(Yn(t),Ce(t),Jh(t,l)):(Ce(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&Yn(t),Ce(t),bu(t,o,e,i,n)),null;case 27:if(zr(t),n=Ii.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Yn(t);else{if(!i){if(t.stateNode===null)throw Error(L(166));return Ce(t),null}e=qn.current,Ao(t)?Eh(t):(e=pv(o,i,n),t.stateNode=e,Yn(t))}return Ce(t),null;case 5:if(zr(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Yn(t);else{if(!i){if(t.stateNode===null)throw Error(L(166));return Ce(t),null}if(l=qn.current,Ao(t))Eh(t);else{var s=ra(Ii.current);switch(l){case 1:l=s.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:l=s.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":l=s.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":l=s.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":l=s.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof i.is=="string"?s.createElement("select",{is:i.is}):s.createElement("select"),i.multiple?l.multiple=!0:i.size&&(l.size=i.size);break;default:l=typeof i.is=="string"?s.createElement(o,{is:i.is}):s.createElement(o)}}l[st]=t,l[Gt]=i;e:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)l.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=l;e:switch(ut(l,o,i),o){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Yn(t)}}return Ce(t),bu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Yn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(L(166));if(e=Ii.current,Ao(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,o=rt,o!==null)switch(o.tag){case 27:case 5:i=o.memoizedProps}e[st]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||cv(e.nodeValue,n)),e||Vi(t,!0)}else e=ra(e).createTextNode(i),e[st]=t,t.stateNode=e}return Ce(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=Ao(t),n!==null){if(e===null){if(!i)throw Error(L(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(557));e[st]=t}else co(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ce(t),e=!1}else n=vu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Bt(t),t):(Bt(t),null);if(t.flags&128)throw Error(L(558))}return Ce(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Ao(t),i!==null&&i.dehydrated!==null){if(e===null){if(!o)throw Error(L(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(L(317));o[st]=t}else co(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ce(t),o=!1}else o=vu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Bt(t),t):(Bt(t),null)}return Bt(t),t.flags&128?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,o=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(o=i.alternate.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==o&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ir(t,t.updateQueue),Ce(t),null);case 4:return tl(),e===null&&dd(t.stateNode.containerInfo),Ce(t),null;case 10:return ti(t.type),Ce(t),null;case 19:if(tt(qe),i=t.memoizedState,i===null)return Ce(t),null;if(o=(t.flags&128)!==0,l=i.rendering,l===null)if(o)kl(i,!1);else{if(Le!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Xr(e),l!==null){for(t.flags|=128,kl(i,!1),e=l.updateQueue,t.updateQueue=e,ir(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)M0(n,e),n=n.sibling;return _e(qe,qe.current&1|2),oe&&Xn(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&Kt()>ta&&(t.flags|=128,o=!0,kl(i,!1),t.lanes=4194304)}else{if(!o)if(e=Xr(l),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,ir(t,e),kl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!oe)return Ce(t),null}else 2*Kt()-i.renderingStartTime>ta&&n!==536870912&&(t.flags|=128,o=!0,kl(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(e=i.last,e!==null?e.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Kt(),e.sibling=null,n=qe.current,_e(qe,o?n&1|2:n&1),oe&&Xn(t,i.treeForkCount),e):(Ce(t),null);case 22:case 23:return Bt(t),Ff(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(Ce(t),t.subtreeFlags&6&&(t.flags|=8192)):Ce(t),n=t.updateQueue,n!==null&&ir(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&tt(so),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ti(Ve),Ce(t),null;case 25:return null;case 30:return null}throw Error(L(156,t.tag))}function fT(e,t){switch(Pf(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ti(Ve),tl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return zr(t),null;case 31:if(t.memoizedState!==null){if(Bt(t),t.alternate===null)throw Error(L(340));co()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Bt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));co()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return tt(qe),null;case 4:return tl(),null;case 10:return ti(t.type),null;case 22:case 23:return Bt(t),Ff(),e!==null&&tt(so),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ti(Ve),null;case 25:return null;default:return null}}function My(e,t){switch(Pf(t),t.tag){case 3:ti(Ve),tl();break;case 26:case 27:case 5:zr(t);break;case 4:tl();break;case 31:t.memoizedState!==null&&Bt(t);break;case 13:Bt(t);break;case 19:tt(qe);break;case 10:ti(t.type);break;case 22:case 23:Bt(t),Ff(),e!==null&&tt(so);break;case 24:ti(Ve)}}function Hs(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var o=i.next;n=o;do{if((n.tag&e)===e){i=void 0;var l=n.create,s=n.inst;i=l(),s.destroy=i}n=n.next}while(n!==o)}}catch(r){pe(t,t.return,r)}}function Bi(e,t,n){try{var i=t.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var l=o.next;i=l;do{if((i.tag&e)===e){var s=i.inst,r=s.destroy;if(r!==void 0){s.destroy=void 0,o=t;var c=n,f=r;try{f()}catch(d){pe(o,c,d)}}}i=i.next}while(i!==l)}}catch(d){pe(t,t.return,d)}}function Ry(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{k0(t,n)}catch(i){pe(e,e.return,i)}}}function by(e,t,n){n.props=mo(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){pe(e,t,i)}}function is(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(o){pe(e,t,o)}}function kn(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(o){pe(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){pe(e,t,o)}else n.current=null}function xy(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(o){pe(e,e.return,o)}}function xu(e,t,n){try{var i=e.stateNode;UT(i,e.type,n,t),i[Gt]=t}catch(o){pe(e,e.return,o)}}function Ny(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ji(e.type)||e.tag===4}function Nu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ny(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ji(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kc(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Wn));else if(i!==4&&(i===27&&Ji(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(kc(e,t,n),e=e.sibling;e!==null;)kc(e,t,n),e=e.sibling}function ea(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Ji(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(ea(e,t,n),e=e.sibling;e!==null;)ea(e,t,n),e=e.sibling}function wy(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);ut(t,i,n),t[st]=e,t[Gt]=n}catch(l){pe(e,e.return,l)}}var Qn=!1,Oe=!1,wu=!1,Kh=typeof WeakSet=="function"?WeakSet:Set,We=null;function dT(e,t){if(e=e.containerInfo,Vc=fa,e=y0(e),Lf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var o=i.anchorOffset,l=i.focusNode;i=i.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var s=0,r=-1,c=-1,f=0,d=0,p=e,h=null;t:for(;;){for(var m;p!==n||o!==0&&p.nodeType!==3||(r=s+o),p!==l||i!==0&&p.nodeType!==3||(c=s+i),p.nodeType===3&&(s+=p.nodeValue.length),(m=p.firstChild)!==null;)h=p,p=m;for(;;){if(p===e)break t;if(h===n&&++f===o&&(r=s),h===l&&++d===i&&(c=s),(m=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=m}n=r===-1||c===-1?null:{start:r,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bc={focusedElem:e,selectionRange:n},fa=!1,We=t;We!==null;)if(t=We,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,We=e;else for(;We!==null;){switch(t=We,l=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)o=e[n],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&l!==null){e=void 0,n=t,o=l.memoizedProps,l=l.memoizedState,i=n.stateNode;try{var S=mo(n.type,o);e=i.getSnapshotBeforeUpdate(S,l),i.__reactInternalSnapshotBeforeUpdate=e}catch(_){pe(n,n.return,_)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Yc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Yc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(L(163))}if(e=t.sibling,e!==null){e.return=t.return,We=e;break}We=t.return}}function Dy(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Kn(e,n),i&4&&Hs(5,n);break;case 1:if(Kn(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(s){pe(n,n.return,s)}else{var o=mo(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){pe(n,n.return,s)}}i&64&&Ry(n),i&512&&is(n,n.return);break;case 3:if(Kn(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{k0(e,t)}catch(s){pe(n,n.return,s)}}break;case 27:t===null&&i&4&&wy(n);case 26:case 5:Kn(e,n),t===null&&i&4&&xy(n),i&512&&is(n,n.return);break;case 12:Kn(e,n);break;case 31:Kn(e,n),i&4&&Ly(e,n);break;case 13:Kn(e,n),i&4&&ky(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=ET.bind(null,n),OT(e,n))));break;case 22:if(i=n.memoizedState!==null||Qn,!i){t=t!==null&&t.memoizedState!==null||Oe,o=Qn;var l=Oe;Qn=i,(Oe=t)&&!l?$n(e,n,(n.subtreeFlags&8772)!==0):Kn(e,n),Qn=o,Oe=l}break;case 30:break;default:Kn(e,n)}}function Iy(e){var t=e.alternate;t!==null&&(e.alternate=null,Iy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&xf(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var we=null,Lt=!1;function Jn(e,t,n){for(n=n.child;n!==null;)Uy(e,t,n),n=n.sibling}function Uy(e,t,n){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(Ds,n)}catch{}switch(n.tag){case 26:Oe||kn(n,t),Jn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Oe||kn(n,t);var i=we,o=Lt;Ji(n.type)&&(we=n.stateNode,Lt=!1),Jn(e,t,n),rs(n.stateNode),we=i,Lt=o;break;case 5:Oe||kn(n,t);case 6:if(i=we,o=Lt,we=null,Jn(e,t,n),we=i,Lt=o,we!==null)if(Lt)try{(we.nodeType===9?we.body:we.nodeName==="HTML"?we.ownerDocument.body:we).removeChild(n.stateNode)}catch(l){pe(n,t,l)}else try{we.removeChild(n.stateNode)}catch(l){pe(n,t,l)}break;case 18:we!==null&&(Lt?(e=we,sp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),fl(e)):sp(we,n.stateNode));break;case 4:i=we,o=Lt,we=n.stateNode.containerInfo,Lt=!0,Jn(e,t,n),we=i,Lt=o;break;case 0:case 11:case 14:case 15:Bi(2,n,t),Oe||Bi(4,n,t),Jn(e,t,n);break;case 1:Oe||(kn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&by(n,t,i)),Jn(e,t,n);break;case 21:Jn(e,t,n);break;case 22:Oe=(i=Oe)||n.memoizedState!==null,Jn(e,t,n),Oe=i;break;default:Jn(e,t,n)}}function Ly(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{fl(e)}catch(n){pe(t,t.return,n)}}}function ky(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{fl(e)}catch(n){pe(t,t.return,n)}}function hT(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Kh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Kh),t;default:throw Error(L(435,e.tag))}}function or(e,t){var n=hT(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var o=TT.bind(null,e,i);i.then(o,o)}})}function It(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var o=n[i],l=e,s=t,r=s;e:for(;r!==null;){switch(r.tag){case 27:if(Ji(r.type)){we=r.stateNode,Lt=!1;break e}break;case 5:we=r.stateNode,Lt=!1;break e;case 3:case 4:we=r.stateNode.containerInfo,Lt=!0;break e}r=r.return}if(we===null)throw Error(L(160));Uy(l,s,o),we=null,Lt=!1,l=o.alternate,l!==null&&(l.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)qy(t,e),t=t.sibling}var An=null;function qy(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:It(t,e),Ut(e),i&4&&(Bi(3,e,e.return),Hs(3,e),Bi(5,e,e.return));break;case 1:It(t,e),Ut(e),i&512&&(Oe||n===null||kn(n,n.return)),i&64&&Qn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var o=An;if(It(t,e),Ut(e),i&512&&(Oe||n===null||kn(n,n.return)),i&4){var l=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(i){case"title":l=o.getElementsByTagName("title")[0],(!l||l[Ls]||l[st]||l.namespaceURI==="http://www.w3.org/2000/svg"||l.hasAttribute("itemprop"))&&(l=o.createElement(i),o.head.insertBefore(l,o.querySelector("head > title"))),ut(l,i,n),l[st]=e,et(l),i=l;break e;case"link":var s=hp("link","href",o).get(i+(n.href||""));if(s){for(var r=0;r<s.length;r++)if(l=s[r],l.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&l.getAttribute("rel")===(n.rel==null?null:n.rel)&&l.getAttribute("title")===(n.title==null?null:n.title)&&l.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(r,1);break t}}l=o.createElement(i),ut(l,i,n),o.head.appendChild(l);break;case"meta":if(s=hp("meta","content",o).get(i+(n.content||""))){for(r=0;r<s.length;r++)if(l=s[r],l.getAttribute("content")===(n.content==null?null:""+n.content)&&l.getAttribute("name")===(n.name==null?null:n.name)&&l.getAttribute("property")===(n.property==null?null:n.property)&&l.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&l.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(r,1);break t}}l=o.createElement(i),ut(l,i,n),o.head.appendChild(l);break;default:throw Error(L(468,i))}l[st]=e,et(l),i=l}e.stateNode=i}else pp(o,e.type,e.stateNode);else e.stateNode=dp(o,i,e.memoizedProps);else l!==i?(l===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):l.count--,i===null?pp(o,e.type,e.stateNode):dp(o,i,e.memoizedProps)):i===null&&e.stateNode!==null&&xu(e,e.memoizedProps,n.memoizedProps)}break;case 27:It(t,e),Ut(e),i&512&&(Oe||n===null||kn(n,n.return)),n!==null&&i&4&&xu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(It(t,e),Ut(e),i&512&&(Oe||n===null||kn(n,n.return)),e.flags&32){o=e.stateNode;try{il(o,"")}catch(S){pe(e,e.return,S)}}i&4&&e.stateNode!=null&&(o=e.memoizedProps,xu(e,o,n!==null?n.memoizedProps:o)),i&1024&&(wu=!0);break;case 6:if(It(t,e),Ut(e),i&4){if(e.stateNode===null)throw Error(L(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(S){pe(e,e.return,S)}}break;case 3:if(wr=null,o=An,An=aa(t.containerInfo),It(t,e),An=o,Ut(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{fl(t.containerInfo)}catch(S){pe(e,e.return,S)}wu&&(wu=!1,Gy(e));break;case 4:i=An,An=aa(e.stateNode.containerInfo),It(t,e),Ut(e),An=i;break;case 12:It(t,e),Ut(e);break;case 31:It(t,e),Ut(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,or(e,i)));break;case 13:It(t,e),Ut(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Ha=Kt()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,or(e,i)));break;case 22:o=e.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,f=Qn,d=Oe;if(Qn=f||o,Oe=d||c,It(t,e),Oe=d,Qn=f,Ut(e),i&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(n===null||c||Qn||Oe||to(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){c=n=t;try{if(l=c.stateNode,o)s=l.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{r=c.stateNode;var p=c.memoizedProps.style,h=p!=null&&p.hasOwnProperty("display")?p.display:null;r.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(S){pe(c,c.return,S)}}}else if(t.tag===6){if(n===null){c=t;try{c.stateNode.nodeValue=o?"":c.memoizedProps}catch(S){pe(c,c.return,S)}}}else if(t.tag===18){if(n===null){c=t;try{var m=c.stateNode;o?rp(m,!0):rp(c.stateNode,!1)}catch(S){pe(c,c.return,S)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,or(e,n))));break;case 19:It(t,e),Ut(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,or(e,i)));break;case 30:break;case 21:break;default:It(t,e),Ut(e)}}function Ut(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(Ny(i)){n=i;break}i=i.return}if(n==null)throw Error(L(160));switch(n.tag){case 27:var o=n.stateNode,l=Nu(e);ea(e,l,o);break;case 5:var s=n.stateNode;n.flags&32&&(il(s,""),n.flags&=-33);var r=Nu(e);ea(e,r,s);break;case 3:case 4:var c=n.stateNode.containerInfo,f=Nu(e);kc(e,f,c);break;default:throw Error(L(161))}}catch(d){pe(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Gy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Gy(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Kn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Dy(e,t.alternate,t),t=t.sibling}function to(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Bi(4,t,t.return),to(t);break;case 1:kn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&by(t,t.return,n),to(t);break;case 27:rs(t.stateNode);case 26:case 5:kn(t,t.return),to(t);break;case 22:t.memoizedState===null&&to(t);break;case 30:to(t);break;default:to(t)}e=e.sibling}}function $n(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,o=e,l=t,s=l.flags;switch(l.tag){case 0:case 11:case 15:$n(o,l,n),Hs(4,l);break;case 1:if($n(o,l,n),i=l,o=i.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(f){pe(i,i.return,f)}if(i=l,o=i.updateQueue,o!==null){var r=i.stateNode;try{var c=o.shared.hiddenCallbacks;if(c!==null)for(o.shared.hiddenCallbacks=null,o=0;o<c.length;o++)L0(c[o],r)}catch(f){pe(i,i.return,f)}}n&&s&64&&Ry(l),is(l,l.return);break;case 27:wy(l);case 26:case 5:$n(o,l,n),n&&i===null&&s&4&&xy(l),is(l,l.return);break;case 12:$n(o,l,n);break;case 31:$n(o,l,n),n&&s&4&&Ly(o,l);break;case 13:$n(o,l,n),n&&s&4&&ky(o,l);break;case 22:l.memoizedState===null&&$n(o,l,n),is(l,l.return);break;case 30:break;default:$n(o,l,n)}t=t.sibling}}function sd(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&qs(n))}function rd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&qs(e))}function Cn(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Hy(e,t,n,i),t=t.sibling}function Hy(e,t,n,i){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Cn(e,t,n,i),o&2048&&Hs(9,t);break;case 1:Cn(e,t,n,i);break;case 3:Cn(e,t,n,i),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&qs(e)));break;case 12:if(o&2048){Cn(e,t,n,i),e=t.stateNode;try{var l=t.memoizedProps,s=l.id,r=l.onPostCommit;typeof r=="function"&&r(s,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){pe(t,t.return,c)}}else Cn(e,t,n,i);break;case 31:Cn(e,t,n,i);break;case 13:Cn(e,t,n,i);break;case 23:break;case 22:l=t.stateNode,s=t.alternate,t.memoizedState!==null?l._visibility&2?Cn(e,t,n,i):os(e,t):l._visibility&2?Cn(e,t,n,i):(l._visibility|=2,bo(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),o&2048&&sd(s,t);break;case 24:Cn(e,t,n,i),o&2048&&rd(t.alternate,t);break;default:Cn(e,t,n,i)}}function bo(e,t,n,i,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var l=e,s=t,r=n,c=i,f=s.flags;switch(s.tag){case 0:case 11:case 15:bo(l,s,r,c,o),Hs(8,s);break;case 23:break;case 22:var d=s.stateNode;s.memoizedState!==null?d._visibility&2?bo(l,s,r,c,o):os(l,s):(d._visibility|=2,bo(l,s,r,c,o)),o&&f&2048&&sd(s.alternate,s);break;case 24:bo(l,s,r,c,o),o&&f&2048&&rd(s.alternate,s);break;default:bo(l,s,r,c,o)}t=t.sibling}}function os(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,o=i.flags;switch(i.tag){case 22:os(n,i),o&2048&&sd(i.alternate,i);break;case 24:os(n,i),o&2048&&rd(i.alternate,i);break;default:os(n,i)}t=t.sibling}}var Yl=8192;function Mo(e,t,n){if(e.subtreeFlags&Yl)for(e=e.child;e!==null;)Py(e,t,n),e=e.sibling}function Py(e,t,n){switch(e.tag){case 26:Mo(e,t,n),e.flags&Yl&&e.memoizedState!==null&&jT(n,An,e.memoizedState,e.memoizedProps);break;case 5:Mo(e,t,n);break;case 3:case 4:var i=An;An=aa(e.stateNode.containerInfo),Mo(e,t,n),An=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Yl,Yl=16777216,Mo(e,t,n),Yl=i):Mo(e,t,n));break;default:Mo(e,t,n)}}function zy(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ql(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];We=i,Vy(i,e)}zy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Oy(e),e=e.sibling}function Oy(e){switch(e.tag){case 0:case 11:case 15:ql(e),e.flags&2048&&Bi(9,e,e.return);break;case 3:ql(e);break;case 12:ql(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,xr(e)):ql(e);break;default:ql(e)}}function xr(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];We=i,Vy(i,e)}zy(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Bi(8,t,t.return),xr(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,xr(t));break;default:xr(t)}e=e.sibling}}function Vy(e,t){for(;We!==null;){var n=We;switch(n.tag){case 0:case 11:case 15:Bi(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:qs(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,We=i;else e:for(n=e;We!==null;){i=We;var o=i.sibling,l=i.return;if(Iy(i),i===n){We=null;break e}if(o!==null){o.return=l,We=o;break e}We=l}}}var pT={getCacheForType:function(e){var t=at(Ve),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return at(Ve).controller.signal}},mT=typeof WeakMap=="function"?WeakMap:Map,ae=0,Se=null,te=null,ne=0,he=0,Vt=null,Ni=!1,vl=!1,ad=!1,ri=0,Le=0,Fi=0,ao=0,ud=0,Jt=0,rl=0,ls=null,kt=null,qc=!1,Ha=0,By=0,ta=1/0,na=null,qi=null,Xe=0,Gi=null,al=null,ni=0,Gc=0,Hc=null,Fy=null,ss=0,Pc=null;function Qt(){return ae&2&&ne!==0?ne&-ne:K.T!==null?fd():jg()}function Yy(){if(Jt===0)if(!(ne&536870912)||oe){var e=Qs;Qs<<=1,!(Qs&3932160)&&(Qs=262144),Jt=e}else Jt=536870912;return e=Wt.current,e!==null&&(e.flags|=32),Jt}function qt(e,t,n){(e===Se&&(he===2||he===9)||e.cancelPendingCommit!==null)&&(ul(e,0),wi(e,ne,Jt,!1)),Us(e,n),(!(ae&2)||e!==Se)&&(e===Se&&(!(ae&2)&&(ao|=n),Le===4&&wi(e,ne,Jt,!1)),Hn(e))}function Jy(e,t,n){if(ae&6)throw Error(L(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Is(e,t),o=i?vT(e,t):Du(e,t,!0),l=i;do{if(o===0){vl&&!i&&wi(e,t,0,!1);break}else{if(n=e.current.alternate,l&&!gT(n)){o=Du(e,t,!1),l=!1;continue}if(o===2){if(l=t,e.errorRecoveryDisabledLanes&l)var s=0;else s=e.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;e:{var r=e;o=ls;var c=r.current.memoizedState.isDehydrated;if(c&&(ul(r,s).flags|=256),s=Du(r,s,!1),s!==2){if(ad&&!c){r.errorRecoveryDisabledLanes|=l,ao|=l,o=4;break e}l=kt,kt=o,l!==null&&(kt===null?kt=l:kt.push.apply(kt,l))}o=s}if(l=!1,o!==2)continue}}if(o===1){ul(e,0),wi(e,t,0,!0);break}e:{switch(i=e,l=o,l){case 0:case 1:throw Error(L(345));case 4:if((t&4194048)!==t)break;case 6:wi(i,t,Jt,!Ni);break e;case 2:kt=null;break;case 3:case 5:break;default:throw Error(L(329))}if((t&62914560)===t&&(o=Ha+300-Kt(),10<o)){if(wi(i,t,Jt,!Ni),ba(i,0,!0)!==0)break e;ni=t,i.timeoutHandle=dv($h.bind(null,i,n,kt,na,qc,t,Jt,ao,rl,Ni,l,"Throttled",-0,0),o);break e}$h(i,n,kt,na,qc,t,Jt,ao,rl,Ni,l,null,-0,0)}}break}while(!0);Hn(e)}function $h(e,t,n,i,o,l,s,r,c,f,d,p,h,m){if(e.timeoutHandle=-1,p=t.subtreeFlags,p&8192||(p&16785408)===16785408){p={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wn},Py(t,l,p);var S=(l&62914560)===l?Ha-Kt():(l&4194048)===l?By-Kt():0;if(S=eC(p,S),S!==null){ni=l,e.cancelPendingCommit=S(Qh.bind(null,e,t,l,n,i,o,s,r,c,d,p,null,h,m)),wi(e,l,s,!f);return}}Qh(e,t,l,n,i,o,s,r,c)}function gT(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var o=n[i],l=o.getSnapshot;o=o.value;try{if(!Zt(l(),o))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wi(e,t,n,i){t&=~ud,t&=~ao,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var o=t;0<o;){var l=31-Xt(o),s=1<<l;i[l]=-1,o&=~s}n!==0&&Qg(e,n,t)}function Pa(){return ae&6?!0:(Ps(0),!1)}function cd(){if(te!==null){if(he===0)var e=te.return;else e=te,jn=_o=null,Xf(e),Xo=null,ys=0,e=te;for(;e!==null;)My(e.alternate,e),e=e.return;te=null}}function ul(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,qT(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),ni=0,cd(),Se=e,te=n=ei(e.current,null),ne=t,he=0,Vt=null,Ni=!1,vl=Is(e,t),ad=!1,rl=Jt=ud=ao=Fi=Le=0,kt=ls=null,qc=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var o=31-Xt(i),l=1<<o;t|=e[o],i&=~l}return ri=t,Da(),n}function Ky(e,t){W=null,K.H=Ss,t===yl||t===Ua?(t=Rh(),he=3):t===Vf?(t=Rh(),he=4):he=t===od?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Vt=t,te===null&&(Le=1,Wr(e,un(t,e.current)))}function $y(){var e=Wt.current;return e===null?!0:(ne&4194048)===ne?fn===null:(ne&62914560)===ne||ne&536870912?e===fn:!1}function Xy(){var e=K.H;return K.H=Ss,e===null?Ss:e}function Qy(){var e=K.A;return K.A=pT,e}function ia(){Le=4,Ni||(ne&4194048)!==ne&&Wt.current!==null||(vl=!0),!(Fi&134217727)&&!(ao&134217727)||Se===null||wi(Se,ne,Jt,!1)}function Du(e,t,n){var i=ae;ae|=2;var o=Xy(),l=Qy();(Se!==e||ne!==t)&&(na=null,ul(e,t)),t=!1;var s=Le;e:do try{if(he!==0&&te!==null){var r=te,c=Vt;switch(he){case 8:cd(),s=6;break e;case 3:case 2:case 9:case 6:Wt.current===null&&(t=!0);var f=he;if(he=0,Vt=null,Vo(e,r,c,f),n&&vl){s=0;break e}break;default:f=he,he=0,Vt=null,Vo(e,r,c,f)}}yT(),s=Le;break}catch(d){Ky(e,d)}while(!0);return t&&e.shellSuspendCounter++,jn=_o=null,ae=i,K.H=o,K.A=l,te===null&&(Se=null,ne=0,Da()),s}function yT(){for(;te!==null;)Zy(te)}function vT(e,t){var n=ae;ae|=2;var i=Xy(),o=Qy();Se!==e||ne!==t?(na=null,ta=Kt()+500,ul(e,t)):vl=Is(e,t);e:do try{if(he!==0&&te!==null){t=te;var l=Vt;t:switch(he){case 1:he=0,Vt=null,Vo(e,t,l,1);break;case 2:case 9:if(Mh(l)){he=0,Vt=null,Xh(t);break}t=function(){he!==2&&he!==9||Se!==e||(he=7),Hn(e)},l.then(t,t);break e;case 3:he=7;break e;case 4:he=5;break e;case 7:Mh(l)?(he=0,Vt=null,Xh(t)):(he=0,Vt=null,Vo(e,t,l,7));break;case 5:var s=null;switch(te.tag){case 26:s=te.memoizedState;case 5:case 27:var r=te;if(s?yv(s):r.stateNode.complete){he=0,Vt=null;var c=r.sibling;if(c!==null)te=c;else{var f=r.return;f!==null?(te=f,za(f)):te=null}break t}}he=0,Vt=null,Vo(e,t,l,5);break;case 6:he=0,Vt=null,Vo(e,t,l,6);break;case 8:cd(),Le=6;break e;default:throw Error(L(462))}}ST();break}catch(d){Ky(e,d)}while(!0);return jn=_o=null,K.H=i,K.A=o,ae=n,te!==null?0:(Se=null,ne=0,Da(),Le)}function ST(){for(;te!==null&&!V_();)Zy(te)}function Zy(e){var t=Ay(e.alternate,e,ri);e.memoizedProps=e.pendingProps,t===null?za(e):te=t}function Xh(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Vh(n,t,t.pendingProps,t.type,void 0,ne);break;case 11:t=Vh(n,t,t.pendingProps,t.type.render,t.ref,ne);break;case 5:Xf(t);default:My(n,t),t=te=M0(t,ri),t=Ay(n,t,ri)}e.memoizedProps=e.pendingProps,t===null?za(e):te=t}function Vo(e,t,n,i){jn=_o=null,Xf(t),Xo=null,ys=0;var o=t.return;try{if(rT(e,o,t,n,ne)){Le=1,Wr(e,un(n,e.current)),te=null;return}}catch(l){if(o!==null)throw te=o,l;Le=1,Wr(e,un(n,e.current)),te=null;return}t.flags&32768?(oe||i===1?e=!0:vl||ne&536870912?e=!1:(Ni=e=!0,(i===2||i===9||i===3||i===6)&&(i=Wt.current,i!==null&&i.tag===13&&(i.flags|=16384))),Wy(t,e)):za(t)}function za(e){var t=e;do{if(t.flags&32768){Wy(t,Ni);return}e=t.return;var n=cT(t.alternate,t,ri);if(n!==null){te=n;return}if(t=t.sibling,t!==null){te=t;return}te=t=e}while(t!==null);Le===0&&(Le=5)}function Wy(e,t){do{var n=fT(e.alternate,e);if(n!==null){n.flags&=32767,te=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){te=e;return}te=e=n}while(e!==null);Le=6,te=null}function Qh(e,t,n,i,o,l,s,r,c){e.cancelPendingCommit=null;do Oa();while(Xe!==0);if(ae&6)throw Error(L(327));if(t!==null){if(t===e.current)throw Error(L(177));if(l=t.lanes|t.childLanes,l|=kf,W_(e,n,l,s,r,c),e===Se&&(te=Se=null,ne=0),al=t,Gi=e,ni=n,Gc=l,Hc=o,Fy=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,CT(Or,function(){return iv(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=K.T,K.T=null,o=ue.p,ue.p=2,s=ae,ae|=4;try{dT(e,t,n)}finally{ae=s,ue.p=o,K.T=i}}Xe=1,jy(),ev(),tv()}}function jy(){if(Xe===1){Xe=0;var e=Gi,t=al,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=K.T,K.T=null;var i=ue.p;ue.p=2;var o=ae;ae|=4;try{qy(t,e);var l=Bc,s=y0(e.containerInfo),r=l.focusedElem,c=l.selectionRange;if(s!==r&&r&&r.ownerDocument&&g0(r.ownerDocument.documentElement,r)){if(c!==null&&Lf(r)){var f=c.start,d=c.end;if(d===void 0&&(d=f),"selectionStart"in r)r.selectionStart=f,r.selectionEnd=Math.min(d,r.value.length);else{var p=r.ownerDocument||document,h=p&&p.defaultView||window;if(h.getSelection){var m=h.getSelection(),S=r.textContent.length,_=Math.min(c.start,S),E=c.end===void 0?_:Math.min(c.end,S);!m.extend&&_>E&&(s=E,E=_,_=s);var g=vh(r,_),y=vh(r,E);if(g&&y&&(m.rangeCount!==1||m.anchorNode!==g.node||m.anchorOffset!==g.offset||m.focusNode!==y.node||m.focusOffset!==y.offset)){var v=p.createRange();v.setStart(g.node,g.offset),m.removeAllRanges(),_>E?(m.addRange(v),m.extend(y.node,y.offset)):(v.setEnd(y.node,y.offset),m.addRange(v))}}}}for(p=[],m=r;m=m.parentNode;)m.nodeType===1&&p.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<p.length;r++){var C=p[r];C.element.scrollLeft=C.left,C.element.scrollTop=C.top}}fa=!!Vc,Bc=Vc=null}finally{ae=o,ue.p=i,K.T=n}}e.current=t,Xe=2}}function ev(){if(Xe===2){Xe=0;var e=Gi,t=al,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=K.T,K.T=null;var i=ue.p;ue.p=2;var o=ae;ae|=4;try{Dy(e,t.alternate,t)}finally{ae=o,ue.p=i,K.T=n}}Xe=3}}function tv(){if(Xe===4||Xe===3){Xe=0,B_();var e=Gi,t=al,n=ni,i=Fy;t.subtreeFlags&10256||t.flags&10256?Xe=5:(Xe=0,al=Gi=null,nv(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(qi=null),bf(n),t=t.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(Ds,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=K.T,o=ue.p,ue.p=2,K.T=null;try{for(var l=e.onRecoverableError,s=0;s<i.length;s++){var r=i[s];l(r.value,{componentStack:r.stack})}}finally{K.T=t,ue.p=o}}ni&3&&Oa(),Hn(e),o=e.pendingLanes,n&261930&&o&42?e===Pc?ss++:(ss=0,Pc=e):ss=0,Ps(0)}}function nv(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,qs(t)))}function Oa(){return jy(),ev(),tv(),iv()}function iv(){if(Xe!==5)return!1;var e=Gi,t=Gc;Gc=0;var n=bf(ni),i=K.T,o=ue.p;try{ue.p=32>n?32:n,K.T=null,n=Hc,Hc=null;var l=Gi,s=ni;if(Xe=0,al=Gi=null,ni=0,ae&6)throw Error(L(331));var r=ae;if(ae|=4,Oy(l.current),Hy(l,l.current,s,n),ae=r,Ps(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(Ds,l)}catch{}return!0}finally{ue.p=o,K.T=i,nv(e,t)}}function Zh(e,t,n){t=un(n,t),t=Ic(e.stateNode,t,2),e=ki(e,t,2),e!==null&&(Us(e,2),Hn(e))}function pe(e,t,n){if(e.tag===3)Zh(e,e,n);else for(;t!==null;){if(t.tag===3){Zh(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(qi===null||!qi.has(i))){e=un(n,e),n=vy(2),i=ki(t,n,2),i!==null&&(Sy(n,i,t,e),Us(i,2),Hn(i));break}}t=t.return}}function Iu(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new mT;var o=new Set;i.set(t,o)}else o=i.get(t),o===void 0&&(o=new Set,i.set(t,o));o.has(n)||(ad=!0,o.add(n),e=_T.bind(null,e,t,n),t.then(e,e))}function _T(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Se===e&&(ne&n)===n&&(Le===4||Le===3&&(ne&62914560)===ne&&300>Kt()-Ha?!(ae&2)&&ul(e,0):ud|=n,rl===ne&&(rl=0)),Hn(e)}function ov(e,t){t===0&&(t=Xg()),e=So(e,t),e!==null&&(Us(e,t),Hn(e))}function ET(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ov(e,n)}function TT(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(L(314))}i!==null&&i.delete(t),ov(e,n)}function CT(e,t){return Mf(e,t)}var oa=null,xo=null,zc=!1,la=!1,Uu=!1,Di=0;function Hn(e){e!==xo&&e.next===null&&(xo===null?oa=xo=e:xo=xo.next=e),la=!0,zc||(zc=!0,MT())}function Ps(e,t){if(!Uu&&la){Uu=!0;do for(var n=!1,i=oa;i!==null;){if(e!==0){var o=i.pendingLanes;if(o===0)var l=0;else{var s=i.suspendedLanes,r=i.pingedLanes;l=(1<<31-Xt(42|e)+1)-1,l&=o&~(s&~r),l=l&201326741?l&201326741|1:l?l|2:0}l!==0&&(n=!0,Wh(i,l))}else l=ne,l=ba(i,i===Se?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(l&3)||Is(i,l)||(n=!0,Wh(i,l));i=i.next}while(n);Uu=!1}}function AT(){lv()}function lv(){la=zc=!1;var e=0;Di!==0&&kT()&&(e=Di);for(var t=Kt(),n=null,i=oa;i!==null;){var o=i.next,l=sv(i,t);l===0?(i.next=null,n===null?oa=o:n.next=o,o===null&&(xo=n)):(n=i,(e!==0||l&3)&&(la=!0)),i=o}Xe!==0&&Xe!==5||Ps(e),Di!==0&&(Di=0)}function sv(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,l=e.pendingLanes&-62914561;0<l;){var s=31-Xt(l),r=1<<s,c=o[s];c===-1?(!(r&n)||r&i)&&(o[s]=Z_(r,t)):c<=t&&(e.expiredLanes|=r),l&=~r}if(t=Se,n=ne,n=ba(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(he===2||he===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&ru(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Is(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&ru(i),bf(n)){case 2:case 8:n=Kg;break;case 32:n=Or;break;case 268435456:n=$g;break;default:n=Or}return i=rv.bind(null,e),n=Mf(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&ru(i),e.callbackPriority=2,e.callbackNode=null,2}function rv(e,t){if(Xe!==0&&Xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Oa()&&e.callbackNode!==n)return null;var i=ne;return i=ba(e,e===Se?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Jy(e,i,t),sv(e,Kt()),e.callbackNode!=null&&e.callbackNode===n?rv.bind(null,e):null)}function Wh(e,t){if(Oa())return null;Jy(e,t,!0)}function MT(){GT(function(){ae&6?Mf(Jg,AT):lv()})}function fd(){if(Di===0){var e=ol;e===0&&(e=Xs,Xs<<=1,!(Xs&261888)&&(Xs=256)),Di=e}return Di}function jh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Sr(""+e)}function ep(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function RT(e,t,n,i,o){if(t==="submit"&&n&&n.stateNode===o){var l=jh((o[Gt]||null).action),s=i.submitter;s&&(t=(t=s[Gt]||null)?jh(t.formAction):s.getAttribute("formAction"),t!==null&&(l=t,s=null));var r=new xa("action","action",null,i,o);e.push({event:r,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Di!==0){var c=s?ep(o,s):new FormData(o);wc(n,{pending:!0,data:c,method:o.method,action:l},null,c)}}else typeof l=="function"&&(r.preventDefault(),c=s?ep(o,s):new FormData(o),wc(n,{pending:!0,data:c,method:o.method,action:l},l,c))},currentTarget:o}]})}}for(var Lu=0;Lu<vc.length;Lu++){var ku=vc[Lu],bT=ku.toLowerCase(),xT=ku[0].toUpperCase()+ku.slice(1);xn(bT,"on"+xT)}xn(S0,"onAnimationEnd");xn(_0,"onAnimationIteration");xn(E0,"onAnimationStart");xn("dblclick","onDoubleClick");xn("focusin","onFocus");xn("focusout","onBlur");xn(FE,"onTransitionRun");xn(YE,"onTransitionStart");xn(JE,"onTransitionCancel");xn(T0,"onTransitionEnd");nl("onMouseEnter",["mouseout","mouseover"]);nl("onMouseLeave",["mouseout","mouseover"]);nl("onPointerEnter",["pointerout","pointerover"]);nl("onPointerLeave",["pointerout","pointerover"]);go("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));go("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));go("onBeforeInput",["compositionend","keypress","textInput","paste"]);go("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));go("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));go("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _s="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_s));function av(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],o=i.event;i=i.listeners;e:{var l=void 0;if(t)for(var s=i.length-1;0<=s;s--){var r=i[s],c=r.instance,f=r.currentTarget;if(r=r.listener,c!==l&&o.isPropagationStopped())break e;l=r,o.currentTarget=f;try{l(o)}catch(d){Br(d)}o.currentTarget=null,l=c}else for(s=0;s<i.length;s++){if(r=i[s],c=r.instance,f=r.currentTarget,r=r.listener,c!==l&&o.isPropagationStopped())break e;l=r,o.currentTarget=f;try{l(o)}catch(d){Br(d)}o.currentTarget=null,l=c}}}}function ee(e,t){var n=t[cc];n===void 0&&(n=t[cc]=new Set);var i=e+"__bubble";n.has(i)||(uv(t,e,2,!1),n.add(i))}function qu(e,t,n){var i=0;t&&(i|=4),uv(n,e,i,t)}var lr="_reactListening"+Math.random().toString(36).slice(2);function dd(e){if(!e[lr]){e[lr]=!0,e0.forEach(function(n){n!=="selectionchange"&&(NT.has(n)||qu(n,!1,e),qu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[lr]||(t[lr]=!0,qu("selectionchange",!1,t))}}function uv(e,t,n,i){switch(Tv(t)){case 2:var o=iC;break;case 8:o=oC;break;default:o=gd}n=o.bind(null,t,n,e),o=void 0,!mc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Gu(e,t,n,i,o){var l=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var r=i.stateNode.containerInfo;if(r===o)break;if(s===4)for(s=i.return;s!==null;){var c=s.tag;if((c===3||c===4)&&s.stateNode.containerInfo===o)return;s=s.return}for(;r!==null;){if(s=Uo(r),s===null)return;if(c=s.tag,c===5||c===6||c===26||c===27){i=l=s;continue e}r=r.parentNode}}i=i.return}a0(function(){var f=l,d=wf(n),p=[];e:{var h=C0.get(e);if(h!==void 0){var m=xa,S=e;switch(e){case"keypress":if(Er(n)===0)break e;case"keydown":case"keyup":m=TE;break;case"focusin":S="focus",m=du;break;case"focusout":S="blur",m=du;break;case"beforeblur":case"afterblur":m=du;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=ah;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=cE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=ME;break;case S0:case _0:case E0:m=hE;break;case T0:m=bE;break;case"scroll":case"scrollend":m=aE;break;case"wheel":m=NE;break;case"copy":case"cut":case"paste":m=mE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=ch;break;case"toggle":case"beforetoggle":m=DE}var _=(t&4)!==0,E=!_&&(e==="scroll"||e==="scrollend"),g=_?h!==null?h+"Capture":null:h;_=[];for(var y=f,v;y!==null;){var C=y;if(v=C.stateNode,C=C.tag,C!==5&&C!==26&&C!==27||v===null||g===null||(C=ds(y,g),C!=null&&_.push(Es(y,C,v))),E)break;y=y.return}0<_.length&&(h=new m(h,S,null,n,d),p.push({event:h,listeners:_}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==pc&&(S=n.relatedTarget||n.fromElement)&&(Uo(S)||S[pl]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(S=n.relatedTarget||n.toElement,m=f,S=S?Uo(S):null,S!==null&&(E=ws(S),_=S.tag,S!==E||_!==5&&_!==27&&_!==6)&&(S=null)):(m=null,S=f),m!==S)){if(_=ah,C="onMouseLeave",g="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(_=ch,C="onPointerLeave",g="onPointerEnter",y="pointer"),E=m==null?h:Bl(m),v=S==null?h:Bl(S),h=new _(C,y+"leave",m,n,d),h.target=E,h.relatedTarget=v,C=null,Uo(d)===f&&(_=new _(g,y+"enter",S,n,d),_.target=v,_.relatedTarget=E,C=_),E=C,m&&S)t:{for(_=wT,g=m,y=S,v=0,C=g;C;C=_(C))v++;C=0;for(var b=y;b;b=_(b))C++;for(;0<v-C;)g=_(g),v--;for(;0<C-v;)y=_(y),C--;for(;v--;){if(g===y||y!==null&&g===y.alternate){_=g;break t}g=_(g),y=_(y)}_=null}else _=null;m!==null&&tp(p,h,m,_,!1),S!==null&&E!==null&&tp(p,E,S,_,!0)}}e:{if(h=f?Bl(f):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var U=ph;else if(hh(h))if(p0)U=OE;else{U=PE;var A=HE}else m=h.nodeName,!m||m.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?f&&Nf(f.elementType)&&(U=ph):U=zE;if(U&&(U=U(e,f))){h0(p,U,n,d);break e}A&&A(e,h,f),e==="focusout"&&f&&h.type==="number"&&f.memoizedProps.value!=null&&hc(h,"number",h.value)}switch(A=f?Bl(f):window,e){case"focusin":(hh(A)||A.contentEditable==="true")&&(qo=A,gc=f,Zl=null);break;case"focusout":Zl=gc=qo=null;break;case"mousedown":yc=!0;break;case"contextmenu":case"mouseup":case"dragend":yc=!1,Sh(p,n,d);break;case"selectionchange":if(BE)break;case"keydown":case"keyup":Sh(p,n,d)}var x;if(Uf)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else ko?f0(e,n)&&(w="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(c0&&n.locale!=="ko"&&(ko||w!=="onCompositionStart"?w==="onCompositionEnd"&&ko&&(x=u0()):(xi=d,Df="value"in xi?xi.value:xi.textContent,ko=!0)),A=sa(f,w),0<A.length&&(w=new uh(w,e,null,n,d),p.push({event:w,listeners:A}),x?w.data=x:(x=d0(n),x!==null&&(w.data=x)))),(x=UE?LE(e,n):kE(e,n))&&(w=sa(f,"onBeforeInput"),0<w.length&&(A=new uh("onBeforeInput","beforeinput",null,n,d),p.push({event:A,listeners:w}),A.data=x)),RT(p,e,f,n,d)}av(p,t)})}function Es(e,t,n){return{instance:e,listener:t,currentTarget:n}}function sa(e,t){for(var n=t+"Capture",i=[];e!==null;){var o=e,l=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||l===null||(o=ds(e,n),o!=null&&i.unshift(Es(e,o,l)),o=ds(e,t),o!=null&&i.push(Es(e,o,l))),e.tag===3)return i;e=e.return}return[]}function wT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function tp(e,t,n,i,o){for(var l=t._reactName,s=[];n!==null&&n!==i;){var r=n,c=r.alternate,f=r.stateNode;if(r=r.tag,c!==null&&c===i)break;r!==5&&r!==26&&r!==27||f===null||(c=f,o?(f=ds(n,l),f!=null&&s.unshift(Es(n,f,c))):o||(f=ds(n,l),f!=null&&s.push(Es(n,f,c)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var DT=/\r\n?/g,IT=/\u0000|\uFFFD/g;function np(e){return(typeof e=="string"?e:""+e).replace(DT,`
`).replace(IT,"")}function cv(e,t){return t=np(t),np(e)===t}function ge(e,t,n,i,o,l){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||il(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&il(e,""+i);break;case"className":Ws(e,"class",i);break;case"tabIndex":Ws(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Ws(e,n,i);break;case"style":r0(e,i,l);break;case"data":if(t!=="object"){Ws(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Sr(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof l=="function"&&(n==="formAction"?(t!=="input"&&ge(e,t,"name",o.name,o,null),ge(e,t,"formEncType",o.formEncType,o,null),ge(e,t,"formMethod",o.formMethod,o,null),ge(e,t,"formTarget",o.formTarget,o,null)):(ge(e,t,"encType",o.encType,o,null),ge(e,t,"method",o.method,o,null),ge(e,t,"target",o.target,o,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Sr(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Wn);break;case"onScroll":i!=null&&ee("scroll",e);break;case"onScrollEnd":i!=null&&ee("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(L(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(L(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=Sr(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":ee("beforetoggle",e),ee("toggle",e),vr(e,"popover",i);break;case"xlinkActuate":Fn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Fn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Fn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Fn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Fn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Fn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Fn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Fn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Fn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":vr(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=sE.get(n)||n,vr(e,n,i))}}function Oc(e,t,n,i,o,l){switch(n){case"style":r0(e,i,l);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(L(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(L(60));e.innerHTML=n}}break;case"children":typeof i=="string"?il(e,i):(typeof i=="number"||typeof i=="bigint")&&il(e,""+i);break;case"onScroll":i!=null&&ee("scroll",e);break;case"onScrollEnd":i!=null&&ee("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!t0.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),l=e[Gt]||null,l=l!=null?l[n]:null,typeof l=="function"&&e.removeEventListener(t,l,o),typeof i=="function")){typeof l!="function"&&l!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,o);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):vr(e,n,i)}}}function ut(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ee("error",e),ee("load",e);var i=!1,o=!1,l;for(l in n)if(n.hasOwnProperty(l)){var s=n[l];if(s!=null)switch(l){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(L(137,t));default:ge(e,t,l,s,n,null)}}o&&ge(e,t,"srcSet",n.srcSet,n,null),i&&ge(e,t,"src",n.src,n,null);return;case"input":ee("invalid",e);var r=l=s=o=null,c=null,f=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":o=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":f=d;break;case"value":l=d;break;case"defaultValue":r=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(L(137,t));break;default:ge(e,t,i,d,n,null)}}o0(e,l,r,c,f,s,o,!1);return;case"select":ee("invalid",e),i=s=l=null;for(o in n)if(n.hasOwnProperty(o)&&(r=n[o],r!=null))switch(o){case"value":l=r;break;case"defaultValue":s=r;break;case"multiple":i=r;default:ge(e,t,o,r,n,null)}t=l,n=s,e.multiple=!!i,t!=null?Jo(e,!!i,t,!1):n!=null&&Jo(e,!!i,n,!0);return;case"textarea":ee("invalid",e),l=o=i=null;for(s in n)if(n.hasOwnProperty(s)&&(r=n[s],r!=null))switch(s){case"value":i=r;break;case"defaultValue":o=r;break;case"children":l=r;break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(L(91));break;default:ge(e,t,s,r,n,null)}s0(e,i,o,l);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:ge(e,t,c,i,n,null)}return;case"dialog":ee("beforetoggle",e),ee("toggle",e),ee("cancel",e),ee("close",e);break;case"iframe":case"object":ee("load",e);break;case"video":case"audio":for(i=0;i<_s.length;i++)ee(_s[i],e);break;case"image":ee("error",e),ee("load",e);break;case"details":ee("toggle",e);break;case"embed":case"source":case"link":ee("error",e),ee("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(f in n)if(n.hasOwnProperty(f)&&(i=n[f],i!=null))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(L(137,t));default:ge(e,t,f,i,n,null)}return;default:if(Nf(t)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&Oc(e,t,d,i,n,void 0));return}}for(r in n)n.hasOwnProperty(r)&&(i=n[r],i!=null&&ge(e,t,r,i,n,null))}function UT(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,l=null,s=null,r=null,c=null,f=null,d=null;for(m in n){var p=n[m];if(n.hasOwnProperty(m)&&p!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":c=p;default:i.hasOwnProperty(m)||ge(e,t,m,null,i,p)}}for(var h in i){var m=i[h];if(p=n[h],i.hasOwnProperty(h)&&(m!=null||p!=null))switch(h){case"type":l=m;break;case"name":o=m;break;case"checked":f=m;break;case"defaultChecked":d=m;break;case"value":s=m;break;case"defaultValue":r=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(L(137,t));break;default:m!==p&&ge(e,t,h,m,i,p)}}dc(e,s,r,c,f,d,l,o);return;case"select":m=s=r=h=null;for(l in n)if(c=n[l],n.hasOwnProperty(l)&&c!=null)switch(l){case"value":break;case"multiple":m=c;default:i.hasOwnProperty(l)||ge(e,t,l,null,i,c)}for(o in i)if(l=i[o],c=n[o],i.hasOwnProperty(o)&&(l!=null||c!=null))switch(o){case"value":h=l;break;case"defaultValue":r=l;break;case"multiple":s=l;default:l!==c&&ge(e,t,o,l,i,c)}t=r,n=s,i=m,h!=null?Jo(e,!!n,h,!1):!!i!=!!n&&(t!=null?Jo(e,!!n,t,!0):Jo(e,!!n,n?[]:"",!1));return;case"textarea":m=h=null;for(r in n)if(o=n[r],n.hasOwnProperty(r)&&o!=null&&!i.hasOwnProperty(r))switch(r){case"value":break;case"children":break;default:ge(e,t,r,null,i,o)}for(s in i)if(o=i[s],l=n[s],i.hasOwnProperty(s)&&(o!=null||l!=null))switch(s){case"value":h=o;break;case"defaultValue":m=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(L(91));break;default:o!==l&&ge(e,t,s,o,i,l)}l0(e,h,m);return;case"option":for(var S in n)if(h=n[S],n.hasOwnProperty(S)&&h!=null&&!i.hasOwnProperty(S))switch(S){case"selected":e.selected=!1;break;default:ge(e,t,S,null,i,h)}for(c in i)if(h=i[c],m=n[c],i.hasOwnProperty(c)&&h!==m&&(h!=null||m!=null))switch(c){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ge(e,t,c,h,i,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _ in n)h=n[_],n.hasOwnProperty(_)&&h!=null&&!i.hasOwnProperty(_)&&ge(e,t,_,null,i,h);for(f in i)if(h=i[f],m=n[f],i.hasOwnProperty(f)&&h!==m&&(h!=null||m!=null))switch(f){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(L(137,t));break;default:ge(e,t,f,h,i,m)}return;default:if(Nf(t)){for(var E in n)h=n[E],n.hasOwnProperty(E)&&h!==void 0&&!i.hasOwnProperty(E)&&Oc(e,t,E,void 0,i,h);for(d in i)h=i[d],m=n[d],!i.hasOwnProperty(d)||h===m||h===void 0&&m===void 0||Oc(e,t,d,h,i,m);return}}for(var g in n)h=n[g],n.hasOwnProperty(g)&&h!=null&&!i.hasOwnProperty(g)&&ge(e,t,g,null,i,h);for(p in i)h=i[p],m=n[p],!i.hasOwnProperty(p)||h===m||h==null&&m==null||ge(e,t,p,h,i,m)}function ip(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function LT(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var o=n[i],l=o.transferSize,s=o.initiatorType,r=o.duration;if(l&&r&&ip(s)){for(s=0,r=o.responseEnd,i+=1;i<n.length;i++){var c=n[i],f=c.startTime;if(f>r)break;var d=c.transferSize,p=c.initiatorType;d&&ip(p)&&(c=c.responseEnd,s+=d*(c<r?1:(r-f)/(c-f)))}if(--i,t+=8*(l+s)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Vc=null,Bc=null;function ra(e){return e.nodeType===9?e:e.ownerDocument}function op(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fv(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Fc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hu=null;function kT(){var e=window.event;return e&&e.type==="popstate"?e===Hu?!1:(Hu=e,!0):(Hu=null,!1)}var dv=typeof setTimeout=="function"?setTimeout:void 0,qT=typeof clearTimeout=="function"?clearTimeout:void 0,lp=typeof Promise=="function"?Promise:void 0,GT=typeof queueMicrotask=="function"?queueMicrotask:typeof lp<"u"?function(e){return lp.resolve(null).then(e).catch(HT)}:dv;function HT(e){setTimeout(function(){throw e})}function Ji(e){return e==="head"}function sp(e,t){var n=t,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(o),fl(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")rs(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,rs(n);for(var l=n.firstChild;l;){var s=l.nextSibling,r=l.nodeName;l[Ls]||r==="SCRIPT"||r==="STYLE"||r==="LINK"&&l.rel.toLowerCase()==="stylesheet"||n.removeChild(l),l=s}}else n==="body"&&rs(e.ownerDocument.body);n=o}while(n);fl(t)}function rp(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function Yc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Yc(n),xf(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function PT(e,t,n,i){for(;e.nodeType===1;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Ls])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(l=e.getAttribute("rel"),l==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(l!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(l=e.getAttribute("src"),(l!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&l&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var l=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===l)return e}else return e;if(e=dn(e.nextSibling),e===null)break}return null}function zT(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=dn(e.nextSibling),e===null))return null;return e}function hv(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=dn(e.nextSibling),e===null))return null;return e}function Jc(e){return e.data==="$?"||e.data==="$~"}function Kc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function OT(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function dn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var $c=null;function ap(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return dn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function up(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function pv(e,t,n){switch(t=ra(n),e){case"html":if(e=t.documentElement,!e)throw Error(L(452));return e;case"head":if(e=t.head,!e)throw Error(L(453));return e;case"body":if(e=t.body,!e)throw Error(L(454));return e;default:throw Error(L(451))}}function rs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);xf(e)}var pn=new Map,cp=new Set;function aa(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ci=ue.d;ue.d={f:VT,r:BT,D:FT,C:YT,L:JT,m:KT,X:XT,S:$T,M:QT};function VT(){var e=ci.f(),t=Pa();return e||t}function BT(e){var t=ml(e);t!==null&&t.tag===5&&t.type==="form"?ry(t):ci.r(e)}var Sl=typeof document>"u"?null:document;function mv(e,t,n){var i=Sl;if(i&&typeof t=="string"&&t){var o=an(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),cp.has(o)||(cp.add(o),e={rel:e,crossOrigin:n,href:t},i.querySelector(o)===null&&(t=i.createElement("link"),ut(t,"link",e),et(t),i.head.appendChild(t)))}}function FT(e){ci.D(e),mv("dns-prefetch",e,null)}function YT(e,t){ci.C(e,t),mv("preconnect",e,t)}function JT(e,t,n){ci.L(e,t,n);var i=Sl;if(i&&e&&t){var o='link[rel="preload"][as="'+an(t)+'"]';t==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+an(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+an(n.imageSizes)+'"]')):o+='[href="'+an(e)+'"]';var l=o;switch(t){case"style":l=cl(e);break;case"script":l=_l(e)}pn.has(l)||(e=Re({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),pn.set(l,e),i.querySelector(o)!==null||t==="style"&&i.querySelector(zs(l))||t==="script"&&i.querySelector(Os(l))||(t=i.createElement("link"),ut(t,"link",e),et(t),i.head.appendChild(t)))}}function KT(e,t){ci.m(e,t);var n=Sl;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+an(i)+'"][href="'+an(e)+'"]',l=o;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":l=_l(e)}if(!pn.has(l)&&(e=Re({rel:"modulepreload",href:e},t),pn.set(l,e),n.querySelector(o)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Os(l)))return}i=n.createElement("link"),ut(i,"link",e),et(i),n.head.appendChild(i)}}}function $T(e,t,n){ci.S(e,t,n);var i=Sl;if(i&&e){var o=Yo(i).hoistableStyles,l=cl(e);t=t||"default";var s=o.get(l);if(!s){var r={loading:0,preload:null};if(s=i.querySelector(zs(l)))r.loading=5;else{e=Re({rel:"stylesheet",href:e,"data-precedence":t},n),(n=pn.get(l))&&hd(e,n);var c=s=i.createElement("link");et(c),ut(c,"link",e),c._p=new Promise(function(f,d){c.onload=f,c.onerror=d}),c.addEventListener("load",function(){r.loading|=1}),c.addEventListener("error",function(){r.loading|=2}),r.loading|=4,Nr(s,t,i)}s={type:"stylesheet",instance:s,count:1,state:r},o.set(l,s)}}}function XT(e,t){ci.X(e,t);var n=Sl;if(n&&e){var i=Yo(n).hoistableScripts,o=_l(e),l=i.get(o);l||(l=n.querySelector(Os(o)),l||(e=Re({src:e,async:!0},t),(t=pn.get(o))&&pd(e,t),l=n.createElement("script"),et(l),ut(l,"link",e),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},i.set(o,l))}}function QT(e,t){ci.M(e,t);var n=Sl;if(n&&e){var i=Yo(n).hoistableScripts,o=_l(e),l=i.get(o);l||(l=n.querySelector(Os(o)),l||(e=Re({src:e,async:!0,type:"module"},t),(t=pn.get(o))&&pd(e,t),l=n.createElement("script"),et(l),ut(l,"link",e),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},i.set(o,l))}}function fp(e,t,n,i){var o=(o=Ii.current)?aa(o):null;if(!o)throw Error(L(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=cl(n.href),n=Yo(o).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=cl(n.href);var l=Yo(o).hoistableStyles,s=l.get(e);if(s||(o=o.ownerDocument||o,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},l.set(e,s),(l=o.querySelector(zs(e)))&&!l._p&&(s.instance=l,s.state.loading=5),pn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},pn.set(e,n),l||ZT(o,e,n,s.state))),t&&i===null)throw Error(L(528,""));return s}if(t&&i!==null)throw Error(L(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=_l(n),n=Yo(o).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(L(444,e))}}function cl(e){return'href="'+an(e)+'"'}function zs(e){return'link[rel="stylesheet"]['+e+"]"}function gv(e){return Re({},e,{"data-precedence":e.precedence,precedence:null})}function ZT(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),ut(t,"link",n),et(t),e.head.appendChild(t))}function _l(e){return'[src="'+an(e)+'"]'}function Os(e){return"script[async]"+e}function dp(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+an(n.href)+'"]');if(i)return t.instance=i,et(i),i;var o=Re({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),et(i),ut(i,"style",o),Nr(i,n.precedence,e),t.instance=i;case"stylesheet":o=cl(n.href);var l=e.querySelector(zs(o));if(l)return t.state.loading|=4,t.instance=l,et(l),l;i=gv(n),(o=pn.get(o))&&hd(i,o),l=(e.ownerDocument||e).createElement("link"),et(l);var s=l;return s._p=new Promise(function(r,c){s.onload=r,s.onerror=c}),ut(l,"link",i),t.state.loading|=4,Nr(l,n.precedence,e),t.instance=l;case"script":return l=_l(n.src),(o=e.querySelector(Os(l)))?(t.instance=o,et(o),o):(i=n,(o=pn.get(l))&&(i=Re({},n),pd(i,o)),e=e.ownerDocument||e,o=e.createElement("script"),et(o),ut(o,"link",i),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(L(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,Nr(i,n.precedence,e));return t.instance}function Nr(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=i.length?i[i.length-1]:null,l=o,s=0;s<i.length;s++){var r=i[s];if(r.dataset.precedence===t)l=r;else if(l!==o)break}l?l.parentNode.insertBefore(e,l.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function hd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function pd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var wr=null;function hp(e,t,n){if(wr===null){var i=new Map,o=wr=new Map;o.set(n,i)}else o=wr,i=o.get(n),i||(i=new Map,o.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var l=n[o];if(!(l[Ls]||l[st]||e==="link"&&l.getAttribute("rel")==="stylesheet")&&l.namespaceURI!=="http://www.w3.org/2000/svg"){var s=l.getAttribute(t)||"";s=e+s;var r=i.get(s);r?r.push(l):i.set(s,[l])}}return i}function pp(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function WT(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function yv(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function jT(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var o=cl(i.href),l=t.querySelector(zs(o));if(l){t=l._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ua.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=l,et(l);return}l=t.ownerDocument||t,i=gv(i),(o=pn.get(o))&&hd(i,o),l=l.createElement("link"),et(l);var s=l;s._p=new Promise(function(r,c){s.onload=r,s.onerror=c}),ut(l,"link",i),n.instance=l}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=ua.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Pu=0;function eC(e,t){return e.stylesheets&&e.count===0&&Dr(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&Dr(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4+t);0<e.imgBytes&&Pu===0&&(Pu=62500*LT());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Dr(e,e.stylesheets),e.unsuspend)){var l=e.unsuspend;e.unsuspend=null,l()}},(e.imgBytes>Pu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(o)}}:null}function ua(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ca=null;function Dr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ca=new Map,t.forEach(tC,e),ca=null,ua.call(e))}function tC(e,t){if(!(t.state.loading&4)){var n=ca.get(e);if(n)var i=n.get(null);else{n=new Map,ca.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),l=0;l<o.length;l++){var s=o[l];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),i=s)}i&&n.set(null,i)}o=t.instance,s=o.getAttribute("data-precedence"),l=n.get(s)||i,l===i&&n.set(null,o),n.set(s,o),this.count++,i=ua.bind(this),o.addEventListener("load",i),o.addEventListener("error",i),l?l.parentNode.insertBefore(o,l.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Ts={$$typeof:Zn,Provider:null,Consumer:null,_currentValue:oo,_currentValue2:oo,_threadCount:0};function nC(e,t,n,i,o,l,s,r,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=au(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=au(0),this.hiddenUpdates=au(null),this.identifierPrefix=i,this.onUncaughtError=o,this.onCaughtError=l,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function vv(e,t,n,i,o,l,s,r,c,f,d,p){return e=new nC(e,t,n,s,c,f,d,p,r),t=1,l===!0&&(t|=24),l=Ft(3,null,null,t),e.current=l,l.stateNode=e,t=zf(),t.refCount++,e.pooledCache=t,t.refCount++,l.memoizedState={element:i,isDehydrated:n,cache:t},Bf(l),e}function Sv(e){return e?(e=Po,e):Po}function _v(e,t,n,i,o,l){o=Sv(o),i.context===null?i.context=o:i.pendingContext=o,i=Li(t),i.payload={element:n},l=l===void 0?null:l,l!==null&&(i.callback=l),n=ki(e,i,t),n!==null&&(qt(n,e,t),jl(n,e,t))}function mp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function md(e,t){mp(e,t),(e=e.alternate)&&mp(e,t)}function Ev(e){if(e.tag===13||e.tag===31){var t=So(e,67108864);t!==null&&qt(t,e,67108864),md(e,67108864)}}function gp(e){if(e.tag===13||e.tag===31){var t=Qt();t=Rf(t);var n=So(e,t);n!==null&&qt(n,e,t),md(e,t)}}var fa=!0;function iC(e,t,n,i){var o=K.T;K.T=null;var l=ue.p;try{ue.p=2,gd(e,t,n,i)}finally{ue.p=l,K.T=o}}function oC(e,t,n,i){var o=K.T;K.T=null;var l=ue.p;try{ue.p=8,gd(e,t,n,i)}finally{ue.p=l,K.T=o}}function gd(e,t,n,i){if(fa){var o=Xc(i);if(o===null)Gu(e,t,i,da,n),yp(e,i);else if(sC(o,e,t,n,i))i.stopPropagation();else if(yp(e,i),t&4&&-1<lC.indexOf(e)){for(;o!==null;){var l=ml(o);if(l!==null)switch(l.tag){case 3:if(l=l.stateNode,l.current.memoizedState.isDehydrated){var s=ji(l.pendingLanes);if(s!==0){var r=l;for(r.pendingLanes|=2,r.entangledLanes|=2;s;){var c=1<<31-Xt(s);r.entanglements[1]|=c,s&=~c}Hn(l),!(ae&6)&&(ta=Kt()+500,Ps(0))}}break;case 31:case 13:r=So(l,2),r!==null&&qt(r,l,2),Pa(),md(l,2)}if(l=Xc(i),l===null&&Gu(e,t,i,da,n),l===o)break;o=l}o!==null&&i.stopPropagation()}else Gu(e,t,i,null,n)}}function Xc(e){return e=wf(e),yd(e)}var da=null;function yd(e){if(da=null,e=Uo(e),e!==null){var t=ws(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Og(t),e!==null)return e;e=null}else if(n===31){if(e=Vg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return da=e,null}function Tv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(F_()){case Jg:return 2;case Kg:return 8;case Or:case Y_:return 32;case $g:return 268435456;default:return 32}default:return 32}}var Qc=!1,Hi=null,Pi=null,zi=null,Cs=new Map,As=new Map,Ri=[],lC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yp(e,t){switch(e){case"focusin":case"focusout":Hi=null;break;case"dragenter":case"dragleave":Pi=null;break;case"mouseover":case"mouseout":zi=null;break;case"pointerover":case"pointerout":Cs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":As.delete(t.pointerId)}}function Gl(e,t,n,i,o,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:l,targetContainers:[o]},t!==null&&(t=ml(t),t!==null&&Ev(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function sC(e,t,n,i,o){switch(t){case"focusin":return Hi=Gl(Hi,e,t,n,i,o),!0;case"dragenter":return Pi=Gl(Pi,e,t,n,i,o),!0;case"mouseover":return zi=Gl(zi,e,t,n,i,o),!0;case"pointerover":var l=o.pointerId;return Cs.set(l,Gl(Cs.get(l)||null,e,t,n,i,o)),!0;case"gotpointercapture":return l=o.pointerId,As.set(l,Gl(As.get(l)||null,e,t,n,i,o)),!0}return!1}function Cv(e){var t=Uo(e.target);if(t!==null){var n=ws(t);if(n!==null){if(t=n.tag,t===13){if(t=Og(n),t!==null){e.blockedOn=t,th(e.priority,function(){gp(n)});return}}else if(t===31){if(t=Vg(n),t!==null){e.blockedOn=t,th(e.priority,function(){gp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ir(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xc(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);pc=i,n.target.dispatchEvent(i),pc=null}else return t=ml(n),t!==null&&Ev(t),e.blockedOn=n,!1;t.shift()}return!0}function vp(e,t,n){Ir(e)&&n.delete(t)}function rC(){Qc=!1,Hi!==null&&Ir(Hi)&&(Hi=null),Pi!==null&&Ir(Pi)&&(Pi=null),zi!==null&&Ir(zi)&&(zi=null),Cs.forEach(vp),As.forEach(vp)}function sr(e,t){e.blockedOn===t&&(e.blockedOn=null,Qc||(Qc=!0,Qe.unstable_scheduleCallback(Qe.unstable_NormalPriority,rC)))}var rr=null;function Sp(e){rr!==e&&(rr=e,Qe.unstable_scheduleCallback(Qe.unstable_NormalPriority,function(){rr===e&&(rr=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],o=e[t+2];if(typeof i!="function"){if(yd(i||n)===null)continue;break}var l=ml(n);l!==null&&(e.splice(t,3),t-=3,wc(l,{pending:!0,data:o,method:n.method,action:i},i,o))}}))}function fl(e){function t(c){return sr(c,e)}Hi!==null&&sr(Hi,e),Pi!==null&&sr(Pi,e),zi!==null&&sr(zi,e),Cs.forEach(t),As.forEach(t);for(var n=0;n<Ri.length;n++){var i=Ri[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Ri.length&&(n=Ri[0],n.blockedOn===null);)Cv(n),n.blockedOn===null&&Ri.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var o=n[i],l=n[i+1],s=o[Gt]||null;if(typeof l=="function")s||Sp(n);else if(s){var r=null;if(l&&l.hasAttribute("formAction")){if(o=l,s=l[Gt]||null)r=s.formAction;else if(yd(o)!==null)continue}else r=s.action;typeof r=="function"?n[i+1]=r:(n.splice(i,3),i-=3),Sp(n)}}}function Av(){function e(l){l.canIntercept&&l.info==="react-transition"&&l.intercept({handler:function(){return new Promise(function(s){return o=s})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var l=navigation.currentEntry;l&&l.url!=null&&navigation.navigate(l.url,{state:l.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function vd(e){this._internalRoot=e}Va.prototype.render=vd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));var n=t.current,i=Qt();_v(n,i,e,t,null,null)};Va.prototype.unmount=vd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_v(e.current,2,null,e,null,null),Pa(),t[pl]=null}};function Va(e){this._internalRoot=e}Va.prototype.unstable_scheduleHydration=function(e){if(e){var t=jg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ri.length&&t!==0&&t<Ri[n].priority;n++);Ri.splice(n,0,e),n===0&&Cv(e)}};var _p=Pg.version;if(_p!=="19.2.3")throw Error(L(527,_p,"19.2.3"));ue.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=G_(t),e=e!==null?Bg(e):null,e=e===null?null:e.stateNode,e};var aC={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ar=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ar.isDisabled&&ar.supportsFiber)try{Ds=ar.inject(aC),$t=ar}catch{}}Ma.createRoot=function(e,t){if(!zg(e))throw Error(L(299));var n=!1,i="",o=my,l=gy,s=yy;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(l=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=vv(e,1,!1,null,null,n,i,null,o,l,s,Av),e[pl]=t.current,dd(e),new vd(t)};Ma.hydrateRoot=function(e,t,n){if(!zg(e))throw Error(L(299));var i=!1,o="",l=my,s=gy,r=yy,c=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(l=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(r=n.onRecoverableError),n.formState!==void 0&&(c=n.formState)),t=vv(e,1,!0,t,n??null,i,o,c,l,s,r,Av),t.context=Sv(null),n=t.current,i=Qt(),i=Rf(i),o=Li(i),o.callback=null,ki(n,o,i),n=i,t.current.lanes=n,Us(t,n),Hn(t),e[pl]=t.current,dd(e),new Va(t)};Ma.version="19.2.3";function Mv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Mv)}catch(e){console.error(e)}}Mv(),Ug.exports=Ma;var uC=Ug.exports;const cC=Cg(uC);function fC(e){return e!==null?{comment:e,variations:[]}:{variations:[]}}function dC(e,t,n,i,o){const l={move:e,variations:o};return t&&(l.suffix=t),n&&(l.nag=n),i!==null&&(l.comment=i),l}function hC(...e){const[t,...n]=e;let i=t;for(const o of n)o!==null&&(i.variations=[o,...o.variations],o.variations=[],i=o);return t}function pC(e,t){if(t.marker&&t.marker.comment){let n=t.root;for(;;){const i=n.variations[0];if(!i){n.comment=t.marker.comment;break}n=i}}return{headers:e,root:t.root,result:(t.marker&&t.marker.result)??void 0}}function mC(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}function dl(e,t,n,i){var o=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(o,dl.prototype),o.expected=t,o.found=n,o.location=i,o.name="SyntaxError",o}mC(dl,Error);function zu(e,t,n){return n=n||" ",e.length>t?e:(t-=e.length,n+=n.repeat(t),e+n.slice(0,t))}dl.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var n=null,i;for(i=0;i<e.length;i++)if(e[i].source===this.location.source){n=e[i].text.split(/\r\n|\n|\r/g);break}var o=this.location.start,l=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(o):o,s=this.location.source+":"+l.line+":"+l.column;if(n){var r=this.location.end,c=zu("",l.line.toString().length," "),f=n[o.line-1],d=o.line===r.line?r.column:f.length+1,p=d-o.column||1;t+=`
 --> `+s+`
`+c+` |
`+l.line+" | "+f+`
`+c+" | "+zu("",o.column-1," ")+zu("",p,"^")}else t+=`
 at `+s}return t};dl.buildMessage=function(e,t){var n={literal:function(f){return'"'+o(f.text)+'"'},class:function(f){var d=f.parts.map(function(p){return Array.isArray(p)?l(p[0])+"-"+l(p[1]):l(p)});return"["+(f.inverted?"^":"")+d.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(f){return f.description}};function i(f){return f.charCodeAt(0).toString(16).toUpperCase()}function o(f){return f.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+i(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+i(d)})}function l(f){return f.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+i(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+i(d)})}function s(f){return n[f.type](f)}function r(f){var d=f.map(s),p,h;if(d.sort(),d.length>0){for(p=1,h=1;p<d.length;p++)d[p-1]!==d[p]&&(d[h]=d[p],h++);d.length=h}switch(d.length){case 1:return d[0];case 2:return d[0]+" or "+d[1];default:return d.slice(0,-1).join(", ")+", or "+d[d.length-1]}}function c(f){return f?'"'+o(f)+'"':"end of input"}return"Expected "+r(e)+" but "+c(t)+" found."};function gC(e,t){t=t!==void 0?t:{};var n={},i=t.grammarSource,o={pgn:Od},l=Od,s="[",r='"',c="]",f=".",d="O-O-O",p="O-O",h="0-0-0",m="0-0",S="$",_="{",E="}",g=";",y="(",v=")",C="1-0",b="0-1",U="1/2-1/2",A="*",x=/^[a-zA-Z]/,w=/^[^"]/,k=/^[0-9]/,H=/^[.]/,$=/^[a-zA-Z1-8\-=]/,O=/^[+#]/,j=/^[!?]/,me=/^[^}]/,q=/^[^\r\n]/,z=/^[ \t\r\n]/,Y=pt("tag pair"),ie=Ne("[",!1),ce=Ne('"',!1),it=Ne("]",!1),Ee=pt("tag name"),Fe=Je([["a","z"],["A","Z"]],!1,!1),Ye=pt("tag value"),re=Je(['"'],!0,!1),yt=pt("move number"),Pn=Je([["0","9"]],!1,!1),ct=Ne(".",!1),wn=Je(["."],!1,!1),ke=pt("standard algebraic notation"),Nt=Ne("O-O-O",!1),gn=Ne("O-O",!1),yn=Ne("0-0-0",!1),ft=Ne("0-0",!1),jt=Je([["a","z"],["A","Z"],["1","8"],"-","="],!1,!1),dt=Je(["+","#"],!1,!1),zn=pt("suffix annotation"),pi=Je(["!","?"],!1,!1),vn=pt("NAG"),ht=Ne("$",!1),On=pt("brace comment"),mi=Ne("{",!1),Sn=Je(["}"],!0,!1),Dn=Ne("}",!1),bl=pt("rest of line comment"),xl=Ne(";",!1),_n=Je(["\r",`
`],!0,!1),En=pt("variation"),Vn=Ne("(",!1),To=Ne(")",!1),en=pt("game termination marker"),Co=Ne("1-0",!1),Nl=Ne("0-1",!1),wl=Ne("1/2-1/2",!1),fe=Ne("*",!1),le=pt("whitespace"),be=Je([" ","	","\r",`
`],!1,!1),Pt=function(M,D){return pC(M,D)},wt=function(M){return Object.fromEntries(M)},zt=function(M,D){return[M,D]},Bn=function(M,D){return{root:M,marker:D}},De=function(M,D){return hC(fC(M),...D.flat())},vt=function(M,D,I,B,F){return dC(M,D,I,B,F)},St=function(M){return M},In=function(M){return M.replace(/[\r\n]+/g," ")},Dt=function(M){return M.trim()},_t=function(M){return M},tn=function(M,D){return{result:M,comment:D}},N=t.peg$currPos|0,xe=[{line:1,column:1}],He=N,Et=t.peg$maxFailExpected||[],G=t.peg$silentFails|0,Tn;if(t.startRule){if(!(t.startRule in o))throw new Error(`Can't start parsing from rule "`+t.startRule+'".');l=o[t.startRule]}function Ne(M,D){return{type:"literal",text:M,ignoreCase:D}}function Je(M,D,I){return{type:"class",parts:M,inverted:D,ignoreCase:I}}function $i(){return{type:"end"}}function pt(M){return{type:"other",description:M}}function Pd(M){var D=xe[M],I;if(D)return D;if(M>=xe.length)I=xe.length-1;else for(I=M;!xe[--I];);for(D=xe[I],D={line:D.line,column:D.column};I<M;)e.charCodeAt(I)===10?(D.line++,D.column=1):D.column++,I++;return xe[M]=D,D}function zd(M,D,I){var B=Pd(M),F=Pd(D),de={source:i,start:{offset:M,line:B.line,column:B.column},end:{offset:D,line:F.line,column:F.column}};return de}function V(M){N<He||(N>He&&(He=N,Et=[]),Et.push(M))}function t_(M,D,I){return new dl(dl.buildMessage(M,D),M,D,I)}function Od(){var M,D,I;return M=N,D=n_(),I=l_(),M=Pt(D,I),M}function n_(){var M,D,I;for(M=N,D=[],I=Vd();I!==n;)D.push(I),I=Vd();return I=Tt(),M=wt(D),M}function Vd(){var M,D,I,B,F,de,Xi;return G++,M=N,Tt(),e.charCodeAt(N)===91?(D=s,N++):(D=n,G===0&&V(ie)),D!==n?(Tt(),I=i_(),I!==n?(Tt(),e.charCodeAt(N)===34?(B=r,N++):(B=n,G===0&&V(ce)),B!==n?(F=o_(),e.charCodeAt(N)===34?(de=r,N++):(de=n,G===0&&V(ce)),de!==n?(Tt(),e.charCodeAt(N)===93?(Xi=c,N++):(Xi=n,G===0&&V(it)),Xi!==n?M=zt(I,F):(N=M,M=n)):(N=M,M=n)):(N=M,M=n)):(N=M,M=n)):(N=M,M=n),G--,M===n&&G===0&&V(Y),M}function i_(){var M,D,I;if(G++,M=N,D=[],I=e.charAt(N),x.test(I)?N++:(I=n,G===0&&V(Fe)),I!==n)for(;I!==n;)D.push(I),I=e.charAt(N),x.test(I)?N++:(I=n,G===0&&V(Fe));else D=n;return D!==n?M=e.substring(M,N):M=D,G--,M===n&&(D=n,G===0&&V(Ee)),M}function o_(){var M,D,I;for(G++,M=N,D=[],I=e.charAt(N),w.test(I)?N++:(I=n,G===0&&V(re));I!==n;)D.push(I),I=e.charAt(N),w.test(I)?N++:(I=n,G===0&&V(re));return M=e.substring(M,N),G--,D=n,G===0&&V(Ye),M}function l_(){var M,D,I;return M=N,D=Bd(),Tt(),I=f_(),I===n&&(I=null),Tt(),M=Bn(D,I),M}function Bd(){var M,D,I,B;for(M=N,D=nu(),D===n&&(D=null),I=[],B=Fd();B!==n;)I.push(B),B=Fd();return M=De(D,I),M}function Fd(){var M,D,I,B,F,de,Xi,Js;if(M=N,Tt(),s_(),Tt(),D=r_(),D!==n){for(I=a_(),I===n&&(I=null),B=[],F=Yd();F!==n;)B.push(F),F=Yd();for(F=Tt(),de=nu(),de===n&&(de=null),Xi=[],Js=Jd();Js!==n;)Xi.push(Js),Js=Jd();M=vt(D,I,B,de,Xi)}else N=M,M=n;return M}function s_(){var M,D,I,B,F,de;for(G++,M=N,D=[],I=e.charAt(N),k.test(I)?N++:(I=n,G===0&&V(Pn));I!==n;)D.push(I),I=e.charAt(N),k.test(I)?N++:(I=n,G===0&&V(Pn));if(e.charCodeAt(N)===46?(I=f,N++):(I=n,G===0&&V(ct)),I!==n){for(B=Tt(),F=[],de=e.charAt(N),H.test(de)?N++:(de=n,G===0&&V(wn));de!==n;)F.push(de),de=e.charAt(N),H.test(de)?N++:(de=n,G===0&&V(wn));D=[D,I,B,F],M=D}else N=M,M=n;return G--,M===n&&(D=n,G===0&&V(yt)),M}function r_(){var M,D,I,B,F,de;if(G++,M=N,D=N,e.substr(N,5)===d?(I=d,N+=5):(I=n,G===0&&V(Nt)),I===n&&(e.substr(N,3)===p?(I=p,N+=3):(I=n,G===0&&V(gn)),I===n&&(e.substr(N,5)===h?(I=h,N+=5):(I=n,G===0&&V(yn)),I===n&&(e.substr(N,3)===m?(I=m,N+=3):(I=n,G===0&&V(ft)),I===n))))if(I=N,B=e.charAt(N),x.test(B)?N++:(B=n,G===0&&V(Fe)),B!==n){if(F=[],de=e.charAt(N),$.test(de)?N++:(de=n,G===0&&V(jt)),de!==n)for(;de!==n;)F.push(de),de=e.charAt(N),$.test(de)?N++:(de=n,G===0&&V(jt));else F=n;F!==n?(B=[B,F],I=B):(N=I,I=n)}else N=I,I=n;return I!==n?(B=e.charAt(N),O.test(B)?N++:(B=n,G===0&&V(dt)),B===n&&(B=null),I=[I,B],D=I):(N=D,D=n),D!==n?M=e.substring(M,N):M=D,G--,M===n&&(D=n,G===0&&V(ke)),M}function a_(){var M,D,I;for(G++,M=N,D=[],I=e.charAt(N),j.test(I)?N++:(I=n,G===0&&V(pi));I!==n;)D.push(I),D.length>=2?I=n:(I=e.charAt(N),j.test(I)?N++:(I=n,G===0&&V(pi)));return D.length<1?(N=M,M=n):M=D,G--,M===n&&(D=n,G===0&&V(zn)),M}function Yd(){var M,D,I,B,F;if(G++,M=N,Tt(),e.charCodeAt(N)===36?(D=S,N++):(D=n,G===0&&V(ht)),D!==n){if(I=N,B=[],F=e.charAt(N),k.test(F)?N++:(F=n,G===0&&V(Pn)),F!==n)for(;F!==n;)B.push(F),F=e.charAt(N),k.test(F)?N++:(F=n,G===0&&V(Pn));else B=n;B!==n?I=e.substring(I,N):I=B,I!==n?M=St(I):(N=M,M=n)}else N=M,M=n;return G--,M===n&&G===0&&V(vn),M}function nu(){var M;return M=u_(),M===n&&(M=c_()),M}function u_(){var M,D,I,B,F;if(G++,M=N,e.charCodeAt(N)===123?(D=_,N++):(D=n,G===0&&V(mi)),D!==n){for(I=N,B=[],F=e.charAt(N),me.test(F)?N++:(F=n,G===0&&V(Sn));F!==n;)B.push(F),F=e.charAt(N),me.test(F)?N++:(F=n,G===0&&V(Sn));I=e.substring(I,N),e.charCodeAt(N)===125?(B=E,N++):(B=n,G===0&&V(Dn)),B!==n?M=In(I):(N=M,M=n)}else N=M,M=n;return G--,M===n&&(D=n,G===0&&V(On)),M}function c_(){var M,D,I,B,F;if(G++,M=N,e.charCodeAt(N)===59?(D=g,N++):(D=n,G===0&&V(xl)),D!==n){for(I=N,B=[],F=e.charAt(N),q.test(F)?N++:(F=n,G===0&&V(_n));F!==n;)B.push(F),F=e.charAt(N),q.test(F)?N++:(F=n,G===0&&V(_n));I=e.substring(I,N),M=Dt(I)}else N=M,M=n;return G--,M===n&&(D=n,G===0&&V(bl)),M}function Jd(){var M,D,I,B;return G++,M=N,Tt(),e.charCodeAt(N)===40?(D=y,N++):(D=n,G===0&&V(Vn)),D!==n?(I=Bd(),I!==n?(Tt(),e.charCodeAt(N)===41?(B=v,N++):(B=n,G===0&&V(To)),B!==n?M=_t(I):(N=M,M=n)):(N=M,M=n)):(N=M,M=n),G--,M===n&&G===0&&V(En),M}function f_(){var M,D,I;return G++,M=N,e.substr(N,3)===C?(D=C,N+=3):(D=n,G===0&&V(Co)),D===n&&(e.substr(N,3)===b?(D=b,N+=3):(D=n,G===0&&V(Nl)),D===n&&(e.substr(N,7)===U?(D=U,N+=7):(D=n,G===0&&V(wl)),D===n&&(e.charCodeAt(N)===42?(D=A,N++):(D=n,G===0&&V(fe))))),D!==n?(Tt(),I=nu(),I===n&&(I=null),M=tn(D,I)):(N=M,M=n),G--,M===n&&(D=n,G===0&&V(en)),M}function Tt(){var M,D;for(G++,M=[],D=e.charAt(N),z.test(D)?N++:(D=n,G===0&&V(be));D!==n;)M.push(D),D=e.charAt(N),z.test(D)?N++:(D=n,G===0&&V(be));return G--,D=n,G===0&&V(le),M}if(Tn=l(),t.peg$library)return{peg$result:Tn,peg$currPos:N,peg$FAILED:n,peg$maxFailExpected:Et,peg$maxFailPos:He};if(Tn!==n&&N===e.length)return Tn;throw Tn!==n&&N<e.length&&V($i()),t_(Et,He<e.length?e.charAt(He):null,He<e.length?zd(He,He+1):zd(He,He))}/**
 * @license
 * Copyright (c) 2025, Jeff Hlywa (jhlywa@gmail.com)
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */const Ur=0xffffffffffffffffn;function Ou(e,t){return(e<<t|e>>64n-t)&0xffffffffffffffffn}function Ep(e,t){return e*t&Ur}function yC(e){return function(){let t=BigInt(e&Ur),n=BigInt(e>>64n&Ur);const i=Ep(Ou(Ep(t,5n),7n),9n);return n^=t,t=(Ou(t,24n)^n^n<<16n)&Ur,n=Ou(n,37n),e=n<<64n|t,i}}const Ba=yC(0xa187eb39cdcaed8f31c4b365b102e01en),vC=Array.from({length:2},()=>Array.from({length:6},()=>Array.from({length:128},()=>Ba()))),SC=Array.from({length:8},()=>Ba()),_C=Array.from({length:16},()=>Ba()),Vu=Ba(),mt="w",Ot="b",Pe="p",Zc="n",Lr="b",Jl="r",Ei="q",Ke="k",Bu="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class ur{constructor(t,n){Te(this,"color");Te(this,"from");Te(this,"to");Te(this,"piece");Te(this,"captured");Te(this,"promotion");Te(this,"flags");Te(this,"san");Te(this,"lan");Te(this,"before");Te(this,"after");const{color:i,piece:o,from:l,to:s,flags:r,captured:c,promotion:f}=n,d=Ze(l),p=Ze(s);this.color=i,this.piece=o,this.from=d,this.to=p,this.san=t._moveToSan(n,t._moves({legal:!0})),this.lan=d+p,this.before=t.fen(),t._makeMove(n),this.after=t.fen(),t._undoMove(),this.flags="";for(const h in X)X[h]&r&&(this.flags+=Zi[h]);c&&(this.captured=c),f&&(this.promotion=f,this.lan+=f)}isCapture(){return this.flags.indexOf(Zi.CAPTURE)>-1}isPromotion(){return this.flags.indexOf(Zi.PROMOTION)>-1}isEnPassant(){return this.flags.indexOf(Zi.EP_CAPTURE)>-1}isKingsideCastle(){return this.flags.indexOf(Zi.KSIDE_CASTLE)>-1}isQueensideCastle(){return this.flags.indexOf(Zi.QSIDE_CASTLE)>-1}isBigPawn(){return this.flags.indexOf(Zi.BIG_PAWN)>-1}}const ot=-1,Zi={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q",NULL_MOVE:"-"},X={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64,NULL_MOVE:128},Wc={Event:"?",Site:"?",Date:"????.??.??",Round:"?",White:"?",Black:"?",Result:"*"},EC={WhiteTitle:null,BlackTitle:null,WhiteElo:null,BlackElo:null,WhiteUSCF:null,BlackUSCF:null,WhiteNA:null,BlackNA:null,WhiteType:null,BlackType:null,EventDate:null,EventSponsor:null,Section:null,Stage:null,Board:null,Opening:null,Variation:null,SubVariation:null,ECO:null,NIC:null,Time:null,UTCTime:null,UTCDate:null,TimeControl:null,SetUp:null,FEN:null,Termination:null,Annotator:null,Mode:null,PlyCount:null},TC={...Wc,...EC},J={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},Fu={b:[16,32,17,15],w:[-16,-32,-17,-15]},Tp={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},CC=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],AC=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],MC={p:1,n:2,b:4,r:8,q:16,k:32},RC="pnbrqkPNBRQK",Cp=[Zc,Lr,Jl,Ei],bC=7,xC=6,NC=1,wC=0,cr={[Ke]:X.KSIDE_CASTLE,[Ei]:X.QSIDE_CASTLE},yi={w:[{square:J.a1,flag:X.QSIDE_CASTLE},{square:J.h1,flag:X.KSIDE_CASTLE}],b:[{square:J.a8,flag:X.QSIDE_CASTLE},{square:J.h8,flag:X.KSIDE_CASTLE}]},DC={b:NC,w:xC},Yu="--";function uo(e){return e>>4}function Ms(e){return e&15}function Rv(e){return"0123456789".indexOf(e)!==-1}function Ze(e){const t=Ms(e),n=uo(e);return"abcdefgh".substring(t,t+1)+"87654321".substring(n,n+1)}function Hl(e){return e===mt?Ot:mt}function IC(e){const t=e.split(/\s+/);if(t.length!==6)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const n=parseInt(t[5],10);if(isNaN(n)||n<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const i=parseInt(t[4],10);if(isNaN(i)||i<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(t[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(t[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(t[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const o=t[0].split("/");if(o.length!==8)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let s=0;s<o.length;s++){let r=0,c=!1;for(let f=0;f<o[s].length;f++)if(Rv(o[s][f])){if(c)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};r+=parseInt(o[s][f],10),c=!0}else{if(!/^[prnbqkPRNBQK]$/.test(o[s][f]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};r+=1,c=!1}if(r!==8)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if(t[3][1]=="3"&&t[1]=="w"||t[3][1]=="6"&&t[1]=="b")return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const l=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:s,regex:r}of l){if(!r.test(t[0]))return{ok:!1,error:`Invalid FEN: missing ${s} king`};if((t[0].match(r)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${s} kings`}}return Array.from(o[0]+o[7]).some(s=>s.toUpperCase()==="P")?{ok:!1,error:"Invalid FEN: some pawns are on the edge rows"}:{ok:!0}}function UC(e,t){const n=e.from,i=e.to,o=e.piece;let l=0,s=0,r=0;for(let c=0,f=t.length;c<f;c++){const d=t[c].from,p=t[c].to,h=t[c].piece;o===h&&n!==d&&i===p&&(l++,uo(n)===uo(d)&&s++,Ms(n)===Ms(d)&&r++)}return l>0?s>0&&r>0?Ze(n):r>0?Ze(n).charAt(1):Ze(n).charAt(0):""}function vi(e,t,n,i,o,l=void 0,s=X.NORMAL){const r=uo(i);if(o===Pe&&(r===bC||r===wC))for(let c=0;c<Cp.length;c++){const f=Cp[c];e.push({color:t,from:n,to:i,piece:o,captured:l,promotion:f,flags:s|X.PROMOTION})}else e.push({color:t,from:n,to:i,piece:o,captured:l,flags:s})}function Ap(e){let t=e.charAt(0);return t>="a"&&t<="h"?e.match(/[a-h]\d.*[a-h]\d/)?void 0:Pe:(t=t.toLowerCase(),t==="o"?Ke:t)}function Ju(e){return e.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}class fr{constructor(t=Bu,{skipValidation:n=!1}={}){Te(this,"_board",new Array(128));Te(this,"_turn",mt);Te(this,"_header",{});Te(this,"_kings",{w:ot,b:ot});Te(this,"_epSquare",-1);Te(this,"_halfMoves",0);Te(this,"_moveNumber",0);Te(this,"_history",[]);Te(this,"_comments",{});Te(this,"_castling",{w:0,b:0});Te(this,"_hash",0n);Te(this,"_positionCount",new Map);this.load(t,{skipValidation:n})}clear({preserveHeaders:t=!1}={}){this._board=new Array(128),this._kings={w:ot,b:ot},this._turn=mt,this._castling={w:0,b:0},this._epSquare=ot,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=t?this._header:{...TC},this._hash=this._computeHash(),this._positionCount=new Map,this._header.SetUp=null,this._header.FEN=null}load(t,{skipValidation:n=!1,preserveHeaders:i=!1}={}){let o=t.split(/\s+/);if(o.length>=2&&o.length<6){const r=["-","-","0","1"];t=o.concat(r.slice(-(6-o.length))).join(" ")}if(o=t.split(/\s+/),!n){const{ok:r,error:c}=IC(t);if(!r)throw new Error(c)}const l=o[0];let s=0;this.clear({preserveHeaders:i});for(let r=0;r<l.length;r++){const c=l.charAt(r);if(c==="/")s+=8;else if(Rv(c))s+=parseInt(c,10);else{const f=c<"a"?mt:Ot;this._put({type:c.toLowerCase(),color:f},Ze(s)),s++}}this._turn=o[1],o[2].indexOf("K")>-1&&(this._castling.w|=X.KSIDE_CASTLE),o[2].indexOf("Q")>-1&&(this._castling.w|=X.QSIDE_CASTLE),o[2].indexOf("k")>-1&&(this._castling.b|=X.KSIDE_CASTLE),o[2].indexOf("q")>-1&&(this._castling.b|=X.QSIDE_CASTLE),this._epSquare=o[3]==="-"?ot:J[o[3]],this._halfMoves=parseInt(o[4],10),this._moveNumber=parseInt(o[5],10),this._hash=this._computeHash(),this._updateSetup(t),this._incPositionCount()}fen({forceEnpassantSquare:t=!1}={}){var s,r;let n=0,i="";for(let c=J.a8;c<=J.h1;c++){if(this._board[c]){n>0&&(i+=n,n=0);const{color:f,type:d}=this._board[c];i+=f===mt?d.toUpperCase():d.toLowerCase()}else n++;c+1&136&&(n>0&&(i+=n),c!==J.h1&&(i+="/"),n=0,c+=8)}let o="";this._castling[mt]&X.KSIDE_CASTLE&&(o+="K"),this._castling[mt]&X.QSIDE_CASTLE&&(o+="Q"),this._castling[Ot]&X.KSIDE_CASTLE&&(o+="k"),this._castling[Ot]&X.QSIDE_CASTLE&&(o+="q"),o=o||"-";let l="-";if(this._epSquare!==ot)if(t)l=Ze(this._epSquare);else{const c=this._epSquare+(this._turn===mt?16:-16),f=[c+1,c-1];for(const d of f){if(d&136)continue;const p=this._turn;if(((s=this._board[d])==null?void 0:s.color)===p&&((r=this._board[d])==null?void 0:r.type)===Pe){this._makeMove({color:p,from:d,to:this._epSquare,piece:Pe,captured:Pe,flags:X.EP_CAPTURE});const h=!this._isKingAttacked(p);if(this._undoMove(),h){l=Ze(this._epSquare);break}}}}return[i,this._turn,o,l,this._halfMoves,this._moveNumber].join(" ")}_pieceKey(t){if(!this._board[t])return 0n;const{color:n,type:i}=this._board[t],o={w:0,b:1}[n],l={p:0,n:1,b:2,r:3,q:4,k:5}[i];return vC[o][l][t]}_epKey(){return this._epSquare===ot?0n:SC[this._epSquare&7]}_castlingKey(){const t=this._castling.w>>5|this._castling.b>>3;return _C[t]}_computeHash(){let t=0n;for(let n=J.a8;n<=J.h1;n++){if(n&136){n+=7;continue}this._board[n]&&(t^=this._pieceKey(n))}return t^=this._epKey(),t^=this._castlingKey(),this._turn==="b"&&(t^=Vu),t}_updateSetup(t){this._history.length>0||(t!==Bu?(this._header.SetUp="1",this._header.FEN=t):(this._header.SetUp=null,this._header.FEN=null))}reset(){this.load(Bu)}get(t){return this._board[J[t]]}findPiece(t){var i;const n=[];for(let o=J.a8;o<=J.h1;o++){if(o&136){o+=7;continue}!this._board[o]||((i=this._board[o])==null?void 0:i.color)!==t.color||this._board[o].color===t.color&&this._board[o].type===t.type&&n.push(Ze(o))}return n}put({type:t,color:n},i){return this._put({type:t,color:n},i)?(this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0):!1}_set(t,n){this._hash^=this._pieceKey(t),this._board[t]=n,this._hash^=this._pieceKey(t)}_put({type:t,color:n},i){if(RC.indexOf(t.toLowerCase())===-1||!(i in J))return!1;const o=J[i];if(t==Ke&&!(this._kings[n]==ot||this._kings[n]==o))return!1;const l=this._board[o];return l&&l.type===Ke&&(this._kings[l.color]=ot),this._set(o,{type:t,color:n}),t===Ke&&(this._kings[n]=o),!0}_clear(t){this._hash^=this._pieceKey(t),delete this._board[t]}remove(t){const n=this.get(t);return this._clear(J[t]),n&&n.type===Ke&&(this._kings[n.color]=ot),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),n}_updateCastlingRights(){var i,o,l,s,r,c,f,d,p,h,m,S;this._hash^=this._castlingKey();const t=((i=this._board[J.e1])==null?void 0:i.type)===Ke&&((o=this._board[J.e1])==null?void 0:o.color)===mt,n=((l=this._board[J.e8])==null?void 0:l.type)===Ke&&((s=this._board[J.e8])==null?void 0:s.color)===Ot;(!t||((r=this._board[J.a1])==null?void 0:r.type)!==Jl||((c=this._board[J.a1])==null?void 0:c.color)!==mt)&&(this._castling.w&=-65),(!t||((f=this._board[J.h1])==null?void 0:f.type)!==Jl||((d=this._board[J.h1])==null?void 0:d.color)!==mt)&&(this._castling.w&=-33),(!n||((p=this._board[J.a8])==null?void 0:p.type)!==Jl||((h=this._board[J.a8])==null?void 0:h.color)!==Ot)&&(this._castling.b&=-65),(!n||((m=this._board[J.h8])==null?void 0:m.type)!==Jl||((S=this._board[J.h8])==null?void 0:S.color)!==Ot)&&(this._castling.b&=-33),this._hash^=this._castlingKey()}_updateEnPassantSquare(){var l,s;if(this._epSquare===ot)return;const t=this._epSquare+(this._turn===mt?-16:16),n=this._epSquare+(this._turn===mt?16:-16),i=[n+1,n-1];if(this._board[t]!==null||this._board[this._epSquare]!==null||((l=this._board[n])==null?void 0:l.color)!==Hl(this._turn)||((s=this._board[n])==null?void 0:s.type)!==Pe){this._hash^=this._epKey(),this._epSquare=ot;return}const o=r=>{var c,f;return!(r&136)&&((c=this._board[r])==null?void 0:c.color)===this._turn&&((f=this._board[r])==null?void 0:f.type)===Pe};i.some(o)||(this._hash^=this._epKey(),this._epSquare=ot)}_attacked(t,n,i){const o=[];for(let l=J.a8;l<=J.h1;l++){if(l&136){l+=7;continue}if(this._board[l]===void 0||this._board[l].color!==t)continue;const s=this._board[l],r=l-n;if(r===0)continue;const c=r+119;if(CC[c]&MC[s.type]){if(s.type===Pe){if(r>0&&s.color===mt||r<=0&&s.color===Ot)if(i)o.push(Ze(l));else return!0;continue}if(s.type==="n"||s.type==="k")if(i){o.push(Ze(l));continue}else return!0;const f=AC[c];let d=l+f,p=!1;for(;d!==n;){if(this._board[d]!=null){p=!0;break}d+=f}if(!p)if(i){o.push(Ze(l));continue}else return!0}}return i?o:!1}attackers(t,n){return n?this._attacked(n,J[t],!0):this._attacked(this._turn,J[t],!0)}_isKingAttacked(t){const n=this._kings[t];return n===-1?!1:this._attacked(Hl(t),n)}hash(){return this._hash.toString(16)}isAttacked(t,n){return this._attacked(n,J[t])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&this._moves().length===0}isStalemate(){return!this.isCheck()&&this._moves().length===0}isInsufficientMaterial(){const t={b:0,n:0,r:0,q:0,k:0,p:0},n=[];let i=0,o=0;for(let l=J.a8;l<=J.h1;l++){if(o=(o+1)%2,l&136){l+=7;continue}const s=this._board[l];s&&(t[s.type]=s.type in t?t[s.type]+1:1,s.type===Lr&&n.push(o),i++)}if(i===2)return!0;if(i===3&&(t[Lr]===1||t[Zc]===1))return!0;if(i===t[Lr]+2){let l=0;const s=n.length;for(let r=0;r<s;r++)l+=n[r];if(l===0||l===s)return!0}return!1}isThreefoldRepetition(){return this._getPositionCount(this._hash)>=3}isDrawByFiftyMoves(){return this._halfMoves>=100}isDraw(){return this.isDrawByFiftyMoves()||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isDraw()}moves({verbose:t=!1,square:n=void 0,piece:i=void 0}={}){const o=this._moves({square:n,piece:i});return t?o.map(l=>new ur(this,l)):o.map(l=>this._moveToSan(l,o))}_moves({legal:t=!0,piece:n=void 0,square:i=void 0}={}){var m;const o=i?i.toLowerCase():void 0,l=n==null?void 0:n.toLowerCase(),s=[],r=this._turn,c=Hl(r);let f=J.a8,d=J.h1,p=!1;if(o)if(o in J)f=d=J[o],p=!0;else return[];for(let S=f;S<=d;S++){if(S&136){S+=7;continue}if(!this._board[S]||this._board[S].color===c)continue;const{type:_}=this._board[S];let E;if(_===Pe){if(l&&l!==_)continue;E=S+Fu[r][0],this._board[E]||(vi(s,r,S,E,Pe),E=S+Fu[r][1],DC[r]===uo(S)&&!this._board[E]&&vi(s,r,S,E,Pe,void 0,X.BIG_PAWN));for(let g=2;g<4;g++)E=S+Fu[r][g],!(E&136)&&(((m=this._board[E])==null?void 0:m.color)===c?vi(s,r,S,E,Pe,this._board[E].type,X.CAPTURE):E===this._epSquare&&vi(s,r,S,E,Pe,Pe,X.EP_CAPTURE))}else{if(l&&l!==_)continue;for(let g=0,y=Tp[_].length;g<y;g++){const v=Tp[_][g];for(E=S;E+=v,!(E&136);){if(!this._board[E])vi(s,r,S,E,_);else{if(this._board[E].color===r)break;vi(s,r,S,E,_,this._board[E].type,X.CAPTURE);break}if(_===Zc||_===Ke)break}}}}if((l===void 0||l===Ke)&&(!p||d===this._kings[r])){if(this._castling[r]&X.KSIDE_CASTLE){const S=this._kings[r],_=S+2;!this._board[S+1]&&!this._board[_]&&!this._attacked(c,this._kings[r])&&!this._attacked(c,S+1)&&!this._attacked(c,_)&&vi(s,r,this._kings[r],_,Ke,void 0,X.KSIDE_CASTLE)}if(this._castling[r]&X.QSIDE_CASTLE){const S=this._kings[r],_=S-2;!this._board[S-1]&&!this._board[S-2]&&!this._board[S-3]&&!this._attacked(c,this._kings[r])&&!this._attacked(c,S-1)&&!this._attacked(c,_)&&vi(s,r,this._kings[r],_,Ke,void 0,X.QSIDE_CASTLE)}}if(!t||this._kings[r]===-1)return s;const h=[];for(let S=0,_=s.length;S<_;S++)this._makeMove(s[S]),this._isKingAttacked(r)||h.push(s[S]),this._undoMove();return h}move(t,{strict:n=!1}={}){let i=null;if(typeof t=="string")i=this._moveFromSan(t,n);else if(t===null)i=this._moveFromSan(Yu,n);else if(typeof t=="object"){const l=this._moves();for(let s=0,r=l.length;s<r;s++)if(t.from===Ze(l[s].from)&&t.to===Ze(l[s].to)&&(!("promotion"in l[s])||t.promotion===l[s].promotion)){i=l[s];break}}if(!i)throw typeof t=="string"?new Error(`Invalid move: ${t}`):new Error(`Invalid move: ${JSON.stringify(t)}`);if(this.isCheck()&&i.flags&X.NULL_MOVE)throw new Error("Null move not allowed when in check");const o=new ur(this,i);return this._makeMove(i),this._incPositionCount(),o}_push(t){this._history.push({move:t,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_movePiece(t,n){this._hash^=this._pieceKey(t),this._board[n]=this._board[t],delete this._board[t],this._hash^=this._pieceKey(n)}_makeMove(t){var o,l,s,r;const n=this._turn,i=Hl(n);if(this._push(t),t.flags&X.NULL_MOVE){n===Ot&&this._moveNumber++,this._halfMoves++,this._turn=i,this._epSquare=ot;return}if(this._hash^=this._epKey(),this._hash^=this._castlingKey(),t.captured&&(this._hash^=this._pieceKey(t.to)),this._movePiece(t.from,t.to),t.flags&X.EP_CAPTURE&&(this._turn===Ot?this._clear(t.to-16):this._clear(t.to+16)),t.promotion&&(this._clear(t.to),this._set(t.to,{type:t.promotion,color:n})),this._board[t.to].type===Ke){if(this._kings[n]=t.to,t.flags&X.KSIDE_CASTLE){const c=t.to-1,f=t.to+1;this._movePiece(f,c)}else if(t.flags&X.QSIDE_CASTLE){const c=t.to+1,f=t.to-2;this._movePiece(f,c)}this._castling[n]=0}if(this._castling[n]){for(let c=0,f=yi[n].length;c<f;c++)if(t.from===yi[n][c].square&&this._castling[n]&yi[n][c].flag){this._castling[n]^=yi[n][c].flag;break}}if(this._castling[i]){for(let c=0,f=yi[i].length;c<f;c++)if(t.to===yi[i][c].square&&this._castling[i]&yi[i][c].flag){this._castling[i]^=yi[i][c].flag;break}}if(this._hash^=this._castlingKey(),t.flags&X.BIG_PAWN){let c;n===Ot?c=t.to-16:c=t.to+16,!(t.to-1&136)&&((o=this._board[t.to-1])==null?void 0:o.type)===Pe&&((l=this._board[t.to-1])==null?void 0:l.color)===i||!(t.to+1&136)&&((s=this._board[t.to+1])==null?void 0:s.type)===Pe&&((r=this._board[t.to+1])==null?void 0:r.color)===i?(this._epSquare=c,this._hash^=this._epKey()):this._epSquare=ot}else this._epSquare=ot;t.piece===Pe?this._halfMoves=0:t.flags&(X.CAPTURE|X.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,n===Ot&&this._moveNumber++,this._turn=i,this._hash^=Vu}undo(){const t=this._hash,n=this._undoMove();if(n){const i=new ur(this,n);return this._decPositionCount(t),i}return null}_undoMove(){const t=this._history.pop();if(t===void 0)return null;this._hash^=this._epKey(),this._hash^=this._castlingKey();const n=t.move;this._kings=t.kings,this._turn=t.turn,this._castling=t.castling,this._epSquare=t.epSquare,this._halfMoves=t.halfMoves,this._moveNumber=t.moveNumber,this._hash^=this._epKey(),this._hash^=this._castlingKey(),this._hash^=Vu;const i=this._turn,o=Hl(i);if(n.flags&X.NULL_MOVE)return n;if(this._movePiece(n.to,n.from),n.piece&&(this._clear(n.from),this._set(n.from,{type:n.piece,color:i})),n.captured)if(n.flags&X.EP_CAPTURE){let l;i===Ot?l=n.to-16:l=n.to+16,this._set(l,{type:Pe,color:o})}else this._set(n.to,{type:n.captured,color:o});if(n.flags&(X.KSIDE_CASTLE|X.QSIDE_CASTLE)){let l,s;n.flags&X.KSIDE_CASTLE?(l=n.to+1,s=n.to-1):(l=n.to-2,s=n.to+1),this._movePiece(s,l)}return n}pgn({newline:t=`
`,maxWidth:n=0}={}){const i=[];let o=!1;for(const h in this._header)this._header[h]&&i.push(`[${h} "${this._header[h]}"]`+t),o=!0;o&&this._history.length&&i.push(t);const l=h=>{const m=this._comments[this.fen()];if(typeof m<"u"){const S=h.length>0?" ":"";h=`${h}${S}{${m}}`}return h},s=[];for(;this._history.length>0;)s.push(this._undoMove());const r=[];let c="";for(s.length===0&&r.push(l(""));s.length>0;){c=l(c);const h=s.pop();if(!h)break;if(!this._history.length&&h.color==="b"){const m=`${this._moveNumber}. ...`;c=c?`${c} ${m}`:m}else h.color==="w"&&(c.length&&r.push(c),c=this._moveNumber+".");c=c+" "+this._moveToSan(h,this._moves({legal:!0})),this._makeMove(h)}if(c.length&&r.push(l(c)),r.push(this._header.Result||"*"),n===0)return i.join("")+r.join(" ");const f=function(){return i.length>0&&i[i.length-1]===" "?(i.pop(),!0):!1},d=function(h,m){for(const S of m.split(" "))if(S){if(h+S.length>n){for(;f();)h--;i.push(t),h=0}i.push(S),h+=S.length,i.push(" "),h++}return f()&&h--,h};let p=0;for(let h=0;h<r.length;h++){if(p+r[h].length>n&&r[h].includes("{")){p=d(p,r[h]);continue}p+r[h].length>n&&h!==0?(i[i.length-1]===" "&&i.pop(),i.push(t),p=0):h!==0&&(i.push(" "),p++),i.push(r[h]),p+=r[h].length}return i.join("")}header(...t){for(let n=0;n<t.length;n+=2)typeof t[n]=="string"&&typeof t[n+1]=="string"&&(this._header[t[n]]=t[n+1]);return this._header}setHeader(t,n){return this._header[t]=n??Wc[t]??null,this.getHeaders()}removeHeader(t){return t in this._header?(this._header[t]=Wc[t]||null,!0):!1}getHeaders(){const t={};for(const[n,i]of Object.entries(this._header))i!==null&&(t[n]=i);return t}loadPgn(t,{strict:n=!1,newlineChar:i=`\r?
`}={}){i!==`\r?
`&&(t=t.replace(new RegExp(i,"g"),`
`));const o=gC(t);this.reset();const l=o.headers;let s="";for(const f in l)f.toLowerCase()==="fen"&&(s=l[f]),this.header(f,l[f]);if(!n)s&&this.load(s,{preserveHeaders:!0});else if(l.SetUp==="1"){if(!("FEN"in l))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(l.FEN,{preserveHeaders:!0})}let r=o.root;for(;r;){if(r.move){const f=this._moveFromSan(r.move,n);if(f==null)throw new Error(`Invalid move in PGN: ${r.move}`);this._makeMove(f),this._incPositionCount()}r.comment!==void 0&&(this._comments[this.fen()]=r.comment),r=r.variations[0]}const c=o.result;c&&Object.keys(this._header).length&&this._header.Result!==c&&this.setHeader("Result",c)}_moveToSan(t,n){let i="";if(t.flags&X.KSIDE_CASTLE)i="O-O";else if(t.flags&X.QSIDE_CASTLE)i="O-O-O";else{if(t.flags&X.NULL_MOVE)return Yu;if(t.piece!==Pe){const o=UC(t,n);i+=t.piece.toUpperCase()+o}t.flags&(X.CAPTURE|X.EP_CAPTURE)&&(t.piece===Pe&&(i+=Ze(t.from)[0]),i+="x"),i+=Ze(t.to),t.promotion&&(i+="="+t.promotion.toUpperCase())}return this._makeMove(t),this.isCheck()&&(this.isCheckmate()?i+="#":i+="+"),this._undoMove(),i}_moveFromSan(t,n=!1){let i=Ju(t);if(n||(i==="0-0"?i="O-O":i==="0-0-0"&&(i="O-O-O")),i==Yu)return{color:this._turn,from:0,to:0,piece:"k",flags:X.NULL_MOVE};let o=Ap(i),l=this._moves({legal:!0,piece:o});for(let h=0,m=l.length;h<m;h++)if(i===Ju(this._moveToSan(l[h],l)))return l[h];if(n)return null;let s,r,c,f,d,p=!1;if(r=i.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),r?(s=r[1],c=r[2],f=r[3],d=r[4],c.length==1&&(p=!0)):(r=i.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),r&&(s=r[1],c=r[2],f=r[3],d=r[4],c.length==1&&(p=!0))),o=Ap(i),l=this._moves({legal:!0,piece:s||o}),!f)return null;for(let h=0,m=l.length;h<m;h++)if(c){if((!s||s.toLowerCase()==l[h].piece)&&J[c]==l[h].from&&J[f]==l[h].to&&(!d||d.toLowerCase()==l[h].promotion))return l[h];if(p){const S=Ze(l[h].from);if((!s||s.toLowerCase()==l[h].piece)&&J[f]==l[h].to&&(c==S[0]||c==S[1])&&(!d||d.toLowerCase()==l[h].promotion))return l[h]}}else if(i===Ju(this._moveToSan(l[h],l)).replace("x",""))return l[h];return null}ascii(){let t=`   +------------------------+
`;for(let n=J.a8;n<=J.h1;n++){if(Ms(n)===0&&(t+=" "+"87654321"[uo(n)]+" |"),this._board[n]){const i=this._board[n].type,l=this._board[n].color===mt?i.toUpperCase():i.toLowerCase();t+=" "+l+" "}else t+=" . ";n+1&136&&(t+=`|
`,n+=8)}return t+=`   +------------------------+
`,t+="     a  b  c  d  e  f  g  h",t}perft(t){const n=this._moves({legal:!1});let i=0;const o=this._turn;for(let l=0,s=n.length;l<s;l++)this._makeMove(n[l]),this._isKingAttacked(o)||(t-1>0?i+=this.perft(t-1):i++),this._undoMove();return i}setTurn(t){return this._turn==t?!1:(this.move("--"),!0)}turn(){return this._turn}board(){const t=[];let n=[];for(let i=J.a8;i<=J.h1;i++)this._board[i]==null?n.push(null):n.push({square:Ze(i),type:this._board[i].type,color:this._board[i].color}),i+1&136&&(t.push(n),n=[],i+=8);return t}squareColor(t){if(t in J){const n=J[t];return(uo(n)+Ms(n))%2===0?"light":"dark"}return null}history({verbose:t=!1}={}){const n=[],i=[];for(;this._history.length>0;)n.push(this._undoMove());for(;;){const o=n.pop();if(!o)break;t?i.push(new ur(this,o)):i.push(this._moveToSan(o,this._moves())),this._makeMove(o)}return i}_getPositionCount(t){return this._positionCount.get(t)??0}_incPositionCount(){this._positionCount.set(this._hash,(this._positionCount.get(this._hash)??0)+1)}_decPositionCount(t){const n=this._positionCount.get(t)??0;n===1?this._positionCount.delete(t):this._positionCount.set(t,n-1)}_pruneComments(){const t=[],n={},i=o=>{o in this._comments&&(n[o]=this._comments[o])};for(;this._history.length>0;)t.push(this._undoMove());for(i(this.fen());;){const o=t.pop();if(!o)break;this._makeMove(o),i(this.fen())}this._comments=n}getComment(){return this._comments[this.fen()]}setComment(t){this._comments[this.fen()]=t.replace("{","[").replace("}","]")}deleteComment(){return this.removeComment()}removeComment(){const t=this._comments[this.fen()];return delete this._comments[this.fen()],t}getComments(){return this._pruneComments(),Object.keys(this._comments).map(t=>({fen:t,comment:this._comments[t]}))}deleteComments(){return this.removeComments()}removeComments(){return this._pruneComments(),Object.keys(this._comments).map(t=>{const n=this._comments[t];return delete this._comments[t],{fen:t,comment:n}})}setCastlingRights(t,n){for(const o of[Ke,Ei])n[o]!==void 0&&(n[o]?this._castling[t]|=cr[o]:this._castling[t]&=~cr[o]);this._updateCastlingRights();const i=this.getCastlingRights(t);return(n[Ke]===void 0||n[Ke]===i[Ke])&&(n[Ei]===void 0||n[Ei]===i[Ei])}getCastlingRights(t){return{[Ke]:(this._castling[t]&cr[Ke])!==0,[Ei]:(this._castling[t]&cr[Ei])!==0}}moveNumber(){return this._moveNumber}}const Fa=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function El(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Sd(e){return"nodeType"in e}function xt(e){var t,n;return e?El(e)?e:Sd(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function _d(e){const{Document:t}=xt(e);return e instanceof t}function Vs(e){return El(e)?!1:e instanceof xt(e).HTMLElement}function bv(e){return e instanceof xt(e).SVGElement}function Tl(e){return e?El(e)?e.document:Sd(e)?_d(e)?e:Vs(e)||bv(e)?e.ownerDocument:document:document:document}const ai=Fa?R.useLayoutEffect:R.useEffect;function Ya(e){const t=R.useRef(e);return ai(()=>{t.current=e}),R.useCallback(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t.current==null?void 0:t.current(...i)},[])}function LC(){const e=R.useRef(null),t=R.useCallback((i,o)=>{e.current=setInterval(i,o)},[]),n=R.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Rs(e,t){t===void 0&&(t=[e]);const n=R.useRef(e);return ai(()=>{n.current!==e&&(n.current=e)},t),n}function Bs(e,t){const n=R.useRef();return R.useMemo(()=>{const i=e(n.current);return n.current=i,i},[...t])}function ha(e){const t=Ya(e),n=R.useRef(null),i=R.useCallback(o=>{o!==n.current&&(t==null||t(o,n.current)),n.current=o},[]);return[n,i]}function pa(e){const t=R.useRef();return R.useEffect(()=>{t.current=e},[e]),t.current}let Ku={};function Ja(e,t){return R.useMemo(()=>{if(t)return t;const n=Ku[e]==null?0:Ku[e]+1;return Ku[e]=n,e+"-"+n},[e,t])}function xv(e){return function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return i.reduce((l,s)=>{const r=Object.entries(s);for(const[c,f]of r){const d=l[c];d!=null&&(l[c]=d+e*f)}return l},{...t})}}const Wo=xv(1),ma=xv(-1);function kC(e){return"clientX"in e&&"clientY"in e}function Ed(e){if(!e)return!1;const{KeyboardEvent:t}=xt(e.target);return t&&e instanceof t}function qC(e){if(!e)return!1;const{TouchEvent:t}=xt(e.target);return t&&e instanceof t}function bs(e){if(qC(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return kC(e)?{x:e.clientX,y:e.clientY}:null}const xs=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[xs.Translate.toString(e),xs.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:i}=e;return t+" "+n+"ms "+i}}}),Mp="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function GC(e){return e.matches(Mp)?e:e.querySelector(Mp)}const HC={display:"none"};function PC(e){let{id:t,value:n}=e;return Ue.createElement("div",{id:t,style:HC},n)}function zC(e){let{id:t,announcement:n,ariaLiveType:i="assertive"}=e;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ue.createElement("div",{id:t,style:o,role:"status","aria-live":i,"aria-atomic":!0},n)}function OC(){const[e,t]=R.useState("");return{announce:R.useCallback(i=>{i!=null&&t(i)},[]),announcement:e}}const Nv=R.createContext(null);function VC(e){const t=R.useContext(Nv);R.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function BC(){const[e]=R.useState(()=>new Set),t=R.useCallback(i=>(e.add(i),()=>e.delete(i)),[e]);return[R.useCallback(i=>{let{type:o,event:l}=i;e.forEach(s=>{var r;return(r=s[o])==null?void 0:r.call(s,l)})},[e]),t]}const FC={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},YC={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function JC(e){let{announcements:t=YC,container:n,hiddenTextDescribedById:i,screenReaderInstructions:o=FC}=e;const{announce:l,announcement:s}=OC(),r=Ja("DndLiveRegion"),[c,f]=R.useState(!1);if(R.useEffect(()=>{f(!0)},[]),VC(R.useMemo(()=>({onDragStart(p){let{active:h}=p;l(t.onDragStart({active:h}))},onDragMove(p){let{active:h,over:m}=p;t.onDragMove&&l(t.onDragMove({active:h,over:m}))},onDragOver(p){let{active:h,over:m}=p;l(t.onDragOver({active:h,over:m}))},onDragEnd(p){let{active:h,over:m}=p;l(t.onDragEnd({active:h,over:m}))},onDragCancel(p){let{active:h,over:m}=p;l(t.onDragCancel({active:h,over:m}))}}),[l,t])),!c)return null;const d=Ue.createElement(Ue.Fragment,null,Ue.createElement(PC,{id:i,value:o.draggable}),Ue.createElement(zC,{id:r,announcement:s}));return n?wo.createPortal(d,n):d}var $e;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})($e||($e={}));function ga(){}function dr(e,t){return R.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function KC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return R.useMemo(()=>[...t].filter(i=>i!=null),[...t])}const bn=Object.freeze({x:0,y:0});function $C(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function XC(e,t){const n=bs(e);if(!n)return"0 0";const i={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return i.x+"% "+i.y+"%"}function QC(e,t){let{data:{value:n}}=e,{data:{value:i}}=t;return n-i}function ZC(e,t){let{data:{value:n}}=e,{data:{value:i}}=t;return i-n}function WC(e){let{left:t,top:n,height:i,width:o}=e;return[{x:t,y:n},{x:t+o,y:n},{x:t,y:n+i},{x:t+o,y:n+i}]}function jC(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function e1(e,t){const n=Math.max(t.top,e.top),i=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),l=Math.min(t.top+t.height,e.top+e.height),s=o-i,r=l-n;if(i<o&&n<l){const c=t.width*t.height,f=e.width*e.height,d=s*r,p=d/(c+f-d);return Number(p.toFixed(4))}return 0}const wv=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:i}=e;const o=[];for(const l of i){const{id:s}=l,r=n.get(s);if(r){const c=e1(r,t);c>0&&o.push({id:s,data:{droppableContainer:l,value:c}})}}return o.sort(ZC)};function t1(e,t){const{top:n,left:i,bottom:o,right:l}=t;return n<=e.y&&e.y<=o&&i<=e.x&&e.x<=l}const n1=e=>{let{droppableContainers:t,droppableRects:n,pointerCoordinates:i}=e;if(!i)return[];const o=[];for(const l of t){const{id:s}=l,r=n.get(s);if(r&&t1(i,r)){const f=WC(r).reduce((p,h)=>p+$C(i,h),0),d=Number((f/4).toFixed(4));o.push({id:s,data:{droppableContainer:l,value:d}})}}return o.sort(QC)};function i1(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Dv(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:bn}function o1(e){return function(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),l=1;l<i;l++)o[l-1]=arguments[l];return o.reduce((s,r)=>({...s,top:s.top+e*r.y,bottom:s.bottom+e*r.y,left:s.left+e*r.x,right:s.right+e*r.x}),{...n})}}const l1=o1(1);function Iv(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function s1(e,t,n){const i=Iv(t);if(!i)return e;const{scaleX:o,scaleY:l,x:s,y:r}=i,c=e.left-s-(1-o)*parseFloat(n),f=e.top-r-(1-l)*parseFloat(n.slice(n.indexOf(" ")+1)),d=o?e.width/o:e.width,p=l?e.height/l:e.height;return{width:d,height:p,top:f,right:c+d,bottom:f+p,left:c}}const r1={ignoreTransform:!1};function Fs(e,t){t===void 0&&(t=r1);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:f,transformOrigin:d}=xt(e).getComputedStyle(e);f&&(n=s1(n,f,d))}const{top:i,left:o,width:l,height:s,bottom:r,right:c}=n;return{top:i,left:o,width:l,height:s,bottom:r,right:c}}function Rp(e){return Fs(e,{ignoreTransform:!0})}function a1(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function u1(e,t){return t===void 0&&(t=xt(e).getComputedStyle(e)),t.position==="fixed"}function c1(e,t){t===void 0&&(t=xt(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const l=t[o];return typeof l=="string"?n.test(l):!1})}function Td(e,t){const n=[];function i(o){if(t!=null&&n.length>=t||!o)return n;if(_d(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!Vs(o)||bv(o)||n.includes(o))return n;const l=xt(e).getComputedStyle(o);return o!==e&&c1(o,l)&&n.push(o),u1(o,l)?n:i(o.parentNode)}return e?i(e):n}function Uv(e){const[t]=Td(e,1);return t??null}function $u(e){return!Fa||!e?null:El(e)?e:Sd(e)?_d(e)||e===Tl(e).scrollingElement?window:Vs(e)?e:null:null}function Lv(e){return El(e)?e.scrollX:e.scrollLeft}function kv(e){return El(e)?e.scrollY:e.scrollTop}function jc(e){return{x:Lv(e),y:kv(e)}}var je;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(je||(je={}));function qv(e){return!Fa||!e?!1:e===document.scrollingElement}function Gv(e){const t={x:0,y:0},n=qv(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},i={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,l=e.scrollLeft<=t.x,s=e.scrollTop>=i.y,r=e.scrollLeft>=i.x;return{isTop:o,isLeft:l,isBottom:s,isRight:r,maxScroll:i,minScroll:t}}const f1={x:.2,y:.2};function d1(e,t,n,i,o){let{top:l,left:s,right:r,bottom:c}=n;i===void 0&&(i=10),o===void 0&&(o=f1);const{isTop:f,isBottom:d,isLeft:p,isRight:h}=Gv(e),m={x:0,y:0},S={x:0,y:0},_={height:t.height*o.y,width:t.width*o.x};return!f&&l<=t.top+_.height?(m.y=je.Backward,S.y=i*Math.abs((t.top+_.height-l)/_.height)):!d&&c>=t.bottom-_.height&&(m.y=je.Forward,S.y=i*Math.abs((t.bottom-_.height-c)/_.height)),!h&&r>=t.right-_.width?(m.x=je.Forward,S.x=i*Math.abs((t.right-_.width-r)/_.width)):!p&&s<=t.left+_.width&&(m.x=je.Backward,S.x=i*Math.abs((t.left+_.width-s)/_.width)),{direction:m,speed:S}}function h1(e){if(e===document.scrollingElement){const{innerWidth:l,innerHeight:s}=window;return{top:0,left:0,right:l,bottom:s,width:l,height:s}}const{top:t,left:n,right:i,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:i,bottom:o,width:e.clientWidth,height:e.clientHeight}}function Hv(e){return e.reduce((t,n)=>Wo(t,jc(n)),bn)}function p1(e){return e.reduce((t,n)=>t+Lv(n),0)}function m1(e){return e.reduce((t,n)=>t+kv(n),0)}function Pv(e,t){if(t===void 0&&(t=Fs),!e)return;const{top:n,left:i,bottom:o,right:l}=t(e);Uv(e)&&(o<=0||l<=0||n>=window.innerHeight||i>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const g1=[["x",["left","right"],p1],["y",["top","bottom"],m1]];class Cd{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=Td(n),o=Hv(i);this.rect={...t},this.width=t.width,this.height=t.height;for(const[l,s,r]of g1)for(const c of s)Object.defineProperty(this,c,{get:()=>{const f=r(i),d=o[l]-f;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class as{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...n)})},this.target=t}add(t,n,i){var o;(o=this.target)==null||o.addEventListener(t,n,i),this.listeners.push([t,n,i])}}function y1(e){const{EventTarget:t}=xt(e);return e instanceof t?e:Tl(e)}function Xu(e,t){const n=Math.abs(e.x),i=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+i**2)>t:"x"in t&&"y"in t?n>t.x&&i>t.y:"x"in t?n>t.x:"y"in t?i>t.y:!1}var on;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(on||(on={}));function bp(e){e.preventDefault()}function v1(e){e.stopPropagation()}var ve;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(ve||(ve={}));const zv={start:[ve.Space,ve.Enter],cancel:[ve.Esc],end:[ve.Space,ve.Enter,ve.Tab]},S1=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case ve.Right:return{...n,x:n.x+25};case ve.Left:return{...n,x:n.x-25};case ve.Down:return{...n,y:n.y+25};case ve.Up:return{...n,y:n.y-25}}};class Ad{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new as(Tl(n)),this.windowListeners=new as(xt(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(on.Resize,this.handleCancel),this.windowListeners.add(on.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(on.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,i=t.node.current;i&&Pv(i),n(bn)}handleKeyDown(t){if(Ed(t)){const{active:n,context:i,options:o}=this.props,{keyboardCodes:l=zv,coordinateGetter:s=S1,scrollBehavior:r="smooth"}=o,{code:c}=t;if(l.end.includes(c)){this.handleEnd(t);return}if(l.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:f}=i.current,d=f?{x:f.left,y:f.top}:bn;this.referenceCoordinates||(this.referenceCoordinates=d);const p=s(t,{active:n,context:i.current,currentCoordinates:d});if(p){const h=ma(p,d),m={x:0,y:0},{scrollableAncestors:S}=i.current;for(const _ of S){const E=t.code,{isTop:g,isRight:y,isLeft:v,isBottom:C,maxScroll:b,minScroll:U}=Gv(_),A=h1(_),x={x:Math.min(E===ve.Right?A.right-A.width/2:A.right,Math.max(E===ve.Right?A.left:A.left+A.width/2,p.x)),y:Math.min(E===ve.Down?A.bottom-A.height/2:A.bottom,Math.max(E===ve.Down?A.top:A.top+A.height/2,p.y))},w=E===ve.Right&&!y||E===ve.Left&&!v,k=E===ve.Down&&!C||E===ve.Up&&!g;if(w&&x.x!==p.x){const H=_.scrollLeft+h.x,$=E===ve.Right&&H<=b.x||E===ve.Left&&H>=U.x;if($&&!h.y){_.scrollTo({left:H,behavior:r});return}$?m.x=_.scrollLeft-H:m.x=E===ve.Right?_.scrollLeft-b.x:_.scrollLeft-U.x,m.x&&_.scrollBy({left:-m.x,behavior:r});break}else if(k&&x.y!==p.y){const H=_.scrollTop+h.y,$=E===ve.Down&&H<=b.y||E===ve.Up&&H>=U.y;if($&&!h.x){_.scrollTo({top:H,behavior:r});return}$?m.y=_.scrollTop-H:m.y=E===ve.Down?_.scrollTop-b.y:_.scrollTop-U.y,m.y&&_.scrollBy({top:-m.y,behavior:r});break}}this.handleMove(t,Wo(ma(p,this.referenceCoordinates),m))}}}handleMove(t,n){const{onMove:i}=this.props;t.preventDefault(),i(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Ad.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:i=zv,onActivation:o}=t,{active:l}=n;const{code:s}=e.nativeEvent;if(i.start.includes(s)){const r=l.activatorNode.current;return r&&e.target!==r?!1:(e.preventDefault(),o==null||o({event:e.nativeEvent}),!0)}return!1}}];function xp(e){return!!(e&&"distance"in e)}function Np(e){return!!(e&&"delay"in e)}class Md{constructor(t,n,i){var o;i===void 0&&(i=y1(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:l}=t,{target:s}=l;this.props=t,this.events=n,this.document=Tl(s),this.documentListeners=new as(this.document),this.listeners=new as(i),this.windowListeners=new as(xt(s)),this.initialCoordinates=(o=bs(l))!=null?o:bn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:i}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(on.Resize,this.handleCancel),this.windowListeners.add(on.DragStart,bp),this.windowListeners.add(on.VisibilityChange,this.handleCancel),this.windowListeners.add(on.ContextMenu,bp),this.documentListeners.add(on.Keydown,this.handleKeydown),n){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Np(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(xp(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:i,onPending:o}=this.props;o(i,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(on.Click,v1,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(on.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:i,initialCoordinates:o,props:l}=this,{onMove:s,options:{activationConstraint:r}}=l;if(!o)return;const c=(n=bs(t))!=null?n:bn,f=ma(o,c);if(!i&&r){if(xp(r)){if(r.tolerance!=null&&Xu(f,r.tolerance))return this.handleCancel();if(Xu(f,r.distance))return this.handleStart()}if(Np(r)&&Xu(f,r.tolerance))return this.handleCancel();this.handlePending(r,f);return}t.cancelable&&t.preventDefault(),s(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===ve.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const _1={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Rd extends Md{constructor(t){const{event:n}=t,i=Tl(n.target);super(t,_1,i)}}Rd.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:i}=t;return!n.isPrimary||n.button!==0?!1:(i==null||i({event:n}),!0)}}];const E1={move:{name:"mousemove"},end:{name:"mouseup"}};var ef;(function(e){e[e.RightClick=2]="RightClick"})(ef||(ef={}));class Ov extends Md{constructor(t){super(t,E1,Tl(t.event.target))}}Ov.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:i}=t;return n.button===ef.RightClick?!1:(i==null||i({event:n}),!0)}}];const Qu={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Vv extends Md{constructor(t){super(t,Qu)}static setup(){return window.addEventListener(Qu.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Qu.move.name,t)};function t(){}}}Vv.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:i}=t;const{touches:o}=n;return o.length>1?!1:(i==null||i({event:n}),!0)}}];var us;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(us||(us={}));var ya;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(ya||(ya={}));function T1(e){let{acceleration:t,activator:n=us.Pointer,canScroll:i,draggingRect:o,enabled:l,interval:s=5,order:r=ya.TreeOrder,pointerCoordinates:c,scrollableAncestors:f,scrollableAncestorRects:d,delta:p,threshold:h}=e;const m=A1({delta:p,disabled:!l}),[S,_]=LC(),E=R.useRef({x:0,y:0}),g=R.useRef({x:0,y:0}),y=R.useMemo(()=>{switch(n){case us.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case us.DraggableRect:return o}},[n,o,c]),v=R.useRef(null),C=R.useCallback(()=>{const U=v.current;if(!U)return;const A=E.current.x*g.current.x,x=E.current.y*g.current.y;U.scrollBy(A,x)},[]),b=R.useMemo(()=>r===ya.TreeOrder?[...f].reverse():f,[r,f]);R.useEffect(()=>{if(!l||!f.length||!y){_();return}for(const U of b){if((i==null?void 0:i(U))===!1)continue;const A=f.indexOf(U),x=d[A];if(!x)continue;const{direction:w,speed:k}=d1(U,x,y,t,h);for(const H of["x","y"])m[H][w[H]]||(k[H]=0,w[H]=0);if(k.x>0||k.y>0){_(),v.current=U,S(C,s),E.current=k,g.current=w;return}}E.current={x:0,y:0},g.current={x:0,y:0},_()},[t,C,i,_,l,s,JSON.stringify(y),JSON.stringify(m),S,f,b,d,JSON.stringify(h)])}const C1={x:{[je.Backward]:!1,[je.Forward]:!1},y:{[je.Backward]:!1,[je.Forward]:!1}};function A1(e){let{delta:t,disabled:n}=e;const i=pa(t);return Bs(o=>{if(n||!i||!o)return C1;const l={x:Math.sign(t.x-i.x),y:Math.sign(t.y-i.y)};return{x:{[je.Backward]:o.x[je.Backward]||l.x===-1,[je.Forward]:o.x[je.Forward]||l.x===1},y:{[je.Backward]:o.y[je.Backward]||l.y===-1,[je.Forward]:o.y[je.Forward]||l.y===1}}},[n,t,i])}function M1(e,t){const n=t!=null?e.get(t):void 0,i=n?n.node.current:null;return Bs(o=>{var l;return t==null?null:(l=i??o)!=null?l:null},[i,t])}function R1(e,t){return R.useMemo(()=>e.reduce((n,i)=>{const{sensor:o}=i,l=o.activators.map(s=>({eventName:s.eventName,handler:t(s.handler,i)}));return[...n,...l]},[]),[e,t])}var Ns;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Ns||(Ns={}));var tf;(function(e){e.Optimized="optimized"})(tf||(tf={}));const wp=new Map;function b1(e,t){let{dragging:n,dependencies:i,config:o}=t;const[l,s]=R.useState(null),{frequency:r,measure:c,strategy:f}=o,d=R.useRef(e),p=E(),h=Rs(p),m=R.useCallback(function(g){g===void 0&&(g=[]),!h.current&&s(y=>y===null?g:y.concat(g.filter(v=>!y.includes(v))))},[h]),S=R.useRef(null),_=Bs(g=>{if(p&&!n)return wp;if(!g||g===wp||d.current!==e||l!=null){const y=new Map;for(let v of e){if(!v)continue;if(l&&l.length>0&&!l.includes(v.id)&&v.rect.current){y.set(v.id,v.rect.current);continue}const C=v.node.current,b=C?new Cd(c(C),C):null;v.rect.current=b,b&&y.set(v.id,b)}return y}return g},[e,l,n,p,c]);return R.useEffect(()=>{d.current=e},[e]),R.useEffect(()=>{p||m()},[n,p]),R.useEffect(()=>{l&&l.length>0&&s(null)},[JSON.stringify(l)]),R.useEffect(()=>{p||typeof r!="number"||S.current!==null||(S.current=setTimeout(()=>{m(),S.current=null},r))},[r,p,m,...i]),{droppableRects:_,measureDroppableContainers:m,measuringScheduled:l!=null};function E(){switch(f){case Ns.Always:return!1;case Ns.BeforeDragging:return n;default:return!n}}}function bd(e,t){return Bs(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function x1(e,t){return bd(e,t)}function N1(e){let{callback:t,disabled:n}=e;const i=Ya(t),o=R.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:l}=window;return new l(i)},[i,n]);return R.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function Ka(e){let{callback:t,disabled:n}=e;const i=Ya(t),o=R.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:l}=window;return new l(i)},[n]);return R.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function w1(e){return new Cd(Fs(e),e)}function Dp(e,t,n){t===void 0&&(t=w1);const[i,o]=R.useState(null);function l(){o(c=>{if(!e)return null;if(e.isConnected===!1){var f;return(f=c??n)!=null?f:null}const d=t(e);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const s=N1({callback(c){if(e)for(const f of c){const{type:d,target:p}=f;if(d==="childList"&&p instanceof HTMLElement&&p.contains(e)){l();break}}}}),r=Ka({callback:l});return ai(()=>{l(),e?(r==null||r.observe(e),s==null||s.observe(document.body,{childList:!0,subtree:!0})):(r==null||r.disconnect(),s==null||s.disconnect())},[e]),i}function D1(e){const t=bd(e);return Dv(e,t)}const Ip=[];function I1(e){const t=R.useRef(e),n=Bs(i=>e?i&&i!==Ip&&e&&t.current&&e.parentNode===t.current.parentNode?i:Td(e):Ip,[e]);return R.useEffect(()=>{t.current=e},[e]),n}function U1(e){const[t,n]=R.useState(null),i=R.useRef(e),o=R.useCallback(l=>{const s=$u(l.target);s&&n(r=>r?(r.set(s,jc(s)),new Map(r)):null)},[]);return R.useEffect(()=>{const l=i.current;if(e!==l){s(l);const r=e.map(c=>{const f=$u(c);return f?(f.addEventListener("scroll",o,{passive:!0}),[f,jc(f)]):null}).filter(c=>c!=null);n(r.length?new Map(r):null),i.current=e}return()=>{s(e),s(l)};function s(r){r.forEach(c=>{const f=$u(c);f==null||f.removeEventListener("scroll",o)})}},[o,e]),R.useMemo(()=>e.length?t?Array.from(t.values()).reduce((l,s)=>Wo(l,s),bn):Hv(e):bn,[e,t])}function Up(e,t){t===void 0&&(t=[]);const n=R.useRef(null);return R.useEffect(()=>{n.current=null},t),R.useEffect(()=>{const i=e!==bn;i&&!n.current&&(n.current=e),!i&&n.current&&(n.current=null)},[e]),n.current?ma(e,n.current):bn}function L1(e){R.useEffect(()=>{if(!Fa)return;const t=e.map(n=>{let{sensor:i}=n;return i.setup==null?void 0:i.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function k1(e,t){return R.useMemo(()=>e.reduce((n,i)=>{let{eventName:o,handler:l}=i;return n[o]=s=>{l(s,t)},n},{}),[e,t])}function Bv(e){return R.useMemo(()=>e?a1(e):null,[e])}const Lp=[];function q1(e,t){t===void 0&&(t=Fs);const[n]=e,i=Bv(n?xt(n):null),[o,l]=R.useState(Lp);function s(){l(()=>e.length?e.map(c=>qv(c)?i:new Cd(t(c),c)):Lp)}const r=Ka({callback:s});return ai(()=>{r==null||r.disconnect(),s(),e.forEach(c=>r==null?void 0:r.observe(c))},[e]),o}function Fv(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Vs(t)?t:e}function G1(e){let{measure:t}=e;const[n,i]=R.useState(null),o=R.useCallback(f=>{for(const{target:d}of f)if(Vs(d)){i(p=>{const h=t(d);return p?{...p,width:h.width,height:h.height}:h});break}},[t]),l=Ka({callback:o}),s=R.useCallback(f=>{const d=Fv(f);l==null||l.disconnect(),d&&(l==null||l.observe(d)),i(d?t(d):null)},[t,l]),[r,c]=ha(s);return R.useMemo(()=>({nodeRef:r,rect:n,setRef:c}),[n,r,c])}const H1=[{sensor:Rd,options:{}},{sensor:Ad,options:{}}],P1={current:{}},kr={draggable:{measure:Rp},droppable:{measure:Rp,strategy:Ns.WhileDragging,frequency:tf.Optimized},dragOverlay:{measure:Fs}};class cs extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,i;return(n=(i=this.get(t))==null?void 0:i.node.current)!=null?n:void 0}}const z1={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new cs,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ga},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:kr,measureDroppableContainers:ga,windowRect:null,measuringScheduled:!1},Yv={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ga,draggableNodes:new Map,over:null,measureDroppableContainers:ga},Ys=R.createContext(Yv),Jv=R.createContext(z1);function O1(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new cs}}}function V1(e,t){switch(t.type){case $e.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case $e.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case $e.DragEnd:case $e.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case $e.RegisterDroppable:{const{element:n}=t,{id:i}=n,o=new cs(e.droppable.containers);return o.set(i,n),{...e,droppable:{...e.droppable,containers:o}}}case $e.SetDroppableDisabled:{const{id:n,key:i,disabled:o}=t,l=e.droppable.containers.get(n);if(!l||i!==l.key)return e;const s=new cs(e.droppable.containers);return s.set(n,{...l,disabled:o}),{...e,droppable:{...e.droppable,containers:s}}}case $e.UnregisterDroppable:{const{id:n,key:i}=t,o=e.droppable.containers.get(n);if(!o||i!==o.key)return e;const l=new cs(e.droppable.containers);return l.delete(n),{...e,droppable:{...e.droppable,containers:l}}}default:return e}}function B1(e){let{disabled:t}=e;const{active:n,activatorEvent:i,draggableNodes:o}=R.useContext(Ys),l=pa(i),s=pa(n==null?void 0:n.id);return R.useEffect(()=>{if(!t&&!i&&l&&s!=null){if(!Ed(l)||document.activeElement===l.target)return;const r=o.get(s);if(!r)return;const{activatorNode:c,node:f}=r;if(!c.current&&!f.current)return;requestAnimationFrame(()=>{for(const d of[c.current,f.current]){if(!d)continue;const p=GC(d);if(p){p.focus();break}}})}},[i,t,o,s,l]),null}function Kv(e,t){let{transform:n,...i}=t;return e!=null&&e.length?e.reduce((o,l)=>l({transform:o,...i}),n):n}function F1(e){return R.useMemo(()=>({draggable:{...kr.draggable,...e==null?void 0:e.draggable},droppable:{...kr.droppable,...e==null?void 0:e.droppable},dragOverlay:{...kr.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function Y1(e){let{activeNode:t,measure:n,initialRect:i,config:o=!0}=e;const l=R.useRef(!1),{x:s,y:r}=typeof o=="boolean"?{x:o,y:o}:o;ai(()=>{if(!s&&!r||!t){l.current=!1;return}if(l.current||!i)return;const f=t==null?void 0:t.node.current;if(!f||f.isConnected===!1)return;const d=n(f),p=Dv(d,i);if(s||(p.x=0),r||(p.y=0),l.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const h=Uv(f);h&&h.scrollBy({top:p.y,left:p.x})}},[t,s,r,i,n])}const $a=R.createContext({...bn,scaleX:1,scaleY:1});var Ti;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ti||(Ti={}));const J1=R.memo(function(t){var n,i,o,l;let{id:s,accessibility:r,autoScroll:c=!0,children:f,sensors:d=H1,collisionDetection:p=wv,measuring:h,modifiers:m,...S}=t;const _=R.useReducer(V1,void 0,O1),[E,g]=_,[y,v]=BC(),[C,b]=R.useState(Ti.Uninitialized),U=C===Ti.Initialized,{draggable:{active:A,nodes:x,translate:w},droppable:{containers:k}}=E,H=A!=null?x.get(A):null,$=R.useRef({initial:null,translated:null}),O=R.useMemo(()=>{var De;return A!=null?{id:A,data:(De=H==null?void 0:H.data)!=null?De:P1,rect:$}:null},[A,H]),j=R.useRef(null),[me,q]=R.useState(null),[z,Y]=R.useState(null),ie=Rs(S,Object.values(S)),ce=Ja("DndDescribedBy",s),it=R.useMemo(()=>k.getEnabled(),[k]),Ee=F1(h),{droppableRects:Fe,measureDroppableContainers:Ye,measuringScheduled:re}=b1(it,{dragging:U,dependencies:[w.x,w.y],config:Ee.droppable}),yt=M1(x,A),Pn=R.useMemo(()=>z?bs(z):null,[z]),ct=Bn(),wn=x1(yt,Ee.draggable.measure);Y1({activeNode:A!=null?x.get(A):null,config:ct.layoutShiftCompensation,initialRect:wn,measure:Ee.draggable.measure});const ke=Dp(yt,Ee.draggable.measure,wn),Nt=Dp(yt?yt.parentElement:null),gn=R.useRef({activatorEvent:null,active:null,activeNode:yt,collisionRect:null,collisions:null,droppableRects:Fe,draggableNodes:x,draggingNode:null,draggingNodeRect:null,droppableContainers:k,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),yn=k.getNodeFor((n=gn.current.over)==null?void 0:n.id),ft=G1({measure:Ee.dragOverlay.measure}),jt=(i=ft.nodeRef.current)!=null?i:yt,dt=U?(o=ft.rect)!=null?o:ke:null,zn=!!(ft.nodeRef.current&&ft.rect),pi=D1(zn?null:ke),vn=Bv(jt?xt(jt):null),ht=I1(U?yn??yt:null),On=q1(ht),mi=Kv(m,{transform:{x:w.x-pi.x,y:w.y-pi.y,scaleX:1,scaleY:1},activatorEvent:z,active:O,activeNodeRect:ke,containerNodeRect:Nt,draggingNodeRect:dt,over:gn.current.over,overlayNodeRect:ft.rect,scrollableAncestors:ht,scrollableAncestorRects:On,windowRect:vn}),Sn=Pn?Wo(Pn,w):null,Dn=U1(ht),bl=Up(Dn),xl=Up(Dn,[ke]),_n=Wo(mi,bl),En=dt?l1(dt,mi):null,Vn=O&&En?p({active:O,collisionRect:En,droppableRects:Fe,droppableContainers:it,pointerCoordinates:Sn}):null,To=jC(Vn,"id"),[en,Co]=R.useState(null),Nl=zn?mi:Wo(mi,xl),wl=i1(Nl,(l=en==null?void 0:en.rect)!=null?l:null,ke),fe=R.useRef(null),le=R.useCallback((De,vt)=>{let{sensor:St,options:In}=vt;if(j.current==null)return;const Dt=x.get(j.current);if(!Dt)return;const _t=De.nativeEvent,tn=new St({active:j.current,activeNode:Dt,event:_t,options:In,context:gn,onAbort(xe){if(!x.get(xe))return;const{onDragAbort:Et}=ie.current,G={id:xe};Et==null||Et(G),y({type:"onDragAbort",event:G})},onPending(xe,He,Et,G){if(!x.get(xe))return;const{onDragPending:Ne}=ie.current,Je={id:xe,constraint:He,initialCoordinates:Et,offset:G};Ne==null||Ne(Je),y({type:"onDragPending",event:Je})},onStart(xe){const He=j.current;if(He==null)return;const Et=x.get(He);if(!Et)return;const{onDragStart:G}=ie.current,Tn={activatorEvent:_t,active:{id:He,data:Et.data,rect:$}};wo.unstable_batchedUpdates(()=>{G==null||G(Tn),b(Ti.Initializing),g({type:$e.DragStart,initialCoordinates:xe,active:He}),y({type:"onDragStart",event:Tn}),q(fe.current),Y(_t)})},onMove(xe){g({type:$e.DragMove,coordinates:xe})},onEnd:N($e.DragEnd),onCancel:N($e.DragCancel)});fe.current=tn;function N(xe){return async function(){const{active:Et,collisions:G,over:Tn,scrollAdjustedTranslate:Ne}=gn.current;let Je=null;if(Et&&Ne){const{cancelDrop:$i}=ie.current;Je={activatorEvent:_t,active:Et,collisions:G,delta:Ne,over:Tn},xe===$e.DragEnd&&typeof $i=="function"&&await Promise.resolve($i(Je))&&(xe=$e.DragCancel)}j.current=null,wo.unstable_batchedUpdates(()=>{g({type:xe}),b(Ti.Uninitialized),Co(null),q(null),Y(null),fe.current=null;const $i=xe===$e.DragEnd?"onDragEnd":"onDragCancel";if(Je){const pt=ie.current[$i];pt==null||pt(Je),y({type:$i,event:Je})}})}}},[x]),be=R.useCallback((De,vt)=>(St,In)=>{const Dt=St.nativeEvent,_t=x.get(In);if(j.current!==null||!_t||Dt.dndKit||Dt.defaultPrevented)return;const tn={active:_t};De(St,vt.options,tn)===!0&&(Dt.dndKit={capturedBy:vt.sensor},j.current=In,le(St,vt))},[x,le]),Pt=R1(d,be);L1(d),ai(()=>{ke&&C===Ti.Initializing&&b(Ti.Initialized)},[ke,C]),R.useEffect(()=>{const{onDragMove:De}=ie.current,{active:vt,activatorEvent:St,collisions:In,over:Dt}=gn.current;if(!vt||!St)return;const _t={active:vt,activatorEvent:St,collisions:In,delta:{x:_n.x,y:_n.y},over:Dt};wo.unstable_batchedUpdates(()=>{De==null||De(_t),y({type:"onDragMove",event:_t})})},[_n.x,_n.y]),R.useEffect(()=>{const{active:De,activatorEvent:vt,collisions:St,droppableContainers:In,scrollAdjustedTranslate:Dt}=gn.current;if(!De||j.current==null||!vt||!Dt)return;const{onDragOver:_t}=ie.current,tn=In.get(To),N=tn&&tn.rect.current?{id:tn.id,rect:tn.rect.current,data:tn.data,disabled:tn.disabled}:null,xe={active:De,activatorEvent:vt,collisions:St,delta:{x:Dt.x,y:Dt.y},over:N};wo.unstable_batchedUpdates(()=>{Co(N),_t==null||_t(xe),y({type:"onDragOver",event:xe})})},[To]),ai(()=>{gn.current={activatorEvent:z,active:O,activeNode:yt,collisionRect:En,collisions:Vn,droppableRects:Fe,draggableNodes:x,draggingNode:jt,draggingNodeRect:dt,droppableContainers:k,over:en,scrollableAncestors:ht,scrollAdjustedTranslate:_n},$.current={initial:dt,translated:En}},[O,yt,Vn,En,x,jt,dt,Fe,k,en,ht,_n]),T1({...ct,delta:w,draggingRect:En,pointerCoordinates:Sn,scrollableAncestors:ht,scrollableAncestorRects:On});const wt=R.useMemo(()=>({active:O,activeNode:yt,activeNodeRect:ke,activatorEvent:z,collisions:Vn,containerNodeRect:Nt,dragOverlay:ft,draggableNodes:x,droppableContainers:k,droppableRects:Fe,over:en,measureDroppableContainers:Ye,scrollableAncestors:ht,scrollableAncestorRects:On,measuringConfiguration:Ee,measuringScheduled:re,windowRect:vn}),[O,yt,ke,z,Vn,Nt,ft,x,k,Fe,en,Ye,ht,On,Ee,re,vn]),zt=R.useMemo(()=>({activatorEvent:z,activators:Pt,active:O,activeNodeRect:ke,ariaDescribedById:{draggable:ce},dispatch:g,draggableNodes:x,over:en,measureDroppableContainers:Ye}),[z,Pt,O,ke,g,ce,x,en,Ye]);return Ue.createElement(Nv.Provider,{value:v},Ue.createElement(Ys.Provider,{value:zt},Ue.createElement(Jv.Provider,{value:wt},Ue.createElement($a.Provider,{value:wl},f)),Ue.createElement(B1,{disabled:(r==null?void 0:r.restoreFocus)===!1})),Ue.createElement(JC,{...r,hiddenTextDescribedById:ce}));function Bn(){const De=(me==null?void 0:me.autoScrollEnabled)===!1,vt=typeof c=="object"?c.enabled===!1:c===!1,St=U&&!De&&!vt;return typeof c=="object"?{...c,enabled:St}:{enabled:St}}}),K1=R.createContext(null),kp="button",$1="Draggable";function X1(e){let{id:t,data:n,disabled:i=!1,attributes:o}=e;const l=Ja($1),{activators:s,activatorEvent:r,active:c,activeNodeRect:f,ariaDescribedById:d,draggableNodes:p,over:h}=R.useContext(Ys),{role:m=kp,roleDescription:S="draggable",tabIndex:_=0}=o??{},E=(c==null?void 0:c.id)===t,g=R.useContext(E?$a:K1),[y,v]=ha(),[C,b]=ha(),U=k1(s,t),A=Rs(n);ai(()=>(p.set(t,{id:t,key:l,node:y,activatorNode:C,data:A}),()=>{const w=p.get(t);w&&w.key===l&&p.delete(t)}),[p,t]);const x=R.useMemo(()=>({role:m,tabIndex:_,"aria-disabled":i,"aria-pressed":E&&m===kp?!0:void 0,"aria-roledescription":S,"aria-describedby":d.draggable}),[i,m,_,E,S,d.draggable]);return{active:c,activatorEvent:r,activeNodeRect:f,attributes:x,isDragging:E,listeners:i?void 0:U,node:y,over:h,setNodeRef:v,setActivatorNodeRef:b,transform:g}}function Q1(){return R.useContext(Jv)}const Z1="Droppable",W1={timeout:25};function j1(e){let{data:t,disabled:n=!1,id:i,resizeObserverConfig:o}=e;const l=Ja(Z1),{active:s,dispatch:r,over:c,measureDroppableContainers:f}=R.useContext(Ys),d=R.useRef({disabled:n}),p=R.useRef(!1),h=R.useRef(null),m=R.useRef(null),{disabled:S,updateMeasurementsFor:_,timeout:E}={...W1,...o},g=Rs(_??i),y=R.useCallback(()=>{if(!p.current){p.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{f(Array.isArray(g.current)?g.current:[g.current]),m.current=null},E)},[E]),v=Ka({callback:y,disabled:S||!s}),C=R.useCallback((x,w)=>{v&&(w&&(v.unobserve(w),p.current=!1),x&&v.observe(x))},[v]),[b,U]=ha(C),A=Rs(t);return R.useEffect(()=>{!v||!b.current||(v.disconnect(),p.current=!1,v.observe(b.current))},[b,v]),R.useEffect(()=>(r({type:$e.RegisterDroppable,element:{id:i,key:l,disabled:n,node:b,rect:h,data:A}}),()=>r({type:$e.UnregisterDroppable,key:l,id:i})),[i]),R.useEffect(()=>{n!==d.current.disabled&&(r({type:$e.SetDroppableDisabled,id:i,key:l,disabled:n}),d.current.disabled=n)},[i,l,n,r]),{active:s,rect:h,isOver:(c==null?void 0:c.id)===i,node:b,over:c,setNodeRef:U}}function eA(e){let{animation:t,children:n}=e;const[i,o]=R.useState(null),[l,s]=R.useState(null),r=pa(n);return!n&&!i&&r&&o(r),ai(()=>{if(!l)return;const c=i==null?void 0:i.key,f=i==null?void 0:i.props.id;if(c==null||f==null){o(null);return}Promise.resolve(t(f,l)).then(()=>{o(null)})},[t,i,l]),Ue.createElement(Ue.Fragment,null,n,i?R.cloneElement(i,{ref:s}):null)}const tA={x:0,y:0,scaleX:1,scaleY:1};function nA(e){let{children:t}=e;return Ue.createElement(Ys.Provider,{value:Yv},Ue.createElement($a.Provider,{value:tA},t))}const iA={position:"fixed",touchAction:"none"},oA=e=>Ed(e)?"transform 250ms ease":void 0,lA=R.forwardRef((e,t)=>{let{as:n,activatorEvent:i,adjustScale:o,children:l,className:s,rect:r,style:c,transform:f,transition:d=oA}=e;if(!r)return null;const p=o?f:{...f,scaleX:1,scaleY:1},h={...iA,width:r.width,height:r.height,top:r.top,left:r.left,transform:xs.Transform.toString(p),transformOrigin:o&&i?XC(i,r):void 0,transition:typeof d=="function"?d(i):d,...c};return Ue.createElement(n,{className:s,style:h,ref:t},l)}),sA=e=>t=>{let{active:n,dragOverlay:i}=t;const o={},{styles:l,className:s}=e;if(l!=null&&l.active)for(const[r,c]of Object.entries(l.active))c!==void 0&&(o[r]=n.node.style.getPropertyValue(r),n.node.style.setProperty(r,c));if(l!=null&&l.dragOverlay)for(const[r,c]of Object.entries(l.dragOverlay))c!==void 0&&i.node.style.setProperty(r,c);return s!=null&&s.active&&n.node.classList.add(s.active),s!=null&&s.dragOverlay&&i.node.classList.add(s.dragOverlay),function(){for(const[c,f]of Object.entries(o))n.node.style.setProperty(c,f);s!=null&&s.active&&n.node.classList.remove(s.active)}},rA=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:xs.Transform.toString(t)},{transform:xs.Transform.toString(n)}]},aA={duration:250,easing:"ease",keyframes:rA,sideEffects:sA({styles:{active:{opacity:"0"}}})};function uA(e){let{config:t,draggableNodes:n,droppableContainers:i,measuringConfiguration:o}=e;return Ya((l,s)=>{if(t===null)return;const r=n.get(l);if(!r)return;const c=r.node.current;if(!c)return;const f=Fv(s);if(!f)return;const{transform:d}=xt(s).getComputedStyle(s),p=Iv(d);if(!p)return;const h=typeof t=="function"?t:cA(t);return Pv(c,o.draggable.measure),h({active:{id:l,data:r.data,node:c,rect:o.draggable.measure(c)},draggableNodes:n,dragOverlay:{node:s,rect:o.dragOverlay.measure(f)},droppableContainers:i,measuringConfiguration:o,transform:p})})}function cA(e){const{duration:t,easing:n,sideEffects:i,keyframes:o}={...aA,...e};return l=>{let{active:s,dragOverlay:r,transform:c,...f}=l;if(!t)return;const d={x:r.rect.left-s.rect.left,y:r.rect.top-s.rect.top},p={scaleX:c.scaleX!==1?s.rect.width*c.scaleX/r.rect.width:1,scaleY:c.scaleY!==1?s.rect.height*c.scaleY/r.rect.height:1},h={x:c.x-d.x,y:c.y-d.y,...p},m=o({...f,active:s,dragOverlay:r,transform:{initial:c,final:h}}),[S]=m,_=m[m.length-1];if(JSON.stringify(S)===JSON.stringify(_))return;const E=i==null?void 0:i({active:s,dragOverlay:r,...f}),g=r.node.animate(m,{duration:t,easing:n,fill:"forwards"});return new Promise(y=>{g.onfinish=()=>{E==null||E(),y()}})}}let qp=0;function fA(e){return R.useMemo(()=>{if(e!=null)return qp++,qp},[e])}const dA=Ue.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:i,style:o,transition:l,modifiers:s,wrapperElement:r="div",className:c,zIndex:f=999}=e;const{activatorEvent:d,active:p,activeNodeRect:h,containerNodeRect:m,draggableNodes:S,droppableContainers:_,dragOverlay:E,over:g,measuringConfiguration:y,scrollableAncestors:v,scrollableAncestorRects:C,windowRect:b}=Q1(),U=R.useContext($a),A=fA(p==null?void 0:p.id),x=Kv(s,{activatorEvent:d,active:p,activeNodeRect:h,containerNodeRect:m,draggingNodeRect:E.rect,over:g,overlayNodeRect:E.rect,scrollableAncestors:v,scrollableAncestorRects:C,transform:U,windowRect:b}),w=bd(h),k=uA({config:i,draggableNodes:S,droppableContainers:_,measuringConfiguration:y}),H=w?E.setRef:void 0;return Ue.createElement(nA,null,Ue.createElement(eA,{animation:k},p&&A?Ue.createElement(lA,{key:A,id:p.id,ref:H,as:r,activatorEvent:d,adjustScale:t,className:c,transition:l,rect:w,style:{zIndex:f,...o},transform:x},n):null))}),hA=e=>{let{activatorEvent:t,draggingNodeRect:n,transform:i}=e;if(n&&t){const o=bs(t);if(!o)return i;const l=o.x-n.left,s=o.y-n.top;return{...i,x:i.x+l-n.width/2,y:i.y+s-n.height/2}}return i};function pA(e,t,n){const i=Array.from(Array(e),()=>new Array(t));for(let o=0;o<e;o++)for(let l=0;l<t;l++)i[o][l]={squareId:`${xd(l,t,n)}${$v(o,e,n)}`,isLightSquare:(o+l)%2===0};return i}function $v(e,t,n){return n==="white"?(t-e).toString():(e+1).toString()}function xd(e,t,n){return n==="white"?String.fromCharCode(97+e):String.fromCharCode(97+t-e-1)}function io(e,t,n){return n==="white"?e.charCodeAt(0)-97:t-(e.charCodeAt(0)-97)-1}function nf(e,t,n){return n==="white"?t-Number(e):Number(e)-1}function Zu(e,t,n){const i={},o=e.split(" ")[0].split("/");for(let l=0;l<o.length;l++){let s=0;for(const r of o[l])if(isNaN(Number(r))){const c=`${xd(s,n,"white")}${$v(l,t,"white")}`;i[c]={pieceType:mA(r)},s++}else s+=Number(r)}return i}function mA(e){return e.toLowerCase()===e?"b"+e.toUpperCase():"w"+e.toUpperCase()}function gA(e,t,n,i){var l,s,r,c,f,d,p,h,m,S,_,E;const o={};for(const g in t){const y=[];if(((l=e[g])==null?void 0:l.pieceType)!==t[g].pieceType){for(const v in e)e[v].pieceType===t[g].pieceType&&v!==g&&e[v].pieceType!==((s=t[v])==null?void 0:s.pieceType)&&y.push(v);if(y.length===1)o[y[0]]=g;else{for(const v of y){const C=e[v].pieceType[1],b=Math.abs(io(((r=v.match(/^[a-z]+/))==null?void 0:r[0])??"",n,i)-io(((c=g.match(/^[a-z]+/))==null?void 0:c[0])??"",n,i)),U=Math.abs(Number(((f=v.match(/\d+$/))==null?void 0:f[0])??"")-Number(((d=g.match(/\d+$/))==null?void 0:d[0])??"")),A=(io(((p=v.match(/^[a-z]+/))==null?void 0:p[0])??"",n,i)+Number(((h=v.match(/\d+$/))==null?void 0:h[0])??""))%2===0,x=(io(((m=g.match(/^[a-z]+/))==null?void 0:m[0])??"",n,i)+Number(((S=g.match(/\d+$/))==null?void 0:S[0])??""))%2===0;if(C==="P"&&((_=v.match(/^[a-z]+/))==null?void 0:_[0])===((E=g.match(/^[a-z]+/))==null?void 0:E[0])){o[v]=g;break}if(C==="N"&&(b===2&&U===1||b===1&&U===2)){o[v]=g;break}if(C==="B"&&b===U&&A===x){o[v]=g;break}if(C==="R"&&(b===0||U===0)){o[v]=g;break}if(C==="Q"&&(b===0||U===0||b===U)){o[v]=g;break}if(C==="K"&&b<=1&&U<=1){o[v]=g;break}}if(!Object.values(o).includes(g)&&y.length>0){for(const v of y)if(!Object.keys(o).includes(v)){o[v]=g;break}}}}}return o}function yA(e,t,n,i){var l,s;const o={};for(const r in t)if(((l=e[r])==null?void 0:l.pieceType)!==t[r].pieceType)for(const c in e)((s=t[c])==null?void 0:s.pieceType)!==e[c].pieceType&&vA(e,t,c,r,n,i)&&(o[c]=r);return o}function vA(e,t,n,i,o,l){const s=e[n].pieceType,r=t[i].pieceType,c=new Set(["Q","R","B","N"]);let f,d;if(s[1]==="P"&&c.has(r[1]))f=n,d=i;else if(r[1]==="P"&&c.has(s[1]))f=i,d=n;else return!1;if(Math.abs(io(f[0],l,"black")-io(d[0],l,"black"))>1||s[0]!==r[0])return!1;const h=nf(f[1],o,"black"),m=nf(d[1],o,"black");return s[0]==="b"&&h===1&&m===0?!0:s[0]==="w"&&h===o-2&&m===o-1}function Gp(e,t,n,i,o){var c,f;const l=t/n,s=io(((c=o.match(/^[a-z]+/))==null?void 0:c[0])??"",n,e)*l+l/2,r=nf(((f=o.match(/\d+$/))==null?void 0:f[0])??"",i,e)*l+l/2;return{x:s,y:r}}const SA={wP:e=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e==null?void 0:e.svgStyle,children:T.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:(e==null?void 0:e.fill)??"#ffffff",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})}),wR:e=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e==null?void 0:e.svgStyle,children:T.jsxs("g",{style:{opacity:"1",fill:(e==null?void 0:e.fill)??"#ffffff",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[T.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),T.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),T.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14",style:{strokeLinecap:"butt"}}),T.jsx("path",{d:"M 34,14 L 31,17 L 14,17 L 11,14"}),T.jsx("path",{d:"M 31,17 L 31,29.5 L 14,29.5 L 14,17",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),T.jsx("path",{d:"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5"}),T.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]})}),wN:e=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e==null?void 0:e.svgStyle,children:T.jsxs("g",{style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[T.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:(e==null?void 0:e.fill)??"#ffffff",stroke:"#000000"}}),T.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:(e==null?void 0:e.fill)??"#ffffff",stroke:"#000000"}}),T.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#000000",stroke:"#000000"}}),T.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#000000",stroke:"#000000"}})]})}),wB:e=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e==null?void 0:e.svgStyle,children:T.jsxs("g",{style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[T.jsxs("g",{style:{fill:(e==null?void 0:e.fill)??"#ffffff",stroke:"#000000",strokeLinecap:"butt"},children:[T.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),T.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),T.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]}),T.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]})}),wQ:e=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e==null?void 0:e.svgStyle,children:T.jsxs("g",{style:{fill:(e==null?void 0:e.fill)??"#ffffff",stroke:"#000000",strokeWidth:"1.5",strokeLinejoin:"round"},children:[T.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"}),T.jsx("path",{d:"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 11,36 11,36 C 9.5,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"}),T.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30",style:{fill:"none"}}),T.jsx("path",{d:"M 12,33.5 C 18,32.5 27,32.5 33,33.5",style:{fill:"none"}}),T.jsx("circle",{cx:"6",cy:"12",r:"2"}),T.jsx("circle",{cx:"14",cy:"9",r:"2"}),T.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),T.jsx("circle",{cx:"31",cy:"9",r:"2"}),T.jsx("circle",{cx:"39",cy:"12",r:"2"})]})}),wK:e=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e==null?void 0:e.svgStyle,children:T.jsxs("g",{style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[T.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),T.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),T.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:(e==null?void 0:e.fill)??"#ffffff",stroke:"#000000",strokeLinecap:"butt",strokeLinejoin:"miter"}}),T.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:(e==null?void 0:e.fill)??"#ffffff",stroke:"#000000"}}),T.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30",style:{fill:"none",stroke:"#000000"}}),T.jsx("path",{d:"M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5",style:{fill:"none",stroke:"#000000"}}),T.jsx("path",{d:"M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#000000"}})]})}),bP:e=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e==null?void 0:e.svgStyle,children:T.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:(e==null?void 0:e.fill)??"#000000",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})}),bR:e=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e==null?void 0:e.svgStyle,children:T.jsxs("g",{style:{opacity:"1",fill:(e==null?void 0:e.fill)??"#000000",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[T.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),T.jsx("path",{d:"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z ",style:{strokeLinecap:"butt"}}),T.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),T.jsx("path",{d:"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z ",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),T.jsx("path",{d:"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z ",style:{strokeLinecap:"butt"}}),T.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z ",style:{strokeLinecap:"butt"}}),T.jsx("path",{d:"M 12,35.5 L 33,35.5 L 33,35.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),T.jsx("path",{d:"M 13,31.5 L 32,31.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),T.jsx("path",{d:"M 14,29.5 L 31,29.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),T.jsx("path",{d:"M 14,16.5 L 31,16.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),T.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}})]})}),bN:e=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e==null?void 0:e.svgStyle,children:T.jsxs("g",{style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[T.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:(e==null?void 0:e.fill)??"#000000",stroke:"#000000"}}),T.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:(e==null?void 0:e.fill)??"#000000",stroke:"#000000"}}),T.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#ffffff",stroke:"#ffffff"}}),T.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#ffffff",stroke:"#ffffff"}}),T.jsx("path",{d:"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z ",style:{fill:"#ffffff",stroke:"none"}})]})}),bB:e=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e==null?void 0:e.svgStyle,children:T.jsxs("g",{style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[T.jsxs("g",{style:{fill:(e==null?void 0:e.fill)??"#000000",stroke:"#000000",strokeLinecap:"butt"},children:[T.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),T.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),T.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]}),T.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#ffffff",strokeLinejoin:"miter"}})]})}),bQ:e=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e==null?void 0:e.svgStyle,children:T.jsxs("g",{style:{fill:(e==null?void 0:e.fill)??"#000000",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},children:[T.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z",style:{strokeLinecap:"butt",fill:(e==null?void 0:e.fill)??"#000000"}}),T.jsx("path",{d:"m 9,26 c 0,2 1.5,2 2.5,4 1,1.5 1,1 0.5,3.5 -1.5,1 -1,2.5 -1,2.5 -1.5,1.5 0,2.5 0,2.5 6.5,1 16.5,1 23,0 0,0 1.5,-1 0,-2.5 0,0 0.5,-1.5 -1,-2.5 -0.5,-2.5 -0.5,-2 0.5,-3.5 1,-2 2.5,-2 2.5,-4 -8.5,-1.5 -18.5,-1.5 -27,0 z"}),T.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30"}),T.jsx("path",{d:"m 12,33.5 c 6,-1 15,-1 21,0"}),T.jsx("circle",{cx:"6",cy:"12",r:"2"}),T.jsx("circle",{cx:"14",cy:"9",r:"2"}),T.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),T.jsx("circle",{cx:"31",cy:"9",r:"2"}),T.jsx("circle",{cx:"39",cy:"12",r:"2"}),T.jsx("path",{d:"M 11,38.5 A 35,35 1 0 0 34,38.5",style:{fill:"none",stroke:"#000000",strokeLinecap:"butt"}}),T.jsxs("g",{style:{fill:"none",stroke:"#ffffff"},children:[T.jsx("path",{d:"M 11,29 A 35,35 1 0 1 34,29"}),T.jsx("path",{d:"M 12.5,31.5 L 32.5,31.5"}),T.jsx("path",{d:"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"}),T.jsx("path",{d:"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"})]})]})}),bK:e=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e==null?void 0:e.svgStyle,children:T.jsxs("g",{style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[T.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"},id:"path6570"}),T.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:(e==null?void 0:e.fill)??"#000000",fillOpacity:"1",strokeLinecap:"butt",strokeLinejoin:"miter"}}),T.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:(e==null?void 0:e.fill)??"#000000",stroke:"#000000"}}),T.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),T.jsx("path",{d:"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.5,26.6 L 22.5,24.5 C 20,18 10.85,14 6.97,19.85 C 4.5,25.5 13,29.5 13,29.5",style:{fill:"none",stroke:"#ffffff"}}),T.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30 M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5 M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#ffffff"}})]})})};function Xv(e){return{display:"grid",gridTemplateColumns:`repeat(${e}, 1fr)`,overflow:"hidden",width:"100%",height:"100%",position:"relative"}}const Qv={aspectRatio:"1/1",display:"flex",justifyContent:"center",alignItems:"center",position:"relative"},Zv={backgroundColor:"#B58863"},Wv={backgroundColor:"#F0D9B5"},jv={boxShadow:"inset 0px 0px 0px 1px black"},eS={color:"#F0D9B5"},tS={color:"#B58863"},nS={fontSize:"13px",position:"absolute",bottom:1,right:4,userSelect:"none"},iS={fontSize:"13px",position:"absolute",top:2,left:2,userSelect:"none"},oS={transform:"scale(1.2)"},lS={opacity:.5},_A={color:"#ffaa00",secondaryColor:"#4caf50",tertiaryColor:"#f44336",arrowLengthReducerDenominator:8,sameTargetArrowLengthReducerDenominator:4,arrowWidthDenominator:5,activeArrowWidthMultiplier:.9,opacity:.65,activeOpacity:.5};class EA extends Rd{constructor(n){super(n);Te(this,"handleContextMenu",()=>{this.props&&typeof this.props.onCancel=="function"&&this.props.onCancel()});typeof window<"u"&&window.addEventListener("contextmenu",this.handleContextMenu,{passive:!1})}teardown(){typeof window<"u"&&window.removeEventListener("contextmenu",this.handleContextMenu)}}const sS=R.createContext(null),Cl=()=>R.use(sS);function TA({children:e,options:t}){const{id:n="chessboard",pieces:i=SA,position:o="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR",boardOrientation:l="white",chessboardRows:s=8,chessboardColumns:r=8,boardStyle:c=Xv(r),squareStyle:f=Qv,squareStyles:d={},darkSquareStyle:p=Zv,lightSquareStyle:h=Wv,dropSquareStyle:m=jv,draggingPieceStyle:S=oS,draggingPieceGhostStyle:_=lS,darkSquareNotationStyle:E=eS,lightSquareNotationStyle:g=tS,alphaNotationStyle:y=nS,numericNotationStyle:v=iS,showNotation:C=!0,animationDurationInMs:b=300,showAnimations:U=!0,allowDragging:A=!0,allowDragOffBoard:x=!0,allowAutoScroll:w=!1,dragActivationDistance:k=1,allowDrawingArrows:H=!0,arrows:$=[],arrowOptions:O=_A,clearArrowsOnClick:j=!0,clearArrowsOnPositionChange:me=!0,canDragPiece:q,onArrowsChange:z,onMouseOutSquare:Y,onMouseOverSquare:ie,onPieceClick:ce,onPieceDrag:it,onPieceDrop:Ee,onSquareClick:Fe,onSquareMouseDown:Ye,onSquareMouseUp:re,onSquareRightClick:yt,squareRenderer:Pn}=t||{},[ct,wn]=R.useState(null),[ke,Nt]=R.useState(typeof o=="string"?Zu(o,s,r):o),[gn,yn]=R.useState({}),[ft,jt]=R.useState(null),[dt,zn]=R.useState(null),[pi,vn]=R.useState(null),[ht,On]=R.useState([]),[mi,Sn]=R.useState(null),Dn=R.useRef(null),bl=`dnd-${n}`;R.useEffect(()=>{const fe=typeof o=="string"?Zu(o,s,r):o;if(me&&En(),!U){Nt(fe);return}const le=mi;le&&(Nt(le),Sn(null));const be=gA(le??ke,fe,r,l),Pt=Object.keys(be).length>1;if(ft&&Pt){const zt={...ke};delete zt[ft.sourceSquare],zt[ft.targetSquare]={pieceType:ft.piece},Nt(zt);const Bn={...be};delete Bn[ft.sourceSquare],yn(Bn);const De=setTimeout(()=>{Nt(fe),yn({}),jt(null)},b);Dn.current=De;return}if(ft){Nt(fe),jt(null);return}if(Object.keys(be).length===0){const zt=yA(le??ke,fe,s,r);if(Object.keys(zt).length===1){yn(zt),Sn(fe);const Bn=setTimeout(()=>{Nt(fe),yn({}),Sn(null)},b);Dn.current=Bn;return}}yn(be),Sn(fe);const wt=setTimeout(()=>{Nt(fe),yn({}),Sn(null)},b);return Dn.current=wt,()=>{Dn.current&&clearTimeout(Dn.current)}},[o]),R.useEffect(()=>{Nt(typeof o=="string"?Zu(o,s,r):o)},[s,r,l]),R.useEffect(()=>{z==null||z({arrows:ht})},[ht]);const xl=R.useMemo(()=>pA(s,r,l),[s,r,l]),_n=R.useCallback((fe,le)=>{if(!H)return;const be=ht.findIndex(wt=>wt.startSquare===dt&&wt.endSquare===fe);if($.some(wt=>wt.startSquare===dt&&wt.endSquare===fe)){zn(null),vn(null);return}if(dt&&dt!==fe){const wt=le!=null&&le.shiftKey?O.secondaryColor:le!=null&&le.ctrlKey?O.tertiaryColor:O.color;On(zt=>be===-1?[...zt,{startSquare:dt,endSquare:fe,color:wt}]:zt.filter((Bn,De)=>De!==be)),zn(null),vn(null)}},[H,$,O.color,O.secondaryColor,O.tertiaryColor,ht,dt,pi]),En=R.useCallback(()=>{j&&(On([]),zn(null),vn(null))},[j]),Vn=R.useCallback((fe,le)=>{const be=le!=null&&le.shiftKey?O.secondaryColor:le!=null&&le.ctrlKey?O.tertiaryColor:O.color;vn(fe?{square:fe,color:be}:null)},[O]),To=R.useCallback(()=>{wn(null)},[]),en=R.useCallback(function(le){var Pt;if(!ct)return;const be=(Pt=le.over)==null?void 0:Pt.id.toString();if(!be){Ee==null||Ee({piece:ct,sourceSquare:ct.position,targetSquare:null}),jt({piece:ct.pieceType,sourceSquare:ct.position,targetSquare:""}),wn(null);return}le.over&&(Ee!=null&&Ee({piece:ct,sourceSquare:ct.position,targetSquare:be})&&jt({piece:ct.pieceType,sourceSquare:ct.position,targetSquare:be}),wn(null))},[ct]),Co=R.useCallback(function({active:le}){var Pt;const be=(Pt=le.data.current)==null?void 0:Pt.isSparePiece;it==null||it({isSparePiece:be,piece:be?{pieceType:le.id}:ke[le.id],square:be?null:le.id}),wn({isSparePiece:be,position:le.id,pieceType:be?le.id:ke[le.id].pieceType})},[ke]),Nl=KC(dr(EA,{activationConstraint:k>0?{distance:k}:void 0}),dr(Ad),dr(Vv),dr(Ov));function wl(fe){return fe.pointerCoordinates?n1(fe):wv(fe)}return T.jsx(sS.Provider,{value:{id:n,pieces:i,boardOrientation:l,chessboardRows:s,chessboardColumns:r,boardStyle:c,squareStyle:f,squareStyles:d,darkSquareStyle:p,lightSquareStyle:h,dropSquareStyle:m,draggingPieceStyle:S,draggingPieceGhostStyle:_,darkSquareNotationStyle:E,lightSquareNotationStyle:g,alphaNotationStyle:y,numericNotationStyle:v,showNotation:C,animationDurationInMs:b,showAnimations:U,allowDragging:A,allowDragOffBoard:x,allowDrawingArrows:H,arrows:$,arrowOptions:O,canDragPiece:q,onMouseOutSquare:Y,onMouseOverSquare:ie,onPieceClick:ce,onSquareClick:Fe,onSquareMouseDown:Ye,onSquareMouseUp:re,onSquareRightClick:yt,squareRenderer:Pn,board:xl,isWrapped:!0,draggingPiece:ct,currentPosition:ke,positionDifferences:gn,newArrowStartSquare:dt,newArrowOverSquare:pi,setNewArrowStartSquare:zn,setNewArrowOverSquare:Vn,internalArrows:ht,drawArrow:_n,clearArrows:En},children:T.jsx(J1,{autoScroll:w,collisionDetection:wl,onDragStart:Co,onDragEnd:en,onDragCancel:To,sensors:Nl,id:bl,children:e})})}function CA(){const{id:e,arrows:t,arrowOptions:n,boardOrientation:i,chessboardColumns:o,chessboardRows:l,internalArrows:s,newArrowStartSquare:r,newArrowOverSquare:c}=Cl(),f=2048,d=f*(l/o),p=r&&c&&r!==c.square?{startSquare:r,endSquare:c.square,color:c.color}:null,h=p?[...t,...s,p]:[...t,...s];return T.jsx("svg",{viewBox:`0 0 ${f} ${d}`,style:{position:"absolute",top:"0",right:"0",bottom:"0",left:"0",pointerEvents:"none",zIndex:"20"},children:h.map((m,S)=>{const _=Gp(i,f,o,l,m.startSquare),E=Gp(i,f,o,l,m.endSquare),g=f/o;let y=g/n.arrowLengthReducerDenominator;const v=p&&S===h.length-1;h.some(x=>x.startSquare!==m.startSquare&&x.endSquare===m.endSquare)&&!v&&(y=g/n.sameTargetArrowLengthReducerDenominator);const C=E.x-_.x,b=E.y-_.y,U=Math.hypot(b,C);let A;if(U===Math.hypot(1,2)*g){const x=Math.abs(C)<Math.abs(b)?{x:_.x,y:E.y}:{x:E.x,y:_.y},w=E.x-x.x,k=E.y-x.y,H=g,$={x:x.x+w*(H-y)/H,y:x.y+k*(H-y)/H};A=`M${_.x},${_.y} L${x.x},${x.y} L${$.x},${$.y}`}else{const x={x:_.x+C*(U-y)/U,y:_.y+b*(U-y)/U};A=`M${_.x},${_.y} L${x.x},${x.y}`}return T.jsxs(R.Fragment,{children:[T.jsx("marker",{id:`${e}-arrowhead-${S}-${m.startSquare}-${m.endSquare}`,markerWidth:"2",markerHeight:"2.5",refX:"1.25",refY:"1.25",orient:"auto",children:T.jsx("polygon",{points:"0.3 0, 2 1.25, 0.3 2.5",fill:m.color})}),T.jsx("path",{d:A,fill:"none",opacity:v?n.activeOpacity:n.opacity,stroke:m.color,strokeWidth:v?n.activeArrowWidthMultiplier*(g/n.arrowWidthDenominator):g/n.arrowWidthDenominator,markerEnd:`url(#${e}-arrowhead-${S}-${m.startSquare}-${m.endSquare})`})]},`${e}-arrow-${m.startSquare}-${m.endSquare}${v?"-active":""}`)})})}function AA({children:e,isSparePiece:t=!1,pieceType:n,position:i}){const{allowDragging:o,canDragPiece:l}=Cl(),{setNodeRef:s,attributes:r,listeners:c}=X1({id:i,data:{isSparePiece:t,pieceType:n},disabled:!o||l&&!l({piece:{pieceType:n},isSparePiece:t,square:i})});return T.jsx("div",{ref:s,...r,...c,children:e})}function MA({children:e,squareId:t}){const{isOver:n,setNodeRef:i}=j1({id:t});return T.jsx("div",{ref:i,children:e({isOver:n})})}const Hp=R.memo(function({clone:t,isSparePiece:n=!1,position:i,pieceType:o}){const{id:l,allowDragging:s,animationDurationInMs:r,boardOrientation:c,canDragPiece:f,draggingPiece:d,draggingPieceStyle:p,draggingPieceGhostStyle:h,pieces:m,positionDifferences:S,onPieceClick:_}=Cl(),[E,g]=R.useState({});let y=t?"grabbing":"grab";(!s||f&&!f({piece:{pieceType:o},isSparePiece:n,square:i}))&&(y="pointer"),R.useEffect(()=>{var C;if(S[i]){const b=i,U=S[i],A=(C=document.querySelector(`#${l}-square-${b}`))==null?void 0:C.getBoundingClientRect().width;if(!A)throw new Error("Square width not found");g({transform:`translate(${(c==="black"?-1:1)*(U.charCodeAt(0)-b.charCodeAt(0))*A}px, ${(c==="black"?-1:1)*(Number(b[1])-Number(U[1]))*A}px)`,transition:`transform ${r}ms`,position:"relative",zIndex:10})}else g({})},[S]);const v=m[o];return T.jsx("div",{id:`${l}-piece-${o}-${i}`,"data-piece":o,style:{...E,...t?{...oS,...p}:{},...!t&&(d==null?void 0:d.position)===i?{...lS,...h}:{},width:"100%",height:"100%",cursor:y,touchAction:"none"},onClick:()=>_==null?void 0:_({isSparePiece:n,piece:{pieceType:o},square:i}),children:T.jsx(v,{})})}),RA=R.memo(function({children:t,squareId:n,isLightSquare:i,isOver:o}){var Fe,Ye;const[l,s]=R.useState(!1),{id:r,allowDrawingArrows:c,boardOrientation:f,chessboardColumns:d,chessboardRows:p,currentPosition:h,draggingPiece:m,squareStyle:S,squareStyles:_,darkSquareStyle:E,lightSquareStyle:g,dropSquareStyle:y,darkSquareNotationStyle:v,lightSquareNotationStyle:C,alphaNotationStyle:b,numericNotationStyle:U,showNotation:A,onMouseOutSquare:x,onMouseOverSquare:w,onSquareClick:k,onSquareMouseDown:H,onSquareMouseUp:$,onSquareRightClick:O,squareRenderer:j,newArrowStartSquare:me,setNewArrowStartSquare:q,setNewArrowOverSquare:z,drawArrow:Y,clearArrows:ie}=Cl(),ce=R.useRef(o);R.useEffect(()=>{o&&m?w==null||w({piece:h[n]??null,square:n}):!o&&m&&ce.current&&(x==null||x({piece:h[n]??null,square:n})),ce.current=o},[h,m,o,n]);const it=(Fe=n.match(/^[a-z]+/))==null?void 0:Fe[0],Ee=(Ye=n.match(/\d+$/))==null?void 0:Ye[0];return T.jsxs("div",{id:`${r}-square-${n}`,style:{...Qv,...S,...i?{...Wv,...g}:{...Zv,...E},...o?{...jv,...y}:{}},"data-column":it,"data-row":Ee,"data-square":n,onClick:re=>{re.button===0&&(k==null||k({piece:h[n]??null,square:n}))},onTouchEnd:re=>{re.preventDefault(),k==null||k({piece:h[n]??null,square:n})},onContextMenu:re=>{re.preventDefault(),l||O==null||O({piece:h[n]??null,square:n}),s(!1)},onMouseDown:re=>{re.button===0&&ie(),re.button===2&&c&&q(n),H==null||H({piece:h[n]??null,square:n},re)},onMouseUp:re=>{re.button===2&&(c&&me&&me!==n?(s(!0),Y(n,{shiftKey:re.shiftKey,ctrlKey:re.ctrlKey})):me===n&&(q(null),z(null))),$==null||$({piece:h[n]??null,square:n},re)},onMouseOver:re=>{re.buttons===2&&c&&me&&me!==n?z(n,{shiftKey:re.shiftKey,ctrlKey:re.ctrlKey}):me===n&&z(null),m||w==null||w({piece:h[n]??null,square:n})},onMouseLeave:()=>{m||x==null||x({piece:h[n]??null,square:n})},children:[A?T.jsxs("span",{style:i?{...tS,...C}:{...eS,...v},children:[Ee===(f==="white"?"1":p.toString())&&T.jsx("span",{style:{...nS,...b},children:it}),it===(f==="white"?"a":xd(0,d,f))&&T.jsx("span",{style:{...iS,...U},children:Ee})]}):null,(j==null?void 0:j({piece:h[n]??null,square:n,children:t}))||T.jsx("div",{style:{width:"100%",height:"100%",..._[n]},children:t})]})}),bA=(e,t)=>({transform:n})=>{const i=typeof document<"u"?document.getElementById(`${e}-board`):null;if(!i)return n;const o=i.getBoundingClientRect(),l=i.querySelector('[data-column="a"][data-row="1"]');if(!l)return n;const r=l.getBoundingClientRect().width/2,c=t.match(/^([a-zA-Z]+)(\d+)$/);if(!c)return n;const[,f,d]=c,p=i.querySelector(`[data-column="${f}"][data-row="${d}"]`);if(!p)return n;const h=p.getBoundingClientRect(),m=h.left+r-o.left,S=h.top+r-o.top,_=-m,E=o.width-m,g=-S,y=o.height-S,v=Math.min(Math.max(n.x,_),E),C=Math.min(Math.max(n.y,g),y);return{...n,x:v,y:C}};function Pp(){const{allowDragOffBoard:e,board:t,boardStyle:n,chessboardColumns:i,currentPosition:o,draggingPiece:l,id:s}=Cl();return T.jsxs(T.Fragment,{children:[T.jsxs("div",{id:`${s}-board`,style:{...Xv(i),...n},children:[t.map(r=>r.map(c=>{const f=o[c.squareId];return T.jsx(MA,{squareId:c.squareId,children:({isOver:d})=>T.jsx(RA,{isOver:d,...c,children:f?T.jsx(AA,{isSparePiece:!1,position:c.squareId,pieceType:f.pieceType,children:T.jsx(Hp,{...f,position:c.squareId})}):null})},c.squareId)})),T.jsx(CA,{})]}),T.jsx(dA,{dropAnimation:null,modifiers:[hA,...e?[]:[bA(s,(l==null?void 0:l.position)||"")]],children:l?T.jsx(Hp,{clone:!0,position:l.position,pieceType:l.pieceType}):null})]})}function xA({options:e}){const{isWrapped:t}=Cl()??{isWrapped:!1};return t?T.jsx(Pp,{}):T.jsx(TA,{options:e,children:T.jsx(Pp,{})})}/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wA=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),zp=e=>{const t=wA(e);return t.charAt(0).toUpperCase()+t.slice(1)},rS=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim(),DA=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=R.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:s,...r},c)=>R.createElement("svg",{ref:c,...IA,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:rS("lucide",o),...!l&&!DA(r)&&{"aria-hidden":"true"},...r},[...s.map(([f,d])=>R.createElement(f,d)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=(e,t)=>{const n=R.forwardRef(({className:i,...o},l)=>R.createElement(UA,{ref:l,iconNode:t,className:rS(`lucide-${NA(zp(e))}`,`lucide-${e}`,i),...o}));return n.displayName=zp(e),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],Op=fi("brain-circuit",LA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],qA=fi("chevron-left",kA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],HA=fi("history",GA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Vp=fi("info",PA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],OA=fi("message-circle",zA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],BA=fi("rotate-ccw",VA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Wu=fi("trophy",FA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Bp=fi("user",YA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],KA=fi("zap",JA);var $A={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let XA,QA;function ZA(){return{geminiUrl:XA,vertexUrl:QA}}function WA(e,t,n,i){var o,l;if(!(e!=null&&e.baseUrl)){const s=ZA();return t?(o=s.vertexUrl)!==null&&o!==void 0?o:n:(l=s.geminiUrl)!==null&&l!==void 0?l:i}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class di{}function P(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(i,o)=>{if(Object.prototype.hasOwnProperty.call(t,o)){const l=t[o];return l!=null?String(l):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function u(e,t,n){for(let l=0;l<t.length-1;l++){const s=t[l];if(s.endsWith("[]")){const r=s.slice(0,-2);if(!(r in e))if(Array.isArray(n))e[r]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(e[r])){const c=e[r];if(Array.isArray(n))for(let f=0;f<c.length;f++){const d=c[f];u(d,t.slice(l+1),n[f])}else for(const f of c)u(f,t.slice(l+1),n)}return}else if(s.endsWith("[0]")){const r=s.slice(0,-3);r in e||(e[r]=[{}]);const c=e[r];u(c[0],t.slice(l+1),n);return}(!e[s]||typeof e[s]!="object")&&(e[s]={}),e=e[s]}const i=t[t.length-1],o=e[i];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[i]=n}function a(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let i=0;i<t.length;i++){if(typeof e!="object"||e===null)return n;const o=t[i];if(o.endsWith("[]")){const l=o.slice(0,-2);if(l in e){const s=e[l];return Array.isArray(s)?s.map(r=>a(r,t.slice(i+1),n)):n}else return n}else e=e[o]}return e}catch(i){if(i instanceof TypeError)return n;throw i}}function jA(e,t){for(const[n,i]of Object.entries(t)){const o=n.split("."),l=i.split("."),s=new Set;let r=-1;for(let c=0;c<o.length;c++)if(o[c]==="*"){r=c;break}if(r!==-1&&l.length>r)for(let c=r;c<l.length;c++){const f=l[c];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&s.add(f)}of(e,o,l,0,s)}}function of(e,t,n,i,o){if(i>=t.length||typeof e!="object"||e===null)return;const l=t[i];if(l.endsWith("[]")){const s=l.slice(0,-2),r=e;if(s in r&&Array.isArray(r[s]))for(const c of r[s])of(c,t,n,i+1,o)}else if(l==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const s=e,r=Object.keys(s).filter(f=>!f.startsWith("_")&&!o.has(f)),c={};for(const f of r)c[f]=s[f];for(const[f,d]of Object.entries(c)){const p=[];for(const h of n.slice(i))h==="*"?p.push(f):p.push(h);u(s,p,d)}for(const f of r)delete s[f]}}else{const s=e;l in s&&of(s[l],t,n,i+1,o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nd(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eM(e){const t={},n=a(e,["operationName"]);n!=null&&u(t,["operationName"],n);const i=a(e,["resourceName"]);return i!=null&&u(t,["_url","resourceName"],i),t}function tM(e){const t={},n=a(e,["name"]);n!=null&&u(t,["name"],n);const i=a(e,["metadata"]);i!=null&&u(t,["metadata"],i);const o=a(e,["done"]);o!=null&&u(t,["done"],o);const l=a(e,["error"]);l!=null&&u(t,["error"],l);const s=a(e,["response","generateVideoResponse"]);return s!=null&&u(t,["response"],iM(s)),t}function nM(e){const t={},n=a(e,["name"]);n!=null&&u(t,["name"],n);const i=a(e,["metadata"]);i!=null&&u(t,["metadata"],i);const o=a(e,["done"]);o!=null&&u(t,["done"],o);const l=a(e,["error"]);l!=null&&u(t,["error"],l);const s=a(e,["response"]);return s!=null&&u(t,["response"],oM(s)),t}function iM(e){const t={},n=a(e,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>lM(s))),u(t,["generatedVideos"],l)}const i=a(e,["raiMediaFilteredCount"]);i!=null&&u(t,["raiMediaFilteredCount"],i);const o=a(e,["raiMediaFilteredReasons"]);return o!=null&&u(t,["raiMediaFilteredReasons"],o),t}function oM(e){const t={},n=a(e,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>sM(s))),u(t,["generatedVideos"],l)}const i=a(e,["raiMediaFilteredCount"]);i!=null&&u(t,["raiMediaFilteredCount"],i);const o=a(e,["raiMediaFilteredReasons"]);return o!=null&&u(t,["raiMediaFilteredReasons"],o),t}function lM(e){const t={},n=a(e,["video"]);return n!=null&&u(t,["video"],dM(n)),t}function sM(e){const t={},n=a(e,["_self"]);return n!=null&&u(t,["video"],hM(n)),t}function rM(e){const t={},n=a(e,["operationName"]);return n!=null&&u(t,["_url","operationName"],n),t}function aM(e){const t={},n=a(e,["operationName"]);return n!=null&&u(t,["_url","operationName"],n),t}function uM(e){const t={},n=a(e,["name"]);n!=null&&u(t,["name"],n);const i=a(e,["metadata"]);i!=null&&u(t,["metadata"],i);const o=a(e,["done"]);o!=null&&u(t,["done"],o);const l=a(e,["error"]);l!=null&&u(t,["error"],l);const s=a(e,["response"]);return s!=null&&u(t,["response"],cM(s)),t}function cM(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=a(e,["parent"]);i!=null&&u(t,["parent"],i);const o=a(e,["documentName"]);return o!=null&&u(t,["documentName"],o),t}function aS(e){const t={},n=a(e,["name"]);n!=null&&u(t,["name"],n);const i=a(e,["metadata"]);i!=null&&u(t,["metadata"],i);const o=a(e,["done"]);o!=null&&u(t,["done"],o);const l=a(e,["error"]);l!=null&&u(t,["error"],l);const s=a(e,["response"]);return s!=null&&u(t,["response"],fM(s)),t}function fM(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=a(e,["parent"]);i!=null&&u(t,["parent"],i);const o=a(e,["documentName"]);return o!=null&&u(t,["documentName"],o),t}function dM(e){const t={},n=a(e,["uri"]);n!=null&&u(t,["uri"],n);const i=a(e,["encodedVideo"]);i!=null&&u(t,["videoBytes"],Nd(i));const o=a(e,["encoding"]);return o!=null&&u(t,["mimeType"],o),t}function hM(e){const t={},n=a(e,["gcsUri"]);n!=null&&u(t,["uri"],n);const i=a(e,["bytesBase64Encoded"]);i!=null&&u(t,["videoBytes"],Nd(i));const o=a(e,["mimeType"]);return o!=null&&u(t,["mimeType"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Fp;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Fp||(Fp={}));var Yp;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(Yp||(Yp={}));var Jp;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(Jp||(Jp={}));var Yt;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Yt||(Yt={}));var Kp;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Kp||(Kp={}));var $p;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})($p||($p={}));var Xp;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(Xp||(Xp={}));var Qp;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Qp||(Qp={}));var Zp;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Zp||(Zp={}));var Wp;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(Wp||(Wp={}));var jp;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(jp||(jp={}));var em;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(em||(em={}));var tm;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(tm||(tm={}));var nm;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(nm||(nm={}));var im;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(im||(im={}));var om;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(om||(om={}));var lm;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(lm||(lm={}));var sm;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(sm||(sm={}));var rm;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(rm||(rm={}));var va;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(va||(va={}));var am;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(am||(am={}));var um;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(um||(um={}));var cm;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(cm||(cm={}));var lf;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(lf||(lf={}));var fm;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(fm||(fm={}));var dm;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(dm||(dm={}));var hm;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(hm||(hm={}));var pm;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(pm||(pm={}));var mm;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(mm||(mm={}));var gm;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(gm||(gm={}));var ym;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(ym||(ym={}));var vm;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(vm||(vm={}));var Sm;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(Sm||(Sm={}));var _m;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(_m||(_m={}));var Em;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Em||(Em={}));var Tm;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Tm||(Tm={}));var Cm;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Cm||(Cm={}));var Am;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Am||(Am={}));var Mm;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(Mm||(Mm={}));var Rm;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(Rm||(Rm={}));var bm;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(bm||(bm={}));var xm;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(xm||(xm={}));var Nm;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Nm||(Nm={}));var wm;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(wm||(wm={}));var Dm;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(Dm||(Dm={}));var Im;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(Im||(Im={}));var Um;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Um||(Um={}));var Lm;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(Lm||(Lm={}));var km;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(km||(km={}));var qm;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(qm||(qm={}));var Gm;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Gm||(Gm={}));var Hm;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(Hm||(Hm={}));var Pm;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Pm||(Pm={}));var zm;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(zm||(zm={}));var Om;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(Om||(Om={}));var Bo;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Bo||(Bo={}));class sf{constructor(t){const n={};for(const i of t.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Pl{get text(){var t,n,i,o,l,s,r,c;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",d=!1;const p=[];for(const h of(c=(r=(s=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content)===null||r===void 0?void 0:r.parts)!==null&&c!==void 0?c:[]){for(const[m,S]of Object.entries(h))m!=="text"&&m!=="thought"&&m!=="thoughtSignature"&&(S!==null||S!==void 0)&&p.push(m);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,f+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?f:void 0}get data(){var t,n,i,o,l,s,r,c;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const d=[];for(const p of(c=(r=(s=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content)===null||r===void 0?void 0:r.parts)!==null&&c!==void 0?c:[]){for(const[h,m]of Object.entries(p))h!=="inlineData"&&(m!==null||m!==void 0)&&d.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(f+=atob(p.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var t,n,i,o,l,s,r,c;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(r=(s=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content)===null||r===void 0?void 0:r.parts)===null||c===void 0?void 0:c.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var t,n,i,o,l,s,r,c,f;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(c=(r=(s=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content)===null||r===void 0?void 0:r.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var t,n,i,o,l,s,r,c,f;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(c=(r=(s=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content)===null||r===void 0?void 0:r.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.output}}class Vm{}class Bm{}class pM{}class mM{}class gM{}class yM{}class Fm{}class Ym{}class Jm{}class vM{}class Sa{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const i=new Sa;let o;const l=t;return n?o=nM(l):o=tM(l),Object.assign(i,o),i}}class Km{}class $m{}class Xm{}class Qm{}class SM{}class _M{}class EM{}class wd{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const i=new wd,l=uM(t);return Object.assign(i,l),i}}class TM{}class CM{}class AM{}class Zm{}class MM{get text(){var t,n,i;let o="",l=!1;const s=[];for(const r of(i=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[c,f]of Object.entries(r))c!=="text"&&c!=="thought"&&f!==null&&s.push(c);if(typeof r.text=="string"){if(typeof r.thought=="boolean"&&r.thought)continue;l=!0,o+=r.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?o:void 0}get data(){var t,n,i;let o="";const l=[];for(const s of(i=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[r,c]of Object.entries(s))r!=="inlineData"&&c!==null&&l.push(r);s.inlineData&&typeof s.inlineData.data=="string"&&(o+=atob(s.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class RM{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Dd{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const i=new Dd,l=aS(t);return Object.assign(i,l),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function se(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function uS(e,t){const n=se(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function cS(e){return Array.isArray(e)?e.map(t=>_a(t)):[_a(e)]}function _a(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function fS(e){const t=_a(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function dS(e){const t=_a(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Wm(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function hS(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>Wm(t)):[Wm(e)]}function rf(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function jm(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function eg(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function gt(e){if(e==null)throw new Error("ContentUnion is required");return rf(e)?e:{role:"user",parts:hS(e)}}function Id(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const i=gt(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(e.isVertexAI()){const n=gt(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>gt(n)):[gt(t)]}function hn(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(jm(e)||eg(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[gt(e)]}const t=[],n=[],i=rf(e[0]);for(const o of e){const l=rf(o);if(l!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)t.push(o);else{if(jm(o)||eg(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return i||t.push({role:"user",parts:hS(n)}),t}function bM(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(i=>i!=="null");if(n.length===1)t.type=Object.values(Yt).includes(n[0].toUpperCase())?n[0].toUpperCase():Yt.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const i of n)t.anyOf.push({type:Object.values(Yt).includes(i.toUpperCase())?i.toUpperCase():Yt.TYPE_UNSPECIFIED})}}function jo(e){const t={},n=["items"],i=["anyOf"],o=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=e.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(t.nullable=!0,e=l[1]):l[1].type==="null"&&(t.nullable=!0,e=l[0])),e.type instanceof Array&&bM(e.type,t);for(const[s,r]of Object.entries(e))if(r!=null)if(s=="type"){if(r==="null")throw new Error("type: null can not be the only possible type for the field.");if(r instanceof Array)continue;t.type=Object.values(Yt).includes(r.toUpperCase())?r.toUpperCase():Yt.TYPE_UNSPECIFIED}else if(n.includes(s))t[s]=jo(r);else if(i.includes(s)){const c=[];for(const f of r){if(f.type=="null"){t.nullable=!0;continue}c.push(jo(f))}t[s]=c}else if(o.includes(s)){const c={};for(const[f,d]of Object.entries(r))c[f]=jo(d);t[s]=c}else{if(s==="additionalProperties")continue;t[s]=r}return t}function Ud(e){return jo(e)}function Ld(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function kd(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Al(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=jo(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=jo(t.response));return e}function Ml(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function xM(e,t,n,i=1){const o=!t.startsWith(`${n}/`)&&t.split("/").length===i;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:o?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:o?`${n}/${t}`:t}function hi(e,t){if(typeof t!="string")throw new Error("name must be a string");return xM(e,t,"cachedContents")}function pS(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Ki(e){return Nd(e)}function NM(e){return e!=null&&typeof e=="object"&&"name"in e}function wM(e){return e!=null&&typeof e=="object"&&"video"in e}function DM(e){return e!=null&&typeof e=="object"&&"uri"in e}function mS(e){var t;let n;if(NM(e)&&(n=e.name),!(DM(e)&&(n=e.uri,n===void 0))&&!(wM(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function gS(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function yS(e){for(const t of["models","tunedModels","publisherModels"])if(IM(e,t))return e[t];return[]}function IM(e,t){return e!==null&&typeof e=="object"&&t in e}function UM(e,t={}){const n=e,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),t.behavior&&(i.behavior=t.behavior),{functionDeclarations:[i]}}function LM(e,t={}){const n=[],i=new Set;for(const o of e){const l=o.name;if(i.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);i.add(l);const s=UM(o,t);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function vS(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(o>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function kM(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function SS(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const o=n.inlinedResponses;if(!Array.isArray(o)||o.length===0)return e;let l=!1;for(const s of o){if(typeof s!="object"||s===null)continue;const c=s.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){l=!0;break}}return l&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function Rl(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function _S(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qM(e){const t={},n=a(e,["responsesFile"]);n!=null&&u(t,["fileName"],n);const i=a(e,["inlinedResponses","inlinedResponses"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>gR(s))),u(t,["inlinedResponses"],l)}const o=a(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>s)),u(t,["inlinedEmbedContentResponses"],l)}return t}function GM(e){const t={},n=a(e,["predictionsFormat"]);n!=null&&u(t,["format"],n);const i=a(e,["gcsDestination","outputUriPrefix"]);i!=null&&u(t,["gcsUri"],i);const o=a(e,["bigqueryDestination","outputUri"]);return o!=null&&u(t,["bigqueryUri"],o),t}function HM(e){const t={},n=a(e,["format"]);n!=null&&u(t,["predictionsFormat"],n);const i=a(e,["gcsUri"]);i!=null&&u(t,["gcsDestination","outputUriPrefix"],i);const o=a(e,["bigqueryUri"]);if(o!=null&&u(t,["bigqueryDestination","outputUri"],o),a(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(a(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function qr(e){const t={},n=a(e,["name"]);n!=null&&u(t,["name"],n);const i=a(e,["metadata","displayName"]);i!=null&&u(t,["displayName"],i);const o=a(e,["metadata","state"]);o!=null&&u(t,["state"],_S(o));const l=a(e,["metadata","createTime"]);l!=null&&u(t,["createTime"],l);const s=a(e,["metadata","endTime"]);s!=null&&u(t,["endTime"],s);const r=a(e,["metadata","updateTime"]);r!=null&&u(t,["updateTime"],r);const c=a(e,["metadata","model"]);c!=null&&u(t,["model"],c);const f=a(e,["metadata","output"]);return f!=null&&u(t,["dest"],qM(SS(f))),t}function af(e){const t={},n=a(e,["name"]);n!=null&&u(t,["name"],n);const i=a(e,["displayName"]);i!=null&&u(t,["displayName"],i);const o=a(e,["state"]);o!=null&&u(t,["state"],_S(o));const l=a(e,["error"]);l!=null&&u(t,["error"],l);const s=a(e,["createTime"]);s!=null&&u(t,["createTime"],s);const r=a(e,["startTime"]);r!=null&&u(t,["startTime"],r);const c=a(e,["endTime"]);c!=null&&u(t,["endTime"],c);const f=a(e,["updateTime"]);f!=null&&u(t,["updateTime"],f);const d=a(e,["model"]);d!=null&&u(t,["model"],d);const p=a(e,["inputConfig"]);p!=null&&u(t,["src"],PM(p));const h=a(e,["outputConfig"]);h!=null&&u(t,["dest"],GM(SS(h)));const m=a(e,["completionStats"]);return m!=null&&u(t,["completionStats"],m),t}function PM(e){const t={},n=a(e,["instancesFormat"]);n!=null&&u(t,["format"],n);const i=a(e,["gcsSource","uris"]);i!=null&&u(t,["gcsUri"],i);const o=a(e,["bigquerySource","inputUri"]);return o!=null&&u(t,["bigqueryUri"],o),t}function zM(e,t){const n={};if(a(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=a(t,["fileName"]);i!=null&&u(n,["fileName"],i);const o=a(t,["inlinedRequests"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>mR(e,s))),u(n,["requests","requests"],l)}return n}function OM(e){const t={},n=a(e,["format"]);n!=null&&u(t,["instancesFormat"],n);const i=a(e,["gcsUri"]);i!=null&&u(t,["gcsSource","uris"],i);const o=a(e,["bigqueryUri"]);if(o!=null&&u(t,["bigquerySource","inputUri"],o),a(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function VM(e){const t={},n=a(e,["data"]);if(n!=null&&u(t,["data"],n),a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function BM(e,t){const n={},i=a(t,["name"]);return i!=null&&u(n,["_url","name"],Rl(e,i)),n}function FM(e,t){const n={},i=a(t,["name"]);return i!=null&&u(n,["_url","name"],Rl(e,i)),n}function YM(e){const t={},n=a(e,["content"]);n!=null&&u(t,["content"],n);const i=a(e,["citationMetadata"]);i!=null&&u(t,["citationMetadata"],JM(i));const o=a(e,["tokenCount"]);o!=null&&u(t,["tokenCount"],o);const l=a(e,["finishReason"]);l!=null&&u(t,["finishReason"],l);const s=a(e,["avgLogprobs"]);s!=null&&u(t,["avgLogprobs"],s);const r=a(e,["groundingMetadata"]);r!=null&&u(t,["groundingMetadata"],r);const c=a(e,["index"]);c!=null&&u(t,["index"],c);const f=a(e,["logprobsResult"]);f!=null&&u(t,["logprobsResult"],f);const d=a(e,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(m=>m)),u(t,["safetyRatings"],h)}const p=a(e,["urlContextMetadata"]);return p!=null&&u(t,["urlContextMetadata"],p),t}function JM(e){const t={},n=a(e,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),u(t,["citations"],i)}return t}function ES(e){const t={},n=a(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>CR(l))),u(t,["parts"],o)}const i=a(e,["role"]);return i!=null&&u(t,["role"],i),t}function KM(e,t){const n={},i=a(e,["displayName"]);if(t!==void 0&&i!=null&&u(t,["batch","displayName"],i),a(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function $M(e,t){const n={},i=a(e,["displayName"]);t!==void 0&&i!=null&&u(t,["displayName"],i);const o=a(e,["dest"]);return t!==void 0&&o!=null&&u(t,["outputConfig"],HM(kM(o))),n}function tg(e,t){const n={},i=a(t,["model"]);i!=null&&u(n,["_url","model"],se(e,i));const o=a(t,["src"]);o!=null&&u(n,["batch","inputConfig"],zM(e,vS(e,o)));const l=a(t,["config"]);return l!=null&&KM(l,n),n}function XM(e,t){const n={},i=a(t,["model"]);i!=null&&u(n,["model"],se(e,i));const o=a(t,["src"]);o!=null&&u(n,["inputConfig"],OM(vS(e,o)));const l=a(t,["config"]);return l!=null&&$M(l,n),n}function QM(e,t){const n={},i=a(e,["displayName"]);return t!==void 0&&i!=null&&u(t,["batch","displayName"],i),n}function ZM(e,t){const n={},i=a(t,["model"]);i!=null&&u(n,["_url","model"],se(e,i));const o=a(t,["src"]);o!=null&&u(n,["batch","inputConfig"],oR(e,o));const l=a(t,["config"]);return l!=null&&QM(l,n),n}function WM(e,t){const n={},i=a(t,["name"]);return i!=null&&u(n,["_url","name"],Rl(e,i)),n}function jM(e,t){const n={},i=a(t,["name"]);return i!=null&&u(n,["_url","name"],Rl(e,i)),n}function eR(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=a(e,["name"]);i!=null&&u(t,["name"],i);const o=a(e,["done"]);o!=null&&u(t,["done"],o);const l=a(e,["error"]);return l!=null&&u(t,["error"],l),t}function tR(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=a(e,["name"]);i!=null&&u(t,["name"],i);const o=a(e,["done"]);o!=null&&u(t,["done"],o);const l=a(e,["error"]);return l!=null&&u(t,["error"],l),t}function nR(e,t){const n={},i=a(t,["contents"]);if(i!=null){let l=Id(e,i);Array.isArray(l)&&(l=l.map(s=>s)),u(n,["requests[]","request","content"],l)}const o=a(t,["config"]);return o!=null&&(u(n,["_self"],iR(o,n)),jA(n,{"requests[].*":"requests[].request.*"})),n}function iR(e,t){const n={},i=a(e,["taskType"]);t!==void 0&&i!=null&&u(t,["requests[]","taskType"],i);const o=a(e,["title"]);t!==void 0&&o!=null&&u(t,["requests[]","title"],o);const l=a(e,["outputDimensionality"]);if(t!==void 0&&l!=null&&u(t,["requests[]","outputDimensionality"],l),a(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function oR(e,t){const n={},i=a(t,["fileName"]);i!=null&&u(n,["file_name"],i);const o=a(t,["inlinedRequests"]);return o!=null&&u(n,["requests"],nR(e,o)),n}function lR(e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(e,["fileUri"]);n!=null&&u(t,["fileUri"],n);const i=a(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function sR(e){const t={},n=a(e,["id"]);n!=null&&u(t,["id"],n);const i=a(e,["args"]);i!=null&&u(t,["args"],i);const o=a(e,["name"]);if(o!=null&&u(t,["name"],o),a(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function rR(e){const t={},n=a(e,["mode"]);n!=null&&u(t,["mode"],n);const i=a(e,["allowedFunctionNames"]);if(i!=null&&u(t,["allowedFunctionNames"],i),a(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function aR(e,t,n){const i={},o=a(t,["systemInstruction"]);n!==void 0&&o!=null&&u(n,["systemInstruction"],ES(gt(o)));const l=a(t,["temperature"]);l!=null&&u(i,["temperature"],l);const s=a(t,["topP"]);s!=null&&u(i,["topP"],s);const r=a(t,["topK"]);r!=null&&u(i,["topK"],r);const c=a(t,["candidateCount"]);c!=null&&u(i,["candidateCount"],c);const f=a(t,["maxOutputTokens"]);f!=null&&u(i,["maxOutputTokens"],f);const d=a(t,["stopSequences"]);d!=null&&u(i,["stopSequences"],d);const p=a(t,["responseLogprobs"]);p!=null&&u(i,["responseLogprobs"],p);const h=a(t,["logprobs"]);h!=null&&u(i,["logprobs"],h);const m=a(t,["presencePenalty"]);m!=null&&u(i,["presencePenalty"],m);const S=a(t,["frequencyPenalty"]);S!=null&&u(i,["frequencyPenalty"],S);const _=a(t,["seed"]);_!=null&&u(i,["seed"],_);const E=a(t,["responseMimeType"]);E!=null&&u(i,["responseMimeType"],E);const g=a(t,["responseSchema"]);g!=null&&u(i,["responseSchema"],Ud(g));const y=a(t,["responseJsonSchema"]);if(y!=null&&u(i,["responseJsonSchema"],y),a(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=a(t,["safetySettings"]);if(n!==void 0&&v!=null){let O=v;Array.isArray(O)&&(O=O.map(j=>AR(j))),u(n,["safetySettings"],O)}const C=a(t,["tools"]);if(n!==void 0&&C!=null){let O=Ml(C);Array.isArray(O)&&(O=O.map(j=>RR(Al(j)))),u(n,["tools"],O)}const b=a(t,["toolConfig"]);if(n!==void 0&&b!=null&&u(n,["toolConfig"],MR(b)),a(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const U=a(t,["cachedContent"]);n!==void 0&&U!=null&&u(n,["cachedContent"],hi(e,U));const A=a(t,["responseModalities"]);A!=null&&u(i,["responseModalities"],A);const x=a(t,["mediaResolution"]);x!=null&&u(i,["mediaResolution"],x);const w=a(t,["speechConfig"]);if(w!=null&&u(i,["speechConfig"],Ld(w)),a(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=a(t,["thinkingConfig"]);k!=null&&u(i,["thinkingConfig"],k);const H=a(t,["imageConfig"]);H!=null&&u(i,["imageConfig"],pR(H));const $=a(t,["enableEnhancedCivicAnswers"]);return $!=null&&u(i,["enableEnhancedCivicAnswers"],$),i}function uR(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=a(e,["candidates"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>YM(f))),u(t,["candidates"],c)}const o=a(e,["modelVersion"]);o!=null&&u(t,["modelVersion"],o);const l=a(e,["promptFeedback"]);l!=null&&u(t,["promptFeedback"],l);const s=a(e,["responseId"]);s!=null&&u(t,["responseId"],s);const r=a(e,["usageMetadata"]);return r!=null&&u(t,["usageMetadata"],r),t}function cR(e,t){const n={},i=a(t,["name"]);return i!=null&&u(n,["_url","name"],Rl(e,i)),n}function fR(e,t){const n={},i=a(t,["name"]);return i!=null&&u(n,["_url","name"],Rl(e,i)),n}function dR(e){const t={};if(a(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=a(e,["enableWidget"]);return n!=null&&u(t,["enableWidget"],n),t}function hR(e){const t={};if(a(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=a(e,["timeRangeFilter"]);return n!=null&&u(t,["timeRangeFilter"],n),t}function pR(e){const t={},n=a(e,["aspectRatio"]);n!=null&&u(t,["aspectRatio"],n);const i=a(e,["imageSize"]);if(i!=null&&u(t,["imageSize"],i),a(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(a(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function mR(e,t){const n={},i=a(t,["model"]);i!=null&&u(n,["request","model"],se(e,i));const o=a(t,["contents"]);if(o!=null){let r=hn(o);Array.isArray(r)&&(r=r.map(c=>ES(c))),u(n,["request","contents"],r)}const l=a(t,["metadata"]);l!=null&&u(n,["metadata"],l);const s=a(t,["config"]);return s!=null&&u(n,["request","generationConfig"],aR(e,s,a(n,["request"],{}))),n}function gR(e){const t={},n=a(e,["response"]);n!=null&&u(t,["response"],uR(n));const i=a(e,["error"]);return i!=null&&u(t,["error"],i),t}function yR(e,t){const n={},i=a(e,["pageSize"]);t!==void 0&&i!=null&&u(t,["_query","pageSize"],i);const o=a(e,["pageToken"]);if(t!==void 0&&o!=null&&u(t,["_query","pageToken"],o),a(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function vR(e,t){const n={},i=a(e,["pageSize"]);t!==void 0&&i!=null&&u(t,["_query","pageSize"],i);const o=a(e,["pageToken"]);t!==void 0&&o!=null&&u(t,["_query","pageToken"],o);const l=a(e,["filter"]);return t!==void 0&&l!=null&&u(t,["_query","filter"],l),n}function SR(e){const t={},n=a(e,["config"]);return n!=null&&yR(n,t),t}function _R(e){const t={},n=a(e,["config"]);return n!=null&&vR(n,t),t}function ER(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=a(e,["nextPageToken"]);i!=null&&u(t,["nextPageToken"],i);const o=a(e,["operations"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>qr(s))),u(t,["batchJobs"],l)}return t}function TR(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=a(e,["nextPageToken"]);i!=null&&u(t,["nextPageToken"],i);const o=a(e,["batchPredictionJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>af(s))),u(t,["batchJobs"],l)}return t}function CR(e){const t={},n=a(e,["mediaResolution"]);n!=null&&u(t,["mediaResolution"],n);const i=a(e,["codeExecutionResult"]);i!=null&&u(t,["codeExecutionResult"],i);const o=a(e,["executableCode"]);o!=null&&u(t,["executableCode"],o);const l=a(e,["fileData"]);l!=null&&u(t,["fileData"],lR(l));const s=a(e,["functionCall"]);s!=null&&u(t,["functionCall"],sR(s));const r=a(e,["functionResponse"]);r!=null&&u(t,["functionResponse"],r);const c=a(e,["inlineData"]);c!=null&&u(t,["inlineData"],VM(c));const f=a(e,["text"]);f!=null&&u(t,["text"],f);const d=a(e,["thought"]);d!=null&&u(t,["thought"],d);const p=a(e,["thoughtSignature"]);p!=null&&u(t,["thoughtSignature"],p);const h=a(e,["videoMetadata"]);return h!=null&&u(t,["videoMetadata"],h),t}function AR(e){const t={},n=a(e,["category"]);if(n!=null&&u(t,["category"],n),a(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=a(e,["threshold"]);return i!=null&&u(t,["threshold"],i),t}function MR(e){const t={},n=a(e,["functionCallingConfig"]);n!=null&&u(t,["functionCallingConfig"],rR(n));const i=a(e,["retrievalConfig"]);return i!=null&&u(t,["retrievalConfig"],i),t}function RR(e){const t={},n=a(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(p=>p)),u(t,["functionDeclarations"],d)}if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(e,["googleSearchRetrieval"]);i!=null&&u(t,["googleSearchRetrieval"],i);const o=a(e,["computerUse"]);o!=null&&u(t,["computerUse"],o);const l=a(e,["fileSearch"]);l!=null&&u(t,["fileSearch"],l);const s=a(e,["codeExecution"]);if(s!=null&&u(t,["codeExecution"],s),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=a(e,["googleMaps"]);r!=null&&u(t,["googleMaps"],dR(r));const c=a(e,["googleSearch"]);c!=null&&u(t,["googleSearch"],hR(c));const f=a(e,["urlContext"]);return f!=null&&u(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ui;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(ui||(ui={}));class Eo{constructor(t,n,i,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,i,o)}init(t,n,i){var o,l;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!i||Object.keys(i).length===0?s={config:{}}:typeof i=="object"?s=Object.assign({},i):s=i,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(l=(o=s.config)===null||o===void 0?void 0:o.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bR extends di{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Eo(ui.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=tg(this.apiClient,t),i=n._url,o=P("{model}:batchGenerateContent",i),r=n.batch.inputConfig.requests,c=r.requests,f=[];for(const d of c){const p=Object.assign({},d);if(p.systemInstruction){const h=p.systemInstruction;delete p.systemInstruction;const m=p.request;m.systemInstruction=h,p.request=m}f.push(p)}return r.requests=f,delete n.config,delete n._url,delete n._query,{path:o,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const i=n?Object.assign({},n):{},o=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${o}`),i.dest===void 0){const l=this.getGcsUri(t),s=this.getBigqueryUri(t);if(l)l.endsWith(".jsonl")?i.dest=`${l.slice(0,-6)}/dest`:i.dest=`${l}_dest_${o}`;else if(s)i.dest=`${s}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=XM(this.apiClient,t);return r=P("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>af(d))}else{const f=tg(this.apiClient,t);return r=P("{model}:batchGenerateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s.then(d=>qr(d))}}async createEmbeddingsInternal(t){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=ZM(this.apiClient,t);return l=P("{model}:asyncBatchEmbedContent",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>qr(c))}}async get(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=fR(this.apiClient,t);return r=P("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>af(d))}else{const f=cR(this.apiClient,t);return r=P("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s.then(d=>qr(d))}}async cancel(t){var n,i,o,l;let s="",r={};if(this.apiClient.isVertexAI()){const c=FM(this.apiClient,t);s=P("batchPredictionJobs/{name}:cancel",c._url),r=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}else{const c=BM(this.apiClient,t);s=P("batches/{name}:cancel",c._url),r=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=_R(t);return r=P("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{const p=TR(d),h=new Zm;return Object.assign(h,p),h})}else{const f=SR(t);return r=P("batches",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{const p=ER(d),h=new Zm;return Object.assign(h,p),h})}}async delete(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=jM(this.apiClient,t);return r=P("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>tR(d))}else{const f=WM(this.apiClient,t);return r=P("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>eR(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xR(e){const t={},n=a(e,["data"]);if(n!=null&&u(t,["data"],n),a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function ng(e){const t={},n=a(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>ZR(l))),u(t,["parts"],o)}const i=a(e,["role"]);return i!=null&&u(t,["role"],i),t}function NR(e,t){const n={},i=a(e,["ttl"]);t!==void 0&&i!=null&&u(t,["ttl"],i);const o=a(e,["expireTime"]);t!==void 0&&o!=null&&u(t,["expireTime"],o);const l=a(e,["displayName"]);t!==void 0&&l!=null&&u(t,["displayName"],l);const s=a(e,["contents"]);if(t!==void 0&&s!=null){let d=hn(s);Array.isArray(d)&&(d=d.map(p=>ng(p))),u(t,["contents"],d)}const r=a(e,["systemInstruction"]);t!==void 0&&r!=null&&u(t,["systemInstruction"],ng(gt(r)));const c=a(e,["tools"]);if(t!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>jR(p))),u(t,["tools"],d)}const f=a(e,["toolConfig"]);if(t!==void 0&&f!=null&&u(t,["toolConfig"],WR(f)),a(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function wR(e,t){const n={},i=a(e,["ttl"]);t!==void 0&&i!=null&&u(t,["ttl"],i);const o=a(e,["expireTime"]);t!==void 0&&o!=null&&u(t,["expireTime"],o);const l=a(e,["displayName"]);t!==void 0&&l!=null&&u(t,["displayName"],l);const s=a(e,["contents"]);if(t!==void 0&&s!=null){let p=hn(s);Array.isArray(p)&&(p=p.map(h=>h)),u(t,["contents"],p)}const r=a(e,["systemInstruction"]);t!==void 0&&r!=null&&u(t,["systemInstruction"],gt(r));const c=a(e,["tools"]);if(t!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(h=>eb(h))),u(t,["tools"],p)}const f=a(e,["toolConfig"]);t!==void 0&&f!=null&&u(t,["toolConfig"],f);const d=a(e,["kmsKeyName"]);return t!==void 0&&d!=null&&u(t,["encryption_spec","kmsKeyName"],d),n}function DR(e,t){const n={},i=a(t,["model"]);i!=null&&u(n,["model"],uS(e,i));const o=a(t,["config"]);return o!=null&&NR(o,n),n}function IR(e,t){const n={},i=a(t,["model"]);i!=null&&u(n,["model"],uS(e,i));const o=a(t,["config"]);return o!=null&&wR(o,n),n}function UR(e,t){const n={},i=a(t,["name"]);return i!=null&&u(n,["_url","name"],hi(e,i)),n}function LR(e,t){const n={},i=a(t,["name"]);return i!=null&&u(n,["_url","name"],hi(e,i)),n}function kR(e){const t={},n=a(e,["sdkHttpResponse"]);return n!=null&&u(t,["sdkHttpResponse"],n),t}function qR(e){const t={},n=a(e,["sdkHttpResponse"]);return n!=null&&u(t,["sdkHttpResponse"],n),t}function GR(e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(e,["fileUri"]);n!=null&&u(t,["fileUri"],n);const i=a(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function HR(e){const t={},n=a(e,["id"]);n!=null&&u(t,["id"],n);const i=a(e,["args"]);i!=null&&u(t,["args"],i);const o=a(e,["name"]);if(o!=null&&u(t,["name"],o),a(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function PR(e){const t={},n=a(e,["mode"]);n!=null&&u(t,["mode"],n);const i=a(e,["allowedFunctionNames"]);if(i!=null&&u(t,["allowedFunctionNames"],i),a(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function zR(e){const t={};if(a(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(e,["description"]);n!=null&&u(t,["description"],n);const i=a(e,["name"]);i!=null&&u(t,["name"],i);const o=a(e,["parameters"]);o!=null&&u(t,["parameters"],o);const l=a(e,["parametersJsonSchema"]);l!=null&&u(t,["parametersJsonSchema"],l);const s=a(e,["response"]);s!=null&&u(t,["response"],s);const r=a(e,["responseJsonSchema"]);return r!=null&&u(t,["responseJsonSchema"],r),t}function OR(e,t){const n={},i=a(t,["name"]);return i!=null&&u(n,["_url","name"],hi(e,i)),n}function VR(e,t){const n={},i=a(t,["name"]);return i!=null&&u(n,["_url","name"],hi(e,i)),n}function BR(e){const t={};if(a(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=a(e,["enableWidget"]);return n!=null&&u(t,["enableWidget"],n),t}function FR(e){const t={};if(a(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=a(e,["timeRangeFilter"]);return n!=null&&u(t,["timeRangeFilter"],n),t}function YR(e,t){const n={},i=a(e,["pageSize"]);t!==void 0&&i!=null&&u(t,["_query","pageSize"],i);const o=a(e,["pageToken"]);return t!==void 0&&o!=null&&u(t,["_query","pageToken"],o),n}function JR(e,t){const n={},i=a(e,["pageSize"]);t!==void 0&&i!=null&&u(t,["_query","pageSize"],i);const o=a(e,["pageToken"]);return t!==void 0&&o!=null&&u(t,["_query","pageToken"],o),n}function KR(e){const t={},n=a(e,["config"]);return n!=null&&YR(n,t),t}function $R(e){const t={},n=a(e,["config"]);return n!=null&&JR(n,t),t}function XR(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=a(e,["nextPageToken"]);i!=null&&u(t,["nextPageToken"],i);const o=a(e,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>s)),u(t,["cachedContents"],l)}return t}function QR(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=a(e,["nextPageToken"]);i!=null&&u(t,["nextPageToken"],i);const o=a(e,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>s)),u(t,["cachedContents"],l)}return t}function ZR(e){const t={},n=a(e,["mediaResolution"]);n!=null&&u(t,["mediaResolution"],n);const i=a(e,["codeExecutionResult"]);i!=null&&u(t,["codeExecutionResult"],i);const o=a(e,["executableCode"]);o!=null&&u(t,["executableCode"],o);const l=a(e,["fileData"]);l!=null&&u(t,["fileData"],GR(l));const s=a(e,["functionCall"]);s!=null&&u(t,["functionCall"],HR(s));const r=a(e,["functionResponse"]);r!=null&&u(t,["functionResponse"],r);const c=a(e,["inlineData"]);c!=null&&u(t,["inlineData"],xR(c));const f=a(e,["text"]);f!=null&&u(t,["text"],f);const d=a(e,["thought"]);d!=null&&u(t,["thought"],d);const p=a(e,["thoughtSignature"]);p!=null&&u(t,["thoughtSignature"],p);const h=a(e,["videoMetadata"]);return h!=null&&u(t,["videoMetadata"],h),t}function WR(e){const t={},n=a(e,["functionCallingConfig"]);n!=null&&u(t,["functionCallingConfig"],PR(n));const i=a(e,["retrievalConfig"]);return i!=null&&u(t,["retrievalConfig"],i),t}function jR(e){const t={},n=a(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(p=>p)),u(t,["functionDeclarations"],d)}if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(e,["googleSearchRetrieval"]);i!=null&&u(t,["googleSearchRetrieval"],i);const o=a(e,["computerUse"]);o!=null&&u(t,["computerUse"],o);const l=a(e,["fileSearch"]);l!=null&&u(t,["fileSearch"],l);const s=a(e,["codeExecution"]);if(s!=null&&u(t,["codeExecution"],s),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=a(e,["googleMaps"]);r!=null&&u(t,["googleMaps"],BR(r));const c=a(e,["googleSearch"]);c!=null&&u(t,["googleSearch"],FR(c));const f=a(e,["urlContext"]);return f!=null&&u(t,["urlContext"],f),t}function eb(e){const t={},n=a(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>zR(h))),u(t,["functionDeclarations"],p)}const i=a(e,["retrieval"]);i!=null&&u(t,["retrieval"],i);const o=a(e,["googleSearchRetrieval"]);o!=null&&u(t,["googleSearchRetrieval"],o);const l=a(e,["computerUse"]);if(l!=null&&u(t,["computerUse"],l),a(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=a(e,["codeExecution"]);s!=null&&u(t,["codeExecution"],s);const r=a(e,["enterpriseWebSearch"]);r!=null&&u(t,["enterpriseWebSearch"],r);const c=a(e,["googleMaps"]);c!=null&&u(t,["googleMaps"],c);const f=a(e,["googleSearch"]);f!=null&&u(t,["googleSearch"],f);const d=a(e,["urlContext"]);return d!=null&&u(t,["urlContext"],d),t}function tb(e,t){const n={},i=a(e,["ttl"]);t!==void 0&&i!=null&&u(t,["ttl"],i);const o=a(e,["expireTime"]);return t!==void 0&&o!=null&&u(t,["expireTime"],o),n}function nb(e,t){const n={},i=a(e,["ttl"]);t!==void 0&&i!=null&&u(t,["ttl"],i);const o=a(e,["expireTime"]);return t!==void 0&&o!=null&&u(t,["expireTime"],o),n}function ib(e,t){const n={},i=a(t,["name"]);i!=null&&u(n,["_url","name"],hi(e,i));const o=a(t,["config"]);return o!=null&&tb(o,n),n}function ob(e,t){const n={},i=a(t,["name"]);i!=null&&u(n,["_url","name"],hi(e,i));const o=a(t,["config"]);return o!=null&&nb(o,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lb extends di{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Eo(ui.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=IR(this.apiClient,t);return r=P("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{const f=DR(this.apiClient,t);return r=P("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async get(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=VR(this.apiClient,t);return r=P("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{const f=OR(this.apiClient,t);return r=P("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async delete(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=LR(this.apiClient,t);return r=P("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{const p=qR(d),h=new Xm;return Object.assign(h,p),h})}else{const f=UR(this.apiClient,t);return r=P("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{const p=kR(d),h=new Xm;return Object.assign(h,p),h})}}async update(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=ob(this.apiClient,t);return r=P("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{const f=ib(this.apiClient,t);return r=P("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async listInternal(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=$R(t);return r=P("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{const p=QR(d),h=new Qm;return Object.assign(h,p),h})}else{const f=KR(t);return r=P("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{const p=XR(d),h=new Qm;return Object.assign(h,p),h})}}}function Ea(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n}function ig(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Q(e){return this instanceof Q?(this.v=e,this):new Q(e)}function Mn(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),r("next"),r("throw"),r("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(m){return function(S){return Promise.resolve(S).then(m,p)}}function r(m,S){i[m]&&(o[m]=function(_){return new Promise(function(E,g){l.push([m,_,E,g])>1||c(m,_)})},S&&(o[m]=S(o[m])))}function c(m,S){try{f(i[m](S))}catch(_){h(l[0][3],_)}}function f(m){m.value instanceof Q?Promise.resolve(m.value.v).then(d,p):h(l[0][2],m)}function d(m){c("next",m)}function p(m){c("throw",m)}function h(m,S){m(S),l.shift(),l.length&&c(l[0][0],l[0][1])}}function Rn(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof ig=="function"?ig(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(l){n[l]=e[l]&&function(s){return new Promise(function(r,c){s=e[l](s),o(r,c,s.done,s.value)})}}function o(l,s,r,c){Promise.resolve(c).then(function(f){l({value:f,done:r})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sb(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:TS(n)}function TS(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function rb(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function og(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let i=0;for(;i<n;)if(e[i].role==="user")t.push(e[i]),i++;else{const o=[];let l=!0;for(;i<n&&e[i].role==="model";)o.push(e[i]),l&&!TS(e[i])&&(l=!1),i++;l?t.push(...o):t.pop()}return t}class ab{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new ub(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class ub{constructor(t,n,i,o={},l=[]){this.apiClient=t,this.modelsModule=n,this.model=i,this.config=o,this.history=l,this.sendPromise=Promise.resolve(),rb(l)}async sendMessage(t){var n;await this.sendPromise;const i=gt(t.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,s,r;const c=await o,f=(s=(l=c.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content,d=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let h=[];d!=null&&(h=(r=d.slice(p))!==null&&r!==void 0?r:[]);const m=f?[f]:[];this.recordHistory(i,m,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(t){var n;await this.sendPromise;const i=gt(t.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const l=await o;return this.processStreamResponse(l,i)}getHistory(t=!1){const n=t?og(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return Mn(this,arguments,function*(){var o,l,s,r,c,f;const d=[];try{for(var p=!0,h=Rn(t),m;m=yield Q(h.next()),o=m.done,!o;p=!0){r=m.value,p=!1;const S=r;if(sb(S)){const _=(f=(c=S.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content;_!==void 0&&d.push(_)}yield yield Q(S)}}catch(S){l={error:S}}finally{try{!p&&!o&&(s=h.return)&&(yield Q(s.call(h)))}finally{if(l)throw l.error}}this.recordHistory(n,d)})}recordHistory(t,n,i){let o=[];n.length>0&&n.every(l=>l.role!==void 0)?o=n:o.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...og(i)):this.history.push(t),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xa extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Xa.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cb(e){const t={},n=a(e,["file"]);return n!=null&&u(t,["file"],n),t}function fb(e){const t={},n=a(e,["sdkHttpResponse"]);return n!=null&&u(t,["sdkHttpResponse"],n),t}function db(e){const t={},n=a(e,["name"]);return n!=null&&u(t,["_url","file"],mS(n)),t}function hb(e){const t={},n=a(e,["sdkHttpResponse"]);return n!=null&&u(t,["sdkHttpResponse"],n),t}function pb(e){const t={},n=a(e,["name"]);return n!=null&&u(t,["_url","file"],mS(n)),t}function mb(e,t){const n={},i=a(e,["pageSize"]);t!==void 0&&i!=null&&u(t,["_query","pageSize"],i);const o=a(e,["pageToken"]);return t!==void 0&&o!=null&&u(t,["_query","pageToken"],o),n}function gb(e){const t={},n=a(e,["config"]);return n!=null&&mb(n,t),t}function yb(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=a(e,["nextPageToken"]);i!=null&&u(t,["nextPageToken"],i);const o=a(e,["files"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>s)),u(t,["files"],l)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vb extends di{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Eo(ui.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=gb(t);return l=P("files",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{const f=yb(c),d=new TM;return Object.assign(d,f),d})}}async createInternal(t){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=cb(t);return l=P("upload/v1beta/files",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=fb(c),d=new CM;return Object.assign(d,f),d})}}async get(t){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=pb(t);return l=P("files/{file}",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async delete(t){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=db(t);return l=P("files/{file}",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{const f=hb(c),d=new AM;return Object.assign(d,f),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gr(e){const t={},n=a(e,["data"]);if(n!=null&&u(t,["data"],n),a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function Sb(e){const t={},n=a(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>kb(l))),u(t,["parts"],o)}const i=a(e,["role"]);return i!=null&&u(t,["role"],i),t}function _b(e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(e,["fileUri"]);n!=null&&u(t,["fileUri"],n);const i=a(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function Eb(e){const t={},n=a(e,["id"]);n!=null&&u(t,["id"],n);const i=a(e,["args"]);i!=null&&u(t,["args"],i);const o=a(e,["name"]);if(o!=null&&u(t,["name"],o),a(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Tb(e){const t={};if(a(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(e,["description"]);n!=null&&u(t,["description"],n);const i=a(e,["name"]);i!=null&&u(t,["name"],i);const o=a(e,["parameters"]);o!=null&&u(t,["parameters"],o);const l=a(e,["parametersJsonSchema"]);l!=null&&u(t,["parametersJsonSchema"],l);const s=a(e,["response"]);s!=null&&u(t,["response"],s);const r=a(e,["responseJsonSchema"]);return r!=null&&u(t,["responseJsonSchema"],r),t}function Cb(e){const t={},n=a(e,["modelSelectionConfig"]);n!=null&&u(t,["modelConfig"],n);const i=a(e,["responseJsonSchema"]);i!=null&&u(t,["responseJsonSchema"],i);const o=a(e,["audioTimestamp"]);o!=null&&u(t,["audioTimestamp"],o);const l=a(e,["candidateCount"]);l!=null&&u(t,["candidateCount"],l);const s=a(e,["enableAffectiveDialog"]);s!=null&&u(t,["enableAffectiveDialog"],s);const r=a(e,["frequencyPenalty"]);r!=null&&u(t,["frequencyPenalty"],r);const c=a(e,["logprobs"]);c!=null&&u(t,["logprobs"],c);const f=a(e,["maxOutputTokens"]);f!=null&&u(t,["maxOutputTokens"],f);const d=a(e,["mediaResolution"]);d!=null&&u(t,["mediaResolution"],d);const p=a(e,["presencePenalty"]);p!=null&&u(t,["presencePenalty"],p);const h=a(e,["responseLogprobs"]);h!=null&&u(t,["responseLogprobs"],h);const m=a(e,["responseMimeType"]);m!=null&&u(t,["responseMimeType"],m);const S=a(e,["responseModalities"]);S!=null&&u(t,["responseModalities"],S);const _=a(e,["responseSchema"]);_!=null&&u(t,["responseSchema"],_);const E=a(e,["routingConfig"]);E!=null&&u(t,["routingConfig"],E);const g=a(e,["seed"]);g!=null&&u(t,["seed"],g);const y=a(e,["speechConfig"]);y!=null&&u(t,["speechConfig"],y);const v=a(e,["stopSequences"]);v!=null&&u(t,["stopSequences"],v);const C=a(e,["temperature"]);C!=null&&u(t,["temperature"],C);const b=a(e,["thinkingConfig"]);b!=null&&u(t,["thinkingConfig"],b);const U=a(e,["topK"]);U!=null&&u(t,["topK"],U);const A=a(e,["topP"]);if(A!=null&&u(t,["topP"],A),a(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function Ab(e){const t={};if(a(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=a(e,["enableWidget"]);return n!=null&&u(t,["enableWidget"],n),t}function Mb(e){const t={};if(a(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=a(e,["timeRangeFilter"]);return n!=null&&u(t,["timeRangeFilter"],n),t}function Rb(e,t){const n={},i=a(e,["generationConfig"]);t!==void 0&&i!=null&&u(t,["setup","generationConfig"],i);const o=a(e,["responseModalities"]);t!==void 0&&o!=null&&u(t,["setup","generationConfig","responseModalities"],o);const l=a(e,["temperature"]);t!==void 0&&l!=null&&u(t,["setup","generationConfig","temperature"],l);const s=a(e,["topP"]);t!==void 0&&s!=null&&u(t,["setup","generationConfig","topP"],s);const r=a(e,["topK"]);t!==void 0&&r!=null&&u(t,["setup","generationConfig","topK"],r);const c=a(e,["maxOutputTokens"]);t!==void 0&&c!=null&&u(t,["setup","generationConfig","maxOutputTokens"],c);const f=a(e,["mediaResolution"]);t!==void 0&&f!=null&&u(t,["setup","generationConfig","mediaResolution"],f);const d=a(e,["seed"]);t!==void 0&&d!=null&&u(t,["setup","generationConfig","seed"],d);const p=a(e,["speechConfig"]);t!==void 0&&p!=null&&u(t,["setup","generationConfig","speechConfig"],kd(p));const h=a(e,["thinkingConfig"]);t!==void 0&&h!=null&&u(t,["setup","generationConfig","thinkingConfig"],h);const m=a(e,["enableAffectiveDialog"]);t!==void 0&&m!=null&&u(t,["setup","generationConfig","enableAffectiveDialog"],m);const S=a(e,["systemInstruction"]);t!==void 0&&S!=null&&u(t,["setup","systemInstruction"],Sb(gt(S)));const _=a(e,["tools"]);if(t!==void 0&&_!=null){let U=Ml(_);Array.isArray(U)&&(U=U.map(A=>Gb(Al(A)))),u(t,["setup","tools"],U)}const E=a(e,["sessionResumption"]);t!==void 0&&E!=null&&u(t,["setup","sessionResumption"],qb(E));const g=a(e,["inputAudioTranscription"]);t!==void 0&&g!=null&&u(t,["setup","inputAudioTranscription"],g);const y=a(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&u(t,["setup","outputAudioTranscription"],y);const v=a(e,["realtimeInputConfig"]);t!==void 0&&v!=null&&u(t,["setup","realtimeInputConfig"],v);const C=a(e,["contextWindowCompression"]);t!==void 0&&C!=null&&u(t,["setup","contextWindowCompression"],C);const b=a(e,["proactivity"]);if(t!==void 0&&b!=null&&u(t,["setup","proactivity"],b),a(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function bb(e,t){const n={},i=a(e,["generationConfig"]);t!==void 0&&i!=null&&u(t,["setup","generationConfig"],Cb(i));const o=a(e,["responseModalities"]);t!==void 0&&o!=null&&u(t,["setup","generationConfig","responseModalities"],o);const l=a(e,["temperature"]);t!==void 0&&l!=null&&u(t,["setup","generationConfig","temperature"],l);const s=a(e,["topP"]);t!==void 0&&s!=null&&u(t,["setup","generationConfig","topP"],s);const r=a(e,["topK"]);t!==void 0&&r!=null&&u(t,["setup","generationConfig","topK"],r);const c=a(e,["maxOutputTokens"]);t!==void 0&&c!=null&&u(t,["setup","generationConfig","maxOutputTokens"],c);const f=a(e,["mediaResolution"]);t!==void 0&&f!=null&&u(t,["setup","generationConfig","mediaResolution"],f);const d=a(e,["seed"]);t!==void 0&&d!=null&&u(t,["setup","generationConfig","seed"],d);const p=a(e,["speechConfig"]);t!==void 0&&p!=null&&u(t,["setup","generationConfig","speechConfig"],kd(p));const h=a(e,["thinkingConfig"]);t!==void 0&&h!=null&&u(t,["setup","generationConfig","thinkingConfig"],h);const m=a(e,["enableAffectiveDialog"]);t!==void 0&&m!=null&&u(t,["setup","generationConfig","enableAffectiveDialog"],m);const S=a(e,["systemInstruction"]);t!==void 0&&S!=null&&u(t,["setup","systemInstruction"],gt(S));const _=a(e,["tools"]);if(t!==void 0&&_!=null){let A=Ml(_);Array.isArray(A)&&(A=A.map(x=>Hb(Al(x)))),u(t,["setup","tools"],A)}const E=a(e,["sessionResumption"]);t!==void 0&&E!=null&&u(t,["setup","sessionResumption"],E);const g=a(e,["inputAudioTranscription"]);t!==void 0&&g!=null&&u(t,["setup","inputAudioTranscription"],g);const y=a(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&u(t,["setup","outputAudioTranscription"],y);const v=a(e,["realtimeInputConfig"]);t!==void 0&&v!=null&&u(t,["setup","realtimeInputConfig"],v);const C=a(e,["contextWindowCompression"]);t!==void 0&&C!=null&&u(t,["setup","contextWindowCompression"],C);const b=a(e,["proactivity"]);t!==void 0&&b!=null&&u(t,["setup","proactivity"],b);const U=a(e,["explicitVadSignal"]);return t!==void 0&&U!=null&&u(t,["setup","explicitVadSignal"],U),n}function xb(e,t){const n={},i=a(t,["model"]);i!=null&&u(n,["setup","model"],se(e,i));const o=a(t,["config"]);return o!=null&&u(n,["config"],Rb(o,n)),n}function Nb(e,t){const n={},i=a(t,["model"]);i!=null&&u(n,["setup","model"],se(e,i));const o=a(t,["config"]);return o!=null&&u(n,["config"],bb(o,n)),n}function wb(e){const t={},n=a(e,["musicGenerationConfig"]);return n!=null&&u(t,["musicGenerationConfig"],n),t}function Db(e){const t={},n=a(e,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),u(t,["weightedPrompts"],i)}return t}function Ib(e){const t={},n=a(e,["media"]);if(n!=null){let f=cS(n);Array.isArray(f)&&(f=f.map(d=>Gr(d))),u(t,["mediaChunks"],f)}const i=a(e,["audio"]);i!=null&&u(t,["audio"],Gr(dS(i)));const o=a(e,["audioStreamEnd"]);o!=null&&u(t,["audioStreamEnd"],o);const l=a(e,["video"]);l!=null&&u(t,["video"],Gr(fS(l)));const s=a(e,["text"]);s!=null&&u(t,["text"],s);const r=a(e,["activityStart"]);r!=null&&u(t,["activityStart"],r);const c=a(e,["activityEnd"]);return c!=null&&u(t,["activityEnd"],c),t}function Ub(e){const t={},n=a(e,["media"]);if(n!=null){let f=cS(n);Array.isArray(f)&&(f=f.map(d=>d)),u(t,["mediaChunks"],f)}const i=a(e,["audio"]);i!=null&&u(t,["audio"],dS(i));const o=a(e,["audioStreamEnd"]);o!=null&&u(t,["audioStreamEnd"],o);const l=a(e,["video"]);l!=null&&u(t,["video"],fS(l));const s=a(e,["text"]);s!=null&&u(t,["text"],s);const r=a(e,["activityStart"]);r!=null&&u(t,["activityStart"],r);const c=a(e,["activityEnd"]);return c!=null&&u(t,["activityEnd"],c),t}function Lb(e){const t={},n=a(e,["setupComplete"]);n!=null&&u(t,["setupComplete"],n);const i=a(e,["serverContent"]);i!=null&&u(t,["serverContent"],i);const o=a(e,["toolCall"]);o!=null&&u(t,["toolCall"],o);const l=a(e,["toolCallCancellation"]);l!=null&&u(t,["toolCallCancellation"],l);const s=a(e,["usageMetadata"]);s!=null&&u(t,["usageMetadata"],Pb(s));const r=a(e,["goAway"]);r!=null&&u(t,["goAway"],r);const c=a(e,["sessionResumptionUpdate"]);c!=null&&u(t,["sessionResumptionUpdate"],c);const f=a(e,["voiceActivityDetectionSignal"]);return f!=null&&u(t,["voiceActivityDetectionSignal"],f),t}function kb(e){const t={},n=a(e,["mediaResolution"]);n!=null&&u(t,["mediaResolution"],n);const i=a(e,["codeExecutionResult"]);i!=null&&u(t,["codeExecutionResult"],i);const o=a(e,["executableCode"]);o!=null&&u(t,["executableCode"],o);const l=a(e,["fileData"]);l!=null&&u(t,["fileData"],_b(l));const s=a(e,["functionCall"]);s!=null&&u(t,["functionCall"],Eb(s));const r=a(e,["functionResponse"]);r!=null&&u(t,["functionResponse"],r);const c=a(e,["inlineData"]);c!=null&&u(t,["inlineData"],Gr(c));const f=a(e,["text"]);f!=null&&u(t,["text"],f);const d=a(e,["thought"]);d!=null&&u(t,["thought"],d);const p=a(e,["thoughtSignature"]);p!=null&&u(t,["thoughtSignature"],p);const h=a(e,["videoMetadata"]);return h!=null&&u(t,["videoMetadata"],h),t}function qb(e){const t={},n=a(e,["handle"]);if(n!=null&&u(t,["handle"],n),a(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Gb(e){const t={},n=a(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(p=>p)),u(t,["functionDeclarations"],d)}if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(e,["googleSearchRetrieval"]);i!=null&&u(t,["googleSearchRetrieval"],i);const o=a(e,["computerUse"]);o!=null&&u(t,["computerUse"],o);const l=a(e,["fileSearch"]);l!=null&&u(t,["fileSearch"],l);const s=a(e,["codeExecution"]);if(s!=null&&u(t,["codeExecution"],s),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=a(e,["googleMaps"]);r!=null&&u(t,["googleMaps"],Ab(r));const c=a(e,["googleSearch"]);c!=null&&u(t,["googleSearch"],Mb(c));const f=a(e,["urlContext"]);return f!=null&&u(t,["urlContext"],f),t}function Hb(e){const t={},n=a(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>Tb(h))),u(t,["functionDeclarations"],p)}const i=a(e,["retrieval"]);i!=null&&u(t,["retrieval"],i);const o=a(e,["googleSearchRetrieval"]);o!=null&&u(t,["googleSearchRetrieval"],o);const l=a(e,["computerUse"]);if(l!=null&&u(t,["computerUse"],l),a(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=a(e,["codeExecution"]);s!=null&&u(t,["codeExecution"],s);const r=a(e,["enterpriseWebSearch"]);r!=null&&u(t,["enterpriseWebSearch"],r);const c=a(e,["googleMaps"]);c!=null&&u(t,["googleMaps"],c);const f=a(e,["googleSearch"]);f!=null&&u(t,["googleSearch"],f);const d=a(e,["urlContext"]);return d!=null&&u(t,["urlContext"],d),t}function Pb(e){const t={},n=a(e,["promptTokenCount"]);n!=null&&u(t,["promptTokenCount"],n);const i=a(e,["cachedContentTokenCount"]);i!=null&&u(t,["cachedContentTokenCount"],i);const o=a(e,["candidatesTokenCount"]);o!=null&&u(t,["responseTokenCount"],o);const l=a(e,["toolUsePromptTokenCount"]);l!=null&&u(t,["toolUsePromptTokenCount"],l);const s=a(e,["thoughtsTokenCount"]);s!=null&&u(t,["thoughtsTokenCount"],s);const r=a(e,["totalTokenCount"]);r!=null&&u(t,["totalTokenCount"],r);const c=a(e,["promptTokensDetails"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(S=>S)),u(t,["promptTokensDetails"],m)}const f=a(e,["cacheTokensDetails"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(S=>S)),u(t,["cacheTokensDetails"],m)}const d=a(e,["candidatesTokensDetails"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(S=>S)),u(t,["responseTokensDetails"],m)}const p=a(e,["toolUsePromptTokensDetails"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(S=>S)),u(t,["toolUsePromptTokensDetails"],m)}const h=a(e,["trafficType"]);return h!=null&&u(t,["trafficType"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zb(e){const t={},n=a(e,["data"]);if(n!=null&&u(t,["data"],n),a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function Ob(e){const t={},n=a(e,["content"]);n!=null&&u(t,["content"],n);const i=a(e,["citationMetadata"]);i!=null&&u(t,["citationMetadata"],Vb(i));const o=a(e,["tokenCount"]);o!=null&&u(t,["tokenCount"],o);const l=a(e,["finishReason"]);l!=null&&u(t,["finishReason"],l);const s=a(e,["avgLogprobs"]);s!=null&&u(t,["avgLogprobs"],s);const r=a(e,["groundingMetadata"]);r!=null&&u(t,["groundingMetadata"],r);const c=a(e,["index"]);c!=null&&u(t,["index"],c);const f=a(e,["logprobsResult"]);f!=null&&u(t,["logprobsResult"],f);const d=a(e,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(m=>m)),u(t,["safetyRatings"],h)}const p=a(e,["urlContextMetadata"]);return p!=null&&u(t,["urlContextMetadata"],p),t}function Vb(e){const t={},n=a(e,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),u(t,["citations"],i)}return t}function Bb(e,t){const n={},i=a(t,["model"]);i!=null&&u(n,["_url","model"],se(e,i));const o=a(t,["contents"]);if(o!=null){let l=hn(o);Array.isArray(l)&&(l=l.map(s=>s)),u(n,["contents"],l)}return n}function Fb(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=a(e,["tokensInfo"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),u(t,["tokensInfo"],o)}return t}function Yb(e){const t={},n=a(e,["values"]);n!=null&&u(t,["values"],n);const i=a(e,["statistics"]);return i!=null&&u(t,["statistics"],Jb(i)),t}function Jb(e){const t={},n=a(e,["truncated"]);n!=null&&u(t,["truncated"],n);const i=a(e,["token_count"]);return i!=null&&u(t,["tokenCount"],i),t}function Qa(e){const t={},n=a(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>tN(l))),u(t,["parts"],o)}const i=a(e,["role"]);return i!=null&&u(t,["role"],i),t}function Kb(e){const t={},n=a(e,["controlType"]);n!=null&&u(t,["controlType"],n);const i=a(e,["enableControlImageComputation"]);return i!=null&&u(t,["computeControl"],i),t}function $b(e){const t={};if(a(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function Xb(e,t){const n={},i=a(e,["systemInstruction"]);t!==void 0&&i!=null&&u(t,["systemInstruction"],gt(i));const o=a(e,["tools"]);if(t!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>RS(r))),u(t,["tools"],s)}const l=a(e,["generationConfig"]);return t!==void 0&&l!=null&&u(t,["generationConfig"],zx(l)),n}function Qb(e,t){const n={},i=a(t,["model"]);i!=null&&u(n,["_url","model"],se(e,i));const o=a(t,["contents"]);if(o!=null){let s=hn(o);Array.isArray(s)&&(s=s.map(r=>Qa(r))),u(n,["contents"],s)}const l=a(t,["config"]);return l!=null&&$b(l),n}function Zb(e,t){const n={},i=a(t,["model"]);i!=null&&u(n,["_url","model"],se(e,i));const o=a(t,["contents"]);if(o!=null){let s=hn(o);Array.isArray(s)&&(s=s.map(r=>r)),u(n,["contents"],s)}const l=a(t,["config"]);return l!=null&&Xb(l,n),n}function Wb(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=a(e,["totalTokens"]);i!=null&&u(t,["totalTokens"],i);const o=a(e,["cachedContentTokenCount"]);return o!=null&&u(t,["cachedContentTokenCount"],o),t}function jb(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=a(e,["totalTokens"]);return i!=null&&u(t,["totalTokens"],i),t}function ex(e,t){const n={},i=a(t,["model"]);return i!=null&&u(n,["_url","name"],se(e,i)),n}function tx(e,t){const n={},i=a(t,["model"]);return i!=null&&u(n,["_url","name"],se(e,i)),n}function nx(e){const t={},n=a(e,["sdkHttpResponse"]);return n!=null&&u(t,["sdkHttpResponse"],n),t}function ix(e){const t={},n=a(e,["sdkHttpResponse"]);return n!=null&&u(t,["sdkHttpResponse"],n),t}function ox(e,t){const n={},i=a(e,["outputGcsUri"]);t!==void 0&&i!=null&&u(t,["parameters","storageUri"],i);const o=a(e,["negativePrompt"]);t!==void 0&&o!=null&&u(t,["parameters","negativePrompt"],o);const l=a(e,["numberOfImages"]);t!==void 0&&l!=null&&u(t,["parameters","sampleCount"],l);const s=a(e,["aspectRatio"]);t!==void 0&&s!=null&&u(t,["parameters","aspectRatio"],s);const r=a(e,["guidanceScale"]);t!==void 0&&r!=null&&u(t,["parameters","guidanceScale"],r);const c=a(e,["seed"]);t!==void 0&&c!=null&&u(t,["parameters","seed"],c);const f=a(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&u(t,["parameters","safetySetting"],f);const d=a(e,["personGeneration"]);t!==void 0&&d!=null&&u(t,["parameters","personGeneration"],d);const p=a(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&u(t,["parameters","includeSafetyAttributes"],p);const h=a(e,["includeRaiReason"]);t!==void 0&&h!=null&&u(t,["parameters","includeRaiReason"],h);const m=a(e,["language"]);t!==void 0&&m!=null&&u(t,["parameters","language"],m);const S=a(e,["outputMimeType"]);t!==void 0&&S!=null&&u(t,["parameters","outputOptions","mimeType"],S);const _=a(e,["outputCompressionQuality"]);t!==void 0&&_!=null&&u(t,["parameters","outputOptions","compressionQuality"],_);const E=a(e,["addWatermark"]);t!==void 0&&E!=null&&u(t,["parameters","addWatermark"],E);const g=a(e,["labels"]);t!==void 0&&g!=null&&u(t,["labels"],g);const y=a(e,["editMode"]);t!==void 0&&y!=null&&u(t,["parameters","editMode"],y);const v=a(e,["baseSteps"]);return t!==void 0&&v!=null&&u(t,["parameters","editConfig","baseSteps"],v),n}function lx(e,t){const n={},i=a(t,["model"]);i!=null&&u(n,["_url","model"],se(e,i));const o=a(t,["prompt"]);o!=null&&u(n,["instances[0]","prompt"],o);const l=a(t,["referenceImages"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>rN(c))),u(n,["instances[0]","referenceImages"],r)}const s=a(t,["config"]);return s!=null&&ox(s,n),n}function sx(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=a(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>Za(l))),u(t,["generatedImages"],o)}return t}function rx(e,t){const n={},i=a(e,["taskType"]);t!==void 0&&i!=null&&u(t,["requests[]","taskType"],i);const o=a(e,["title"]);t!==void 0&&o!=null&&u(t,["requests[]","title"],o);const l=a(e,["outputDimensionality"]);if(t!==void 0&&l!=null&&u(t,["requests[]","outputDimensionality"],l),a(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function ax(e,t){const n={},i=a(e,["taskType"]);t!==void 0&&i!=null&&u(t,["instances[]","task_type"],i);const o=a(e,["title"]);t!==void 0&&o!=null&&u(t,["instances[]","title"],o);const l=a(e,["outputDimensionality"]);t!==void 0&&l!=null&&u(t,["parameters","outputDimensionality"],l);const s=a(e,["mimeType"]);t!==void 0&&s!=null&&u(t,["instances[]","mimeType"],s);const r=a(e,["autoTruncate"]);return t!==void 0&&r!=null&&u(t,["parameters","autoTruncate"],r),n}function ux(e,t){const n={},i=a(t,["model"]);i!=null&&u(n,["_url","model"],se(e,i));const o=a(t,["contents"]);if(o!=null){let r=Id(e,o);Array.isArray(r)&&(r=r.map(c=>c)),u(n,["requests[]","content"],r)}const l=a(t,["config"]);l!=null&&rx(l,n);const s=a(t,["model"]);return s!==void 0&&u(n,["requests[]","model"],se(e,s)),n}function cx(e,t){const n={},i=a(t,["model"]);i!=null&&u(n,["_url","model"],se(e,i));const o=a(t,["contents"]);if(o!=null){let s=Id(e,o);Array.isArray(s)&&(s=s.map(r=>r)),u(n,["instances[]","content"],s)}const l=a(t,["config"]);return l!=null&&ax(l,n),n}function fx(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=a(e,["embeddings"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>s)),u(t,["embeddings"],l)}const o=a(e,["metadata"]);return o!=null&&u(t,["metadata"],o),t}function dx(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=a(e,["predictions[]","embeddings"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>Yb(s))),u(t,["embeddings"],l)}const o=a(e,["metadata"]);return o!=null&&u(t,["metadata"],o),t}function hx(e){const t={},n=a(e,["endpoint"]);n!=null&&u(t,["name"],n);const i=a(e,["deployedModelId"]);return i!=null&&u(t,["deployedModelId"],i),t}function px(e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(e,["fileUri"]);n!=null&&u(t,["fileUri"],n);const i=a(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function mx(e){const t={},n=a(e,["id"]);n!=null&&u(t,["id"],n);const i=a(e,["args"]);i!=null&&u(t,["args"],i);const o=a(e,["name"]);if(o!=null&&u(t,["name"],o),a(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function gx(e){const t={},n=a(e,["mode"]);n!=null&&u(t,["mode"],n);const i=a(e,["allowedFunctionNames"]);if(i!=null&&u(t,["allowedFunctionNames"],i),a(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function yx(e){const t={};if(a(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(e,["description"]);n!=null&&u(t,["description"],n);const i=a(e,["name"]);i!=null&&u(t,["name"],i);const o=a(e,["parameters"]);o!=null&&u(t,["parameters"],o);const l=a(e,["parametersJsonSchema"]);l!=null&&u(t,["parametersJsonSchema"],l);const s=a(e,["response"]);s!=null&&u(t,["response"],s);const r=a(e,["responseJsonSchema"]);return r!=null&&u(t,["responseJsonSchema"],r),t}function vx(e,t,n){const i={},o=a(t,["systemInstruction"]);n!==void 0&&o!=null&&u(n,["systemInstruction"],Qa(gt(o)));const l=a(t,["temperature"]);l!=null&&u(i,["temperature"],l);const s=a(t,["topP"]);s!=null&&u(i,["topP"],s);const r=a(t,["topK"]);r!=null&&u(i,["topK"],r);const c=a(t,["candidateCount"]);c!=null&&u(i,["candidateCount"],c);const f=a(t,["maxOutputTokens"]);f!=null&&u(i,["maxOutputTokens"],f);const d=a(t,["stopSequences"]);d!=null&&u(i,["stopSequences"],d);const p=a(t,["responseLogprobs"]);p!=null&&u(i,["responseLogprobs"],p);const h=a(t,["logprobs"]);h!=null&&u(i,["logprobs"],h);const m=a(t,["presencePenalty"]);m!=null&&u(i,["presencePenalty"],m);const S=a(t,["frequencyPenalty"]);S!=null&&u(i,["frequencyPenalty"],S);const _=a(t,["seed"]);_!=null&&u(i,["seed"],_);const E=a(t,["responseMimeType"]);E!=null&&u(i,["responseMimeType"],E);const g=a(t,["responseSchema"]);g!=null&&u(i,["responseSchema"],Ud(g));const y=a(t,["responseJsonSchema"]);if(y!=null&&u(i,["responseJsonSchema"],y),a(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=a(t,["safetySettings"]);if(n!==void 0&&v!=null){let O=v;Array.isArray(O)&&(O=O.map(j=>aN(j))),u(n,["safetySettings"],O)}const C=a(t,["tools"]);if(n!==void 0&&C!=null){let O=Ml(C);Array.isArray(O)&&(O=O.map(j=>mN(Al(j)))),u(n,["tools"],O)}const b=a(t,["toolConfig"]);if(n!==void 0&&b!=null&&u(n,["toolConfig"],pN(b)),a(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const U=a(t,["cachedContent"]);n!==void 0&&U!=null&&u(n,["cachedContent"],hi(e,U));const A=a(t,["responseModalities"]);A!=null&&u(i,["responseModalities"],A);const x=a(t,["mediaResolution"]);x!=null&&u(i,["mediaResolution"],x);const w=a(t,["speechConfig"]);if(w!=null&&u(i,["speechConfig"],Ld(w)),a(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=a(t,["thinkingConfig"]);k!=null&&u(i,["thinkingConfig"],k);const H=a(t,["imageConfig"]);H!=null&&u(i,["imageConfig"],Yx(H));const $=a(t,["enableEnhancedCivicAnswers"]);return $!=null&&u(i,["enableEnhancedCivicAnswers"],$),i}function Sx(e,t,n){const i={},o=a(t,["systemInstruction"]);n!==void 0&&o!=null&&u(n,["systemInstruction"],gt(o));const l=a(t,["temperature"]);l!=null&&u(i,["temperature"],l);const s=a(t,["topP"]);s!=null&&u(i,["topP"],s);const r=a(t,["topK"]);r!=null&&u(i,["topK"],r);const c=a(t,["candidateCount"]);c!=null&&u(i,["candidateCount"],c);const f=a(t,["maxOutputTokens"]);f!=null&&u(i,["maxOutputTokens"],f);const d=a(t,["stopSequences"]);d!=null&&u(i,["stopSequences"],d);const p=a(t,["responseLogprobs"]);p!=null&&u(i,["responseLogprobs"],p);const h=a(t,["logprobs"]);h!=null&&u(i,["logprobs"],h);const m=a(t,["presencePenalty"]);m!=null&&u(i,["presencePenalty"],m);const S=a(t,["frequencyPenalty"]);S!=null&&u(i,["frequencyPenalty"],S);const _=a(t,["seed"]);_!=null&&u(i,["seed"],_);const E=a(t,["responseMimeType"]);E!=null&&u(i,["responseMimeType"],E);const g=a(t,["responseSchema"]);g!=null&&u(i,["responseSchema"],Ud(g));const y=a(t,["responseJsonSchema"]);y!=null&&u(i,["responseJsonSchema"],y);const v=a(t,["routingConfig"]);v!=null&&u(i,["routingConfig"],v);const C=a(t,["modelSelectionConfig"]);C!=null&&u(i,["modelConfig"],C);const b=a(t,["safetySettings"]);if(n!==void 0&&b!=null){let q=b;Array.isArray(q)&&(q=q.map(z=>z)),u(n,["safetySettings"],q)}const U=a(t,["tools"]);if(n!==void 0&&U!=null){let q=Ml(U);Array.isArray(q)&&(q=q.map(z=>RS(Al(z)))),u(n,["tools"],q)}const A=a(t,["toolConfig"]);n!==void 0&&A!=null&&u(n,["toolConfig"],A);const x=a(t,["labels"]);n!==void 0&&x!=null&&u(n,["labels"],x);const w=a(t,["cachedContent"]);n!==void 0&&w!=null&&u(n,["cachedContent"],hi(e,w));const k=a(t,["responseModalities"]);k!=null&&u(i,["responseModalities"],k);const H=a(t,["mediaResolution"]);H!=null&&u(i,["mediaResolution"],H);const $=a(t,["speechConfig"]);$!=null&&u(i,["speechConfig"],Ld($));const O=a(t,["audioTimestamp"]);O!=null&&u(i,["audioTimestamp"],O);const j=a(t,["thinkingConfig"]);j!=null&&u(i,["thinkingConfig"],j);const me=a(t,["imageConfig"]);if(me!=null&&u(i,["imageConfig"],Jx(me)),a(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return i}function lg(e,t){const n={},i=a(t,["model"]);i!=null&&u(n,["_url","model"],se(e,i));const o=a(t,["contents"]);if(o!=null){let s=hn(o);Array.isArray(s)&&(s=s.map(r=>Qa(r))),u(n,["contents"],s)}const l=a(t,["config"]);return l!=null&&u(n,["generationConfig"],vx(e,l,n)),n}function sg(e,t){const n={},i=a(t,["model"]);i!=null&&u(n,["_url","model"],se(e,i));const o=a(t,["contents"]);if(o!=null){let s=hn(o);Array.isArray(s)&&(s=s.map(r=>r)),u(n,["contents"],s)}const l=a(t,["config"]);return l!=null&&u(n,["generationConfig"],Sx(e,l,n)),n}function rg(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=a(e,["candidates"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>Ob(f))),u(t,["candidates"],c)}const o=a(e,["modelVersion"]);o!=null&&u(t,["modelVersion"],o);const l=a(e,["promptFeedback"]);l!=null&&u(t,["promptFeedback"],l);const s=a(e,["responseId"]);s!=null&&u(t,["responseId"],s);const r=a(e,["usageMetadata"]);return r!=null&&u(t,["usageMetadata"],r),t}function ag(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=a(e,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(d=>d)),u(t,["candidates"],f)}const o=a(e,["createTime"]);o!=null&&u(t,["createTime"],o);const l=a(e,["modelVersion"]);l!=null&&u(t,["modelVersion"],l);const s=a(e,["promptFeedback"]);s!=null&&u(t,["promptFeedback"],s);const r=a(e,["responseId"]);r!=null&&u(t,["responseId"],r);const c=a(e,["usageMetadata"]);return c!=null&&u(t,["usageMetadata"],c),t}function _x(e,t){const n={};if(a(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=a(e,["numberOfImages"]);t!==void 0&&i!=null&&u(t,["parameters","sampleCount"],i);const o=a(e,["aspectRatio"]);t!==void 0&&o!=null&&u(t,["parameters","aspectRatio"],o);const l=a(e,["guidanceScale"]);if(t!==void 0&&l!=null&&u(t,["parameters","guidanceScale"],l),a(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=a(e,["safetyFilterLevel"]);t!==void 0&&s!=null&&u(t,["parameters","safetySetting"],s);const r=a(e,["personGeneration"]);t!==void 0&&r!=null&&u(t,["parameters","personGeneration"],r);const c=a(e,["includeSafetyAttributes"]);t!==void 0&&c!=null&&u(t,["parameters","includeSafetyAttributes"],c);const f=a(e,["includeRaiReason"]);t!==void 0&&f!=null&&u(t,["parameters","includeRaiReason"],f);const d=a(e,["language"]);t!==void 0&&d!=null&&u(t,["parameters","language"],d);const p=a(e,["outputMimeType"]);t!==void 0&&p!=null&&u(t,["parameters","outputOptions","mimeType"],p);const h=a(e,["outputCompressionQuality"]);if(t!==void 0&&h!=null&&u(t,["parameters","outputOptions","compressionQuality"],h),a(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const m=a(e,["imageSize"]);if(t!==void 0&&m!=null&&u(t,["parameters","sampleImageSize"],m),a(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Ex(e,t){const n={},i=a(e,["outputGcsUri"]);t!==void 0&&i!=null&&u(t,["parameters","storageUri"],i);const o=a(e,["negativePrompt"]);t!==void 0&&o!=null&&u(t,["parameters","negativePrompt"],o);const l=a(e,["numberOfImages"]);t!==void 0&&l!=null&&u(t,["parameters","sampleCount"],l);const s=a(e,["aspectRatio"]);t!==void 0&&s!=null&&u(t,["parameters","aspectRatio"],s);const r=a(e,["guidanceScale"]);t!==void 0&&r!=null&&u(t,["parameters","guidanceScale"],r);const c=a(e,["seed"]);t!==void 0&&c!=null&&u(t,["parameters","seed"],c);const f=a(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&u(t,["parameters","safetySetting"],f);const d=a(e,["personGeneration"]);t!==void 0&&d!=null&&u(t,["parameters","personGeneration"],d);const p=a(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&u(t,["parameters","includeSafetyAttributes"],p);const h=a(e,["includeRaiReason"]);t!==void 0&&h!=null&&u(t,["parameters","includeRaiReason"],h);const m=a(e,["language"]);t!==void 0&&m!=null&&u(t,["parameters","language"],m);const S=a(e,["outputMimeType"]);t!==void 0&&S!=null&&u(t,["parameters","outputOptions","mimeType"],S);const _=a(e,["outputCompressionQuality"]);t!==void 0&&_!=null&&u(t,["parameters","outputOptions","compressionQuality"],_);const E=a(e,["addWatermark"]);t!==void 0&&E!=null&&u(t,["parameters","addWatermark"],E);const g=a(e,["labels"]);t!==void 0&&g!=null&&u(t,["labels"],g);const y=a(e,["imageSize"]);t!==void 0&&y!=null&&u(t,["parameters","sampleImageSize"],y);const v=a(e,["enhancePrompt"]);return t!==void 0&&v!=null&&u(t,["parameters","enhancePrompt"],v),n}function Tx(e,t){const n={},i=a(t,["model"]);i!=null&&u(n,["_url","model"],se(e,i));const o=a(t,["prompt"]);o!=null&&u(n,["instances[0]","prompt"],o);const l=a(t,["config"]);return l!=null&&_x(l,n),n}function Cx(e,t){const n={},i=a(t,["model"]);i!=null&&u(n,["_url","model"],se(e,i));const o=a(t,["prompt"]);o!=null&&u(n,["instances[0]","prompt"],o);const l=a(t,["config"]);return l!=null&&Ex(l,n),n}function Ax(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=a(e,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>qx(s))),u(t,["generatedImages"],l)}const o=a(e,["positivePromptSafetyAttributes"]);return o!=null&&u(t,["positivePromptSafetyAttributes"],AS(o)),t}function Mx(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=a(e,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>Za(s))),u(t,["generatedImages"],l)}const o=a(e,["positivePromptSafetyAttributes"]);return o!=null&&u(t,["positivePromptSafetyAttributes"],MS(o)),t}function Rx(e,t){const n={},i=a(e,["numberOfVideos"]);if(t!==void 0&&i!=null&&u(t,["parameters","sampleCount"],i),a(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=a(e,["durationSeconds"]);if(t!==void 0&&o!=null&&u(t,["parameters","durationSeconds"],o),a(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=a(e,["aspectRatio"]);t!==void 0&&l!=null&&u(t,["parameters","aspectRatio"],l);const s=a(e,["resolution"]);t!==void 0&&s!=null&&u(t,["parameters","resolution"],s);const r=a(e,["personGeneration"]);if(t!==void 0&&r!=null&&u(t,["parameters","personGeneration"],r),a(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=a(e,["negativePrompt"]);t!==void 0&&c!=null&&u(t,["parameters","negativePrompt"],c);const f=a(e,["enhancePrompt"]);if(t!==void 0&&f!=null&&u(t,["parameters","enhancePrompt"],f),a(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=a(e,["lastFrame"]);t!==void 0&&d!=null&&u(t,["instances[0]","lastFrame"],Wa(d));const p=a(e,["referenceImages"]);if(t!==void 0&&p!=null){let h=p;Array.isArray(h)&&(h=h.map(m=>xN(m))),u(t,["instances[0]","referenceImages"],h)}if(a(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(a(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function bx(e,t){const n={},i=a(e,["numberOfVideos"]);t!==void 0&&i!=null&&u(t,["parameters","sampleCount"],i);const o=a(e,["outputGcsUri"]);t!==void 0&&o!=null&&u(t,["parameters","storageUri"],o);const l=a(e,["fps"]);t!==void 0&&l!=null&&u(t,["parameters","fps"],l);const s=a(e,["durationSeconds"]);t!==void 0&&s!=null&&u(t,["parameters","durationSeconds"],s);const r=a(e,["seed"]);t!==void 0&&r!=null&&u(t,["parameters","seed"],r);const c=a(e,["aspectRatio"]);t!==void 0&&c!=null&&u(t,["parameters","aspectRatio"],c);const f=a(e,["resolution"]);t!==void 0&&f!=null&&u(t,["parameters","resolution"],f);const d=a(e,["personGeneration"]);t!==void 0&&d!=null&&u(t,["parameters","personGeneration"],d);const p=a(e,["pubsubTopic"]);t!==void 0&&p!=null&&u(t,["parameters","pubsubTopic"],p);const h=a(e,["negativePrompt"]);t!==void 0&&h!=null&&u(t,["parameters","negativePrompt"],h);const m=a(e,["enhancePrompt"]);t!==void 0&&m!=null&&u(t,["parameters","enhancePrompt"],m);const S=a(e,["generateAudio"]);t!==void 0&&S!=null&&u(t,["parameters","generateAudio"],S);const _=a(e,["lastFrame"]);t!==void 0&&_!=null&&u(t,["instances[0]","lastFrame"],Nn(_));const E=a(e,["referenceImages"]);if(t!==void 0&&E!=null){let v=E;Array.isArray(v)&&(v=v.map(C=>NN(C))),u(t,["instances[0]","referenceImages"],v)}const g=a(e,["mask"]);t!==void 0&&g!=null&&u(t,["instances[0]","mask"],bN(g));const y=a(e,["compressionQuality"]);return t!==void 0&&y!=null&&u(t,["parameters","compressionQuality"],y),n}function xx(e){const t={},n=a(e,["name"]);n!=null&&u(t,["name"],n);const i=a(e,["metadata"]);i!=null&&u(t,["metadata"],i);const o=a(e,["done"]);o!=null&&u(t,["done"],o);const l=a(e,["error"]);l!=null&&u(t,["error"],l);const s=a(e,["response","generateVideoResponse"]);return s!=null&&u(t,["response"],Ix(s)),t}function Nx(e){const t={},n=a(e,["name"]);n!=null&&u(t,["name"],n);const i=a(e,["metadata"]);i!=null&&u(t,["metadata"],i);const o=a(e,["done"]);o!=null&&u(t,["done"],o);const l=a(e,["error"]);l!=null&&u(t,["error"],l);const s=a(e,["response"]);return s!=null&&u(t,["response"],Ux(s)),t}function wx(e,t){const n={},i=a(t,["model"]);i!=null&&u(n,["_url","model"],se(e,i));const o=a(t,["prompt"]);o!=null&&u(n,["instances[0]","prompt"],o);const l=a(t,["image"]);l!=null&&u(n,["instances[0]","image"],Wa(l));const s=a(t,["video"]);s!=null&&u(n,["instances[0]","video"],bS(s));const r=a(t,["source"]);r!=null&&Lx(r,n);const c=a(t,["config"]);return c!=null&&Rx(c,n),n}function Dx(e,t){const n={},i=a(t,["model"]);i!=null&&u(n,["_url","model"],se(e,i));const o=a(t,["prompt"]);o!=null&&u(n,["instances[0]","prompt"],o);const l=a(t,["image"]);l!=null&&u(n,["instances[0]","image"],Nn(l));const s=a(t,["video"]);s!=null&&u(n,["instances[0]","video"],xS(s));const r=a(t,["source"]);r!=null&&kx(r,n);const c=a(t,["config"]);return c!=null&&bx(c,n),n}function Ix(e){const t={},n=a(e,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>Hx(s))),u(t,["generatedVideos"],l)}const i=a(e,["raiMediaFilteredCount"]);i!=null&&u(t,["raiMediaFilteredCount"],i);const o=a(e,["raiMediaFilteredReasons"]);return o!=null&&u(t,["raiMediaFilteredReasons"],o),t}function Ux(e){const t={},n=a(e,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>Px(s))),u(t,["generatedVideos"],l)}const i=a(e,["raiMediaFilteredCount"]);i!=null&&u(t,["raiMediaFilteredCount"],i);const o=a(e,["raiMediaFilteredReasons"]);return o!=null&&u(t,["raiMediaFilteredReasons"],o),t}function Lx(e,t){const n={},i=a(e,["prompt"]);t!==void 0&&i!=null&&u(t,["instances[0]","prompt"],i);const o=a(e,["image"]);t!==void 0&&o!=null&&u(t,["instances[0]","image"],Wa(o));const l=a(e,["video"]);return t!==void 0&&l!=null&&u(t,["instances[0]","video"],bS(l)),n}function kx(e,t){const n={},i=a(e,["prompt"]);t!==void 0&&i!=null&&u(t,["instances[0]","prompt"],i);const o=a(e,["image"]);t!==void 0&&o!=null&&u(t,["instances[0]","image"],Nn(o));const l=a(e,["video"]);return t!==void 0&&l!=null&&u(t,["instances[0]","video"],xS(l)),n}function qx(e){const t={},n=a(e,["_self"]);n!=null&&u(t,["image"],Kx(n));const i=a(e,["raiFilteredReason"]);i!=null&&u(t,["raiFilteredReason"],i);const o=a(e,["_self"]);return o!=null&&u(t,["safetyAttributes"],AS(o)),t}function Za(e){const t={},n=a(e,["_self"]);n!=null&&u(t,["image"],CS(n));const i=a(e,["raiFilteredReason"]);i!=null&&u(t,["raiFilteredReason"],i);const o=a(e,["_self"]);o!=null&&u(t,["safetyAttributes"],MS(o));const l=a(e,["prompt"]);return l!=null&&u(t,["enhancedPrompt"],l),t}function Gx(e){const t={},n=a(e,["_self"]);n!=null&&u(t,["mask"],CS(n));const i=a(e,["labels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),u(t,["labels"],o)}return t}function Hx(e){const t={},n=a(e,["video"]);return n!=null&&u(t,["video"],MN(n)),t}function Px(e){const t={},n=a(e,["_self"]);return n!=null&&u(t,["video"],RN(n)),t}function zx(e){const t={},n=a(e,["modelSelectionConfig"]);n!=null&&u(t,["modelConfig"],n);const i=a(e,["responseJsonSchema"]);i!=null&&u(t,["responseJsonSchema"],i);const o=a(e,["audioTimestamp"]);o!=null&&u(t,["audioTimestamp"],o);const l=a(e,["candidateCount"]);l!=null&&u(t,["candidateCount"],l);const s=a(e,["enableAffectiveDialog"]);s!=null&&u(t,["enableAffectiveDialog"],s);const r=a(e,["frequencyPenalty"]);r!=null&&u(t,["frequencyPenalty"],r);const c=a(e,["logprobs"]);c!=null&&u(t,["logprobs"],c);const f=a(e,["maxOutputTokens"]);f!=null&&u(t,["maxOutputTokens"],f);const d=a(e,["mediaResolution"]);d!=null&&u(t,["mediaResolution"],d);const p=a(e,["presencePenalty"]);p!=null&&u(t,["presencePenalty"],p);const h=a(e,["responseLogprobs"]);h!=null&&u(t,["responseLogprobs"],h);const m=a(e,["responseMimeType"]);m!=null&&u(t,["responseMimeType"],m);const S=a(e,["responseModalities"]);S!=null&&u(t,["responseModalities"],S);const _=a(e,["responseSchema"]);_!=null&&u(t,["responseSchema"],_);const E=a(e,["routingConfig"]);E!=null&&u(t,["routingConfig"],E);const g=a(e,["seed"]);g!=null&&u(t,["seed"],g);const y=a(e,["speechConfig"]);y!=null&&u(t,["speechConfig"],y);const v=a(e,["stopSequences"]);v!=null&&u(t,["stopSequences"],v);const C=a(e,["temperature"]);C!=null&&u(t,["temperature"],C);const b=a(e,["thinkingConfig"]);b!=null&&u(t,["thinkingConfig"],b);const U=a(e,["topK"]);U!=null&&u(t,["topK"],U);const A=a(e,["topP"]);if(A!=null&&u(t,["topP"],A),a(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function Ox(e,t){const n={},i=a(t,["model"]);return i!=null&&u(n,["_url","name"],se(e,i)),n}function Vx(e,t){const n={},i=a(t,["model"]);return i!=null&&u(n,["_url","name"],se(e,i)),n}function Bx(e){const t={};if(a(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=a(e,["enableWidget"]);return n!=null&&u(t,["enableWidget"],n),t}function Fx(e){const t={};if(a(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=a(e,["timeRangeFilter"]);return n!=null&&u(t,["timeRangeFilter"],n),t}function Yx(e){const t={},n=a(e,["aspectRatio"]);n!=null&&u(t,["aspectRatio"],n);const i=a(e,["imageSize"]);if(i!=null&&u(t,["imageSize"],i),a(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(a(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function Jx(e){const t={},n=a(e,["aspectRatio"]);n!=null&&u(t,["aspectRatio"],n);const i=a(e,["imageSize"]);i!=null&&u(t,["imageSize"],i);const o=a(e,["outputMimeType"]);o!=null&&u(t,["imageOutputOptions","mimeType"],o);const l=a(e,["outputCompressionQuality"]);return l!=null&&u(t,["imageOutputOptions","compressionQuality"],l),t}function Kx(e){const t={},n=a(e,["bytesBase64Encoded"]);n!=null&&u(t,["imageBytes"],Ki(n));const i=a(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function CS(e){const t={},n=a(e,["gcsUri"]);n!=null&&u(t,["gcsUri"],n);const i=a(e,["bytesBase64Encoded"]);i!=null&&u(t,["imageBytes"],Ki(i));const o=a(e,["mimeType"]);return o!=null&&u(t,["mimeType"],o),t}function Wa(e){const t={};if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=a(e,["imageBytes"]);n!=null&&u(t,["bytesBase64Encoded"],Ki(n));const i=a(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function Nn(e){const t={},n=a(e,["gcsUri"]);n!=null&&u(t,["gcsUri"],n);const i=a(e,["imageBytes"]);i!=null&&u(t,["bytesBase64Encoded"],Ki(i));const o=a(e,["mimeType"]);return o!=null&&u(t,["mimeType"],o),t}function $x(e,t,n){const i={},o=a(t,["pageSize"]);n!==void 0&&o!=null&&u(n,["_query","pageSize"],o);const l=a(t,["pageToken"]);n!==void 0&&l!=null&&u(n,["_query","pageToken"],l);const s=a(t,["filter"]);n!==void 0&&s!=null&&u(n,["_query","filter"],s);const r=a(t,["queryBase"]);return n!==void 0&&r!=null&&u(n,["_url","models_url"],gS(e,r)),i}function Xx(e,t,n){const i={},o=a(t,["pageSize"]);n!==void 0&&o!=null&&u(n,["_query","pageSize"],o);const l=a(t,["pageToken"]);n!==void 0&&l!=null&&u(n,["_query","pageToken"],l);const s=a(t,["filter"]);n!==void 0&&s!=null&&u(n,["_query","filter"],s);const r=a(t,["queryBase"]);return n!==void 0&&r!=null&&u(n,["_url","models_url"],gS(e,r)),i}function Qx(e,t){const n={},i=a(t,["config"]);return i!=null&&$x(e,i,n),n}function Zx(e,t){const n={},i=a(t,["config"]);return i!=null&&Xx(e,i,n),n}function Wx(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=a(e,["nextPageToken"]);i!=null&&u(t,["nextPageToken"],i);const o=a(e,["_self"]);if(o!=null){let l=yS(o);Array.isArray(l)&&(l=l.map(s=>uf(s))),u(t,["models"],l)}return t}function jx(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=a(e,["nextPageToken"]);i!=null&&u(t,["nextPageToken"],i);const o=a(e,["_self"]);if(o!=null){let l=yS(o);Array.isArray(l)&&(l=l.map(s=>cf(s))),u(t,["models"],l)}return t}function eN(e){const t={},n=a(e,["maskMode"]);n!=null&&u(t,["maskMode"],n);const i=a(e,["segmentationClasses"]);i!=null&&u(t,["maskClasses"],i);const o=a(e,["maskDilation"]);return o!=null&&u(t,["dilation"],o),t}function uf(e){const t={},n=a(e,["name"]);n!=null&&u(t,["name"],n);const i=a(e,["displayName"]);i!=null&&u(t,["displayName"],i);const o=a(e,["description"]);o!=null&&u(t,["description"],o);const l=a(e,["version"]);l!=null&&u(t,["version"],l);const s=a(e,["_self"]);s!=null&&u(t,["tunedModelInfo"],gN(s));const r=a(e,["inputTokenLimit"]);r!=null&&u(t,["inputTokenLimit"],r);const c=a(e,["outputTokenLimit"]);c!=null&&u(t,["outputTokenLimit"],c);const f=a(e,["supportedGenerationMethods"]);f!=null&&u(t,["supportedActions"],f);const d=a(e,["temperature"]);d!=null&&u(t,["temperature"],d);const p=a(e,["maxTemperature"]);p!=null&&u(t,["maxTemperature"],p);const h=a(e,["topP"]);h!=null&&u(t,["topP"],h);const m=a(e,["topK"]);m!=null&&u(t,["topK"],m);const S=a(e,["thinking"]);return S!=null&&u(t,["thinking"],S),t}function cf(e){const t={},n=a(e,["name"]);n!=null&&u(t,["name"],n);const i=a(e,["displayName"]);i!=null&&u(t,["displayName"],i);const o=a(e,["description"]);o!=null&&u(t,["description"],o);const l=a(e,["versionId"]);l!=null&&u(t,["version"],l);const s=a(e,["deployedModels"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(h=>hx(h))),u(t,["endpoints"],p)}const r=a(e,["labels"]);r!=null&&u(t,["labels"],r);const c=a(e,["_self"]);c!=null&&u(t,["tunedModelInfo"],yN(c));const f=a(e,["defaultCheckpointId"]);f!=null&&u(t,["defaultCheckpointId"],f);const d=a(e,["checkpoints"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(h=>h)),u(t,["checkpoints"],p)}return t}function tN(e){const t={},n=a(e,["mediaResolution"]);n!=null&&u(t,["mediaResolution"],n);const i=a(e,["codeExecutionResult"]);i!=null&&u(t,["codeExecutionResult"],i);const o=a(e,["executableCode"]);o!=null&&u(t,["executableCode"],o);const l=a(e,["fileData"]);l!=null&&u(t,["fileData"],px(l));const s=a(e,["functionCall"]);s!=null&&u(t,["functionCall"],mx(s));const r=a(e,["functionResponse"]);r!=null&&u(t,["functionResponse"],r);const c=a(e,["inlineData"]);c!=null&&u(t,["inlineData"],zb(c));const f=a(e,["text"]);f!=null&&u(t,["text"],f);const d=a(e,["thought"]);d!=null&&u(t,["thought"],d);const p=a(e,["thoughtSignature"]);p!=null&&u(t,["thoughtSignature"],p);const h=a(e,["videoMetadata"]);return h!=null&&u(t,["videoMetadata"],h),t}function nN(e){const t={},n=a(e,["productImage"]);return n!=null&&u(t,["image"],Nn(n)),t}function iN(e,t){const n={},i=a(e,["numberOfImages"]);t!==void 0&&i!=null&&u(t,["parameters","sampleCount"],i);const o=a(e,["baseSteps"]);t!==void 0&&o!=null&&u(t,["parameters","baseSteps"],o);const l=a(e,["outputGcsUri"]);t!==void 0&&l!=null&&u(t,["parameters","storageUri"],l);const s=a(e,["seed"]);t!==void 0&&s!=null&&u(t,["parameters","seed"],s);const r=a(e,["safetyFilterLevel"]);t!==void 0&&r!=null&&u(t,["parameters","safetySetting"],r);const c=a(e,["personGeneration"]);t!==void 0&&c!=null&&u(t,["parameters","personGeneration"],c);const f=a(e,["addWatermark"]);t!==void 0&&f!=null&&u(t,["parameters","addWatermark"],f);const d=a(e,["outputMimeType"]);t!==void 0&&d!=null&&u(t,["parameters","outputOptions","mimeType"],d);const p=a(e,["outputCompressionQuality"]);t!==void 0&&p!=null&&u(t,["parameters","outputOptions","compressionQuality"],p);const h=a(e,["enhancePrompt"]);t!==void 0&&h!=null&&u(t,["parameters","enhancePrompt"],h);const m=a(e,["labels"]);return t!==void 0&&m!=null&&u(t,["labels"],m),n}function oN(e,t){const n={},i=a(t,["model"]);i!=null&&u(n,["_url","model"],se(e,i));const o=a(t,["source"]);o!=null&&sN(o,n);const l=a(t,["config"]);return l!=null&&iN(l,n),n}function lN(e){const t={},n=a(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Za(o))),u(t,["generatedImages"],i)}return t}function sN(e,t){const n={},i=a(e,["prompt"]);t!==void 0&&i!=null&&u(t,["instances[0]","prompt"],i);const o=a(e,["personImage"]);t!==void 0&&o!=null&&u(t,["instances[0]","personImage","image"],Nn(o));const l=a(e,["productImages"]);if(t!==void 0&&l!=null){let s=l;Array.isArray(s)&&(s=s.map(r=>nN(r))),u(t,["instances[0]","productImages"],s)}return n}function rN(e){const t={},n=a(e,["referenceImage"]);n!=null&&u(t,["referenceImage"],Nn(n));const i=a(e,["referenceId"]);i!=null&&u(t,["referenceId"],i);const o=a(e,["referenceType"]);o!=null&&u(t,["referenceType"],o);const l=a(e,["maskImageConfig"]);l!=null&&u(t,["maskImageConfig"],eN(l));const s=a(e,["controlImageConfig"]);s!=null&&u(t,["controlImageConfig"],Kb(s));const r=a(e,["styleImageConfig"]);r!=null&&u(t,["styleImageConfig"],r);const c=a(e,["subjectImageConfig"]);return c!=null&&u(t,["subjectImageConfig"],c),t}function AS(e){const t={},n=a(e,["safetyAttributes","categories"]);n!=null&&u(t,["categories"],n);const i=a(e,["safetyAttributes","scores"]);i!=null&&u(t,["scores"],i);const o=a(e,["contentType"]);return o!=null&&u(t,["contentType"],o),t}function MS(e){const t={},n=a(e,["safetyAttributes","categories"]);n!=null&&u(t,["categories"],n);const i=a(e,["safetyAttributes","scores"]);i!=null&&u(t,["scores"],i);const o=a(e,["contentType"]);return o!=null&&u(t,["contentType"],o),t}function aN(e){const t={},n=a(e,["category"]);if(n!=null&&u(t,["category"],n),a(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=a(e,["threshold"]);return i!=null&&u(t,["threshold"],i),t}function uN(e){const t={},n=a(e,["image"]);return n!=null&&u(t,["image"],Nn(n)),t}function cN(e,t){const n={},i=a(e,["mode"]);t!==void 0&&i!=null&&u(t,["parameters","mode"],i);const o=a(e,["maxPredictions"]);t!==void 0&&o!=null&&u(t,["parameters","maxPredictions"],o);const l=a(e,["confidenceThreshold"]);t!==void 0&&l!=null&&u(t,["parameters","confidenceThreshold"],l);const s=a(e,["maskDilation"]);t!==void 0&&s!=null&&u(t,["parameters","maskDilation"],s);const r=a(e,["binaryColorThreshold"]);t!==void 0&&r!=null&&u(t,["parameters","binaryColorThreshold"],r);const c=a(e,["labels"]);return t!==void 0&&c!=null&&u(t,["labels"],c),n}function fN(e,t){const n={},i=a(t,["model"]);i!=null&&u(n,["_url","model"],se(e,i));const o=a(t,["source"]);o!=null&&hN(o,n);const l=a(t,["config"]);return l!=null&&cN(l,n),n}function dN(e){const t={},n=a(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Gx(o))),u(t,["generatedMasks"],i)}return t}function hN(e,t){const n={},i=a(e,["prompt"]);t!==void 0&&i!=null&&u(t,["instances[0]","prompt"],i);const o=a(e,["image"]);t!==void 0&&o!=null&&u(t,["instances[0]","image"],Nn(o));const l=a(e,["scribbleImage"]);return t!==void 0&&l!=null&&u(t,["instances[0]","scribble"],uN(l)),n}function pN(e){const t={},n=a(e,["functionCallingConfig"]);n!=null&&u(t,["functionCallingConfig"],gx(n));const i=a(e,["retrievalConfig"]);return i!=null&&u(t,["retrievalConfig"],i),t}function mN(e){const t={},n=a(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(p=>p)),u(t,["functionDeclarations"],d)}if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(e,["googleSearchRetrieval"]);i!=null&&u(t,["googleSearchRetrieval"],i);const o=a(e,["computerUse"]);o!=null&&u(t,["computerUse"],o);const l=a(e,["fileSearch"]);l!=null&&u(t,["fileSearch"],l);const s=a(e,["codeExecution"]);if(s!=null&&u(t,["codeExecution"],s),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=a(e,["googleMaps"]);r!=null&&u(t,["googleMaps"],Bx(r));const c=a(e,["googleSearch"]);c!=null&&u(t,["googleSearch"],Fx(c));const f=a(e,["urlContext"]);return f!=null&&u(t,["urlContext"],f),t}function RS(e){const t={},n=a(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>yx(h))),u(t,["functionDeclarations"],p)}const i=a(e,["retrieval"]);i!=null&&u(t,["retrieval"],i);const o=a(e,["googleSearchRetrieval"]);o!=null&&u(t,["googleSearchRetrieval"],o);const l=a(e,["computerUse"]);if(l!=null&&u(t,["computerUse"],l),a(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=a(e,["codeExecution"]);s!=null&&u(t,["codeExecution"],s);const r=a(e,["enterpriseWebSearch"]);r!=null&&u(t,["enterpriseWebSearch"],r);const c=a(e,["googleMaps"]);c!=null&&u(t,["googleMaps"],c);const f=a(e,["googleSearch"]);f!=null&&u(t,["googleSearch"],f);const d=a(e,["urlContext"]);return d!=null&&u(t,["urlContext"],d),t}function gN(e){const t={},n=a(e,["baseModel"]);n!=null&&u(t,["baseModel"],n);const i=a(e,["createTime"]);i!=null&&u(t,["createTime"],i);const o=a(e,["updateTime"]);return o!=null&&u(t,["updateTime"],o),t}function yN(e){const t={},n=a(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&u(t,["baseModel"],n);const i=a(e,["createTime"]);i!=null&&u(t,["createTime"],i);const o=a(e,["updateTime"]);return o!=null&&u(t,["updateTime"],o),t}function vN(e,t){const n={},i=a(e,["displayName"]);t!==void 0&&i!=null&&u(t,["displayName"],i);const o=a(e,["description"]);t!==void 0&&o!=null&&u(t,["description"],o);const l=a(e,["defaultCheckpointId"]);return t!==void 0&&l!=null&&u(t,["defaultCheckpointId"],l),n}function SN(e,t){const n={},i=a(e,["displayName"]);t!==void 0&&i!=null&&u(t,["displayName"],i);const o=a(e,["description"]);t!==void 0&&o!=null&&u(t,["description"],o);const l=a(e,["defaultCheckpointId"]);return t!==void 0&&l!=null&&u(t,["defaultCheckpointId"],l),n}function _N(e,t){const n={},i=a(t,["model"]);i!=null&&u(n,["_url","name"],se(e,i));const o=a(t,["config"]);return o!=null&&vN(o,n),n}function EN(e,t){const n={},i=a(t,["model"]);i!=null&&u(n,["_url","model"],se(e,i));const o=a(t,["config"]);return o!=null&&SN(o,n),n}function TN(e,t){const n={},i=a(e,["outputGcsUri"]);t!==void 0&&i!=null&&u(t,["parameters","storageUri"],i);const o=a(e,["safetyFilterLevel"]);t!==void 0&&o!=null&&u(t,["parameters","safetySetting"],o);const l=a(e,["personGeneration"]);t!==void 0&&l!=null&&u(t,["parameters","personGeneration"],l);const s=a(e,["includeRaiReason"]);t!==void 0&&s!=null&&u(t,["parameters","includeRaiReason"],s);const r=a(e,["outputMimeType"]);t!==void 0&&r!=null&&u(t,["parameters","outputOptions","mimeType"],r);const c=a(e,["outputCompressionQuality"]);t!==void 0&&c!=null&&u(t,["parameters","outputOptions","compressionQuality"],c);const f=a(e,["enhanceInputImage"]);t!==void 0&&f!=null&&u(t,["parameters","upscaleConfig","enhanceInputImage"],f);const d=a(e,["imagePreservationFactor"]);t!==void 0&&d!=null&&u(t,["parameters","upscaleConfig","imagePreservationFactor"],d);const p=a(e,["labels"]);t!==void 0&&p!=null&&u(t,["labels"],p);const h=a(e,["numberOfImages"]);t!==void 0&&h!=null&&u(t,["parameters","sampleCount"],h);const m=a(e,["mode"]);return t!==void 0&&m!=null&&u(t,["parameters","mode"],m),n}function CN(e,t){const n={},i=a(t,["model"]);i!=null&&u(n,["_url","model"],se(e,i));const o=a(t,["image"]);o!=null&&u(n,["instances[0]","image"],Nn(o));const l=a(t,["upscaleFactor"]);l!=null&&u(n,["parameters","upscaleConfig","upscaleFactor"],l);const s=a(t,["config"]);return s!=null&&TN(s,n),n}function AN(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=a(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>Za(l))),u(t,["generatedImages"],o)}return t}function MN(e){const t={},n=a(e,["uri"]);n!=null&&u(t,["uri"],n);const i=a(e,["encodedVideo"]);i!=null&&u(t,["videoBytes"],Ki(i));const o=a(e,["encoding"]);return o!=null&&u(t,["mimeType"],o),t}function RN(e){const t={},n=a(e,["gcsUri"]);n!=null&&u(t,["uri"],n);const i=a(e,["bytesBase64Encoded"]);i!=null&&u(t,["videoBytes"],Ki(i));const o=a(e,["mimeType"]);return o!=null&&u(t,["mimeType"],o),t}function bN(e){const t={},n=a(e,["image"]);n!=null&&u(t,["_self"],Nn(n));const i=a(e,["maskMode"]);return i!=null&&u(t,["maskMode"],i),t}function xN(e){const t={},n=a(e,["image"]);n!=null&&u(t,["image"],Wa(n));const i=a(e,["referenceType"]);return i!=null&&u(t,["referenceType"],i),t}function NN(e){const t={},n=a(e,["image"]);n!=null&&u(t,["image"],Nn(n));const i=a(e,["referenceType"]);return i!=null&&u(t,["referenceType"],i),t}function bS(e){const t={},n=a(e,["uri"]);n!=null&&u(t,["uri"],n);const i=a(e,["videoBytes"]);i!=null&&u(t,["encodedVideo"],Ki(i));const o=a(e,["mimeType"]);return o!=null&&u(t,["encoding"],o),t}function xS(e){const t={},n=a(e,["uri"]);n!=null&&u(t,["gcsUri"],n);const i=a(e,["videoBytes"]);i!=null&&u(t,["bytesBase64Encoded"],Ki(i));const o=a(e,["mimeType"]);return o!=null&&u(t,["mimeType"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wN(e,t){const n={},i=a(e,["displayName"]);return t!==void 0&&i!=null&&u(t,["displayName"],i),n}function DN(e){const t={},n=a(e,["config"]);return n!=null&&wN(n,t),t}function IN(e,t){const n={},i=a(e,["force"]);return t!==void 0&&i!=null&&u(t,["_query","force"],i),n}function UN(e){const t={},n=a(e,["name"]);n!=null&&u(t,["_url","name"],n);const i=a(e,["config"]);return i!=null&&IN(i,t),t}function LN(e){const t={},n=a(e,["name"]);return n!=null&&u(t,["_url","name"],n),t}function kN(e,t){const n={},i=a(e,["customMetadata"]);if(t!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>s)),u(t,["customMetadata"],l)}const o=a(e,["chunkingConfig"]);return t!==void 0&&o!=null&&u(t,["chunkingConfig"],o),n}function qN(e){const t={},n=a(e,["name"]);n!=null&&u(t,["name"],n);const i=a(e,["metadata"]);i!=null&&u(t,["metadata"],i);const o=a(e,["done"]);o!=null&&u(t,["done"],o);const l=a(e,["error"]);l!=null&&u(t,["error"],l);const s=a(e,["response"]);return s!=null&&u(t,["response"],HN(s)),t}function GN(e){const t={},n=a(e,["fileSearchStoreName"]);n!=null&&u(t,["_url","file_search_store_name"],n);const i=a(e,["fileName"]);i!=null&&u(t,["fileName"],i);const o=a(e,["config"]);return o!=null&&kN(o,t),t}function HN(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=a(e,["parent"]);i!=null&&u(t,["parent"],i);const o=a(e,["documentName"]);return o!=null&&u(t,["documentName"],o),t}function PN(e,t){const n={},i=a(e,["pageSize"]);t!==void 0&&i!=null&&u(t,["_query","pageSize"],i);const o=a(e,["pageToken"]);return t!==void 0&&o!=null&&u(t,["_query","pageToken"],o),n}function zN(e){const t={},n=a(e,["config"]);return n!=null&&PN(n,t),t}function ON(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=a(e,["nextPageToken"]);i!=null&&u(t,["nextPageToken"],i);const o=a(e,["fileSearchStores"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>s)),u(t,["fileSearchStores"],l)}return t}function NS(e,t){const n={},i=a(e,["mimeType"]);t!==void 0&&i!=null&&u(t,["mimeType"],i);const o=a(e,["displayName"]);t!==void 0&&o!=null&&u(t,["displayName"],o);const l=a(e,["customMetadata"]);if(t!==void 0&&l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>c)),u(t,["customMetadata"],r)}const s=a(e,["chunkingConfig"]);return t!==void 0&&s!=null&&u(t,["chunkingConfig"],s),n}function VN(e){const t={},n=a(e,["fileSearchStoreName"]);n!=null&&u(t,["_url","file_search_store_name"],n);const i=a(e,["config"]);return i!=null&&NS(i,t),t}function BN(e){const t={},n=a(e,["sdkHttpResponse"]);return n!=null&&u(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FN="Content-Type",YN="X-Server-Timeout",JN="User-Agent",ff="x-goog-api-client",KN="1.34.0",$N=`google-genai-sdk/${KN}`,XN="v1beta1",QN="v1beta";class ZN{constructor(t){var n,i;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:XN,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:QN,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&i.push(t.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,i){const o=[this.getRequestUrlInternal(n)];return i&&o.push(this.getBaseResourcePath()),t!==""&&o.push(t),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const i=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,i);if(t.queryParams)for(const[s,r]of Object.entries(t.queryParams))o.searchParams.append(s,String(r));let l={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=t.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,n,o.toString(),t.abortSignal),this.unaryApiCall(o,l,t.httpMethod)}patchHttpOptions(t,n){const i=JSON.parse(JSON.stringify(t));for(const[o,l]of Object.entries(n))typeof l=="object"?i[o]=Object.assign(Object.assign({},i[o]),l):l!==void 0&&(i[o]=l);return i}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const i=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,i);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let l={};return l.body=t.body,l=await this.includeExtraHttpOptionsToRequestInit(l,n,o.toString(),t.abortSignal),this.streamApiCall(o,l,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,i,o){if(n&&n.timeout||o){const l=new AbortController,s=l.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const r=setTimeout(()=>l.abort(),n.timeout);r&&typeof r.unref=="function"&&r.unref()}o&&o.addEventListener("abort",()=>{l.abort()}),t.signal=s}return n&&n.extraBody!==null&&WN(t,n.extraBody),t.headers=await this.getHeadersInternal(n,i),t}async unaryApiCall(t,n,i){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await ug(o),new sf(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(t,n,i){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await ug(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(t){return Mn(this,arguments,function*(){var i;const o=(i=t==null?void 0:t.body)===null||i===void 0?void 0:i.getReader(),l=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let s="";const r="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:d}=yield Q(o.read());if(f){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=l.decode(d,{stream:!0});try{const S=JSON.parse(p);if("error"in S){const _=JSON.parse(JSON.stringify(S.error)),E=_.status,g=_.code,y=`got status: ${E}. ${JSON.stringify(S)}`;if(g>=400&&g<600)throw new Xa({message:y,status:g})}}catch(S){if(S.name==="ApiError")throw S}s+=p;let h=-1,m=0;for(;;){h=-1,m=0;for(const E of c){const g=s.indexOf(E);g!==-1&&(h===-1||g<h)&&(h=g,m=E.length)}if(h===-1)break;const S=s.substring(0,h);s=s.substring(h+m);const _=S.trim();if(_.startsWith(r)){const E=_.substring(r.length).trim();try{const g=new Response(E,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Q(new sf(g))}catch(g){throw new Error(`exception parsing stream chunk ${E}. ${g}`)}}}}}finally{o.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const t={},n=$N+" "+this.clientOptions.userAgentExtra;return t[JN]=n,t[ff]=n,t[FN]="application/json",t}async getHeadersInternal(t,n){const i=new Headers;if(t&&t.headers){for(const[o,l]of Object.entries(t.headers))i.append(o,l);t.timeout&&t.timeout>0&&i.append(YN,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,n),i}getFileName(t){var n;let i="";return typeof t=="string"&&(i=t.replace(/[/\\]+$/,""),i=(n=i.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),i}async uploadFile(t,n){var i;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const l=this.clientOptions.uploader,s=await l.stat(t);o.sizeBytes=String(s.size);const r=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:s.type;if(r===void 0||r==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=r;const c={file:o},f=this.getFileName(t),d=P("upload/v1beta/files",c._url),p=await this.fetchUploadUrl(d,o.sizeBytes,o.mimeType,f,c,n==null?void 0:n.httpOptions);return l.upload(t,p,this)}async uploadFileToFileSearchStore(t,n,i){var o;const l=this.clientOptions.uploader,s=await l.stat(n),r=String(s.size),c=(o=i==null?void 0:i.mimeType)!==null&&o!==void 0?o:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${t}:uploadToFileSearchStore`,d=this.getFileName(n),p={};i!=null&&NS(i,p);const h=await this.fetchUploadUrl(f,r,c,d,p,i==null?void 0:i.httpOptions);return l.uploadToFileSearchStore(n,h,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,i,o,l,s){var r;let c={};s?c=s:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${i}`},o?{"X-Goog-Upload-File-Name":o}:{})};const f=await this.request({path:t,body:JSON.stringify(l),httpMethod:"POST",httpOptions:c});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(r=f==null?void 0:f.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function ug(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let i;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?i=await e.json():i={error:{message:await e.text(),code:e.status,status:e.statusText}};const o=JSON.stringify(i);throw n>=400&&n<600?new Xa({message:o,status:n}):new Error(o)}}function WN(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const l=JSON.parse(e.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))n=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(l,s){const r=Object.assign({},l);for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const f=s[c],d=r[c];f&&typeof f=="object"&&!Array.isArray(f)&&d&&typeof d=="object"&&!Array.isArray(d)?r[c]=i(d,f):(d&&f&&typeof d!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof d}, New type: ${typeof f}. Overwriting.`),r[c]=f)}return r}const o=i(n,t);e.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jN="mcp_used/unknown";let ew=!1;function wS(e){for(const t of e)if(tw(t)||typeof t=="object"&&"inputSchema"in t)return!0;return ew}function DS(e){var t;const n=(t=e[ff])!==null&&t!==void 0?t:"";e[ff]=(n+` ${jN}`).trimStart()}function tw(e){return e!==null&&typeof e=="object"&&e instanceof qd}function nw(e){return Mn(this,arguments,function*(n,i=100){let o,l=0;for(;l<i;){const s=yield Q(n.listTools({cursor:o}));for(const r of s.tools)yield yield Q(r),l++;if(!s.nextCursor)break;o=s.nextCursor}})}class qd{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new qd(t,n)}async initialize(){var t,n,i,o;if(this.mcpTools.length>0)return;const l={},s=[];for(const d of this.mcpClients)try{for(var r=!0,c=(n=void 0,Rn(nw(d))),f;f=await c.next(),t=f.done,!t;r=!0){o=f.value,r=!1;const p=o;s.push(p);const h=p.name;if(l[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);l[h]=d}}catch(p){n={error:p}}finally{try{!r&&!t&&(i=c.return)&&await i.call(c)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),LM(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const i of t)if(i.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[i.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const s=await o.callTool({name:i.name,arguments:i.args},void 0,l);n.push({functionResponse:{name:i.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function iw(e,t,n){const i=new RM;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),Object.assign(i,o),t(i)}class ow{constructor(t,n,i){this.apiClient=t,this.auth=n,this.webSocketFactory=i}async connect(t){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),s=rw(this.apiClient.getDefaultHeaders()),r=this.apiClient.getApiKey(),c=`${o}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${r}`;let f=()=>{};const d=new Promise(v=>{f=v}),p=t.callbacks,h=function(){f({})},m=this.apiClient,S={onopen:h,onmessage:v=>{iw(m,p.onmessage,v)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(v){},onclose:(i=p==null?void 0:p.onclose)!==null&&i!==void 0?i:function(v){}},_=this.webSocketFactory.create(c,sw(s),S);_.connect(),await d;const y={setup:{model:se(this.apiClient,t.model)}};return _.send(JSON.stringify(y)),new lw(_,this.apiClient)}}class lw{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Db(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=wb(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Bo.PLAY)}pause(){this.sendPlaybackControl(Bo.PAUSE)}stop(){this.sendPlaybackControl(Bo.STOP)}resetContext(){this.sendPlaybackControl(Bo.RESET_CONTEXT)}close(){this.conn.close()}}function sw(e){const t={};return e.forEach((n,i)=>{t[i]=n}),t}function rw(e){const t=new Headers;for(const[n,i]of Object.entries(e))t.append(n,i);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const aw="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function uw(e,t,n){const i=new MM;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const l=JSON.parse(o);if(e.isVertexAI()){const s=Lb(l);Object.assign(i,s)}else Object.assign(i,l);t(i)}class cw{constructor(t,n,i){this.apiClient=t,this.auth=n,this.webSocketFactory=i,this.music=new ow(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,i,o,l,s,r;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let d;const p=this.apiClient.getHeaders();t.config&&t.config.tools&&wS(t.config.tools)&&DS(p);const h=pw(p);if(this.apiClient.isVertexAI())d=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,d);else{const w=this.apiClient.getApiKey();let k="BidiGenerateContent",H="key";w!=null&&w.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),k="BidiGenerateContentConstrained",H="access_token"),d=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${k}?${H}=${w}`}let m=()=>{};const S=new Promise(w=>{m=w}),_=t.callbacks,E=function(){var w;(w=_==null?void 0:_.onopen)===null||w===void 0||w.call(_),m({})},g=this.apiClient,y={onopen:E,onmessage:w=>{uw(g,_.onmessage,w)},onerror:(n=_==null?void 0:_.onerror)!==null&&n!==void 0?n:function(w){},onclose:(i=_==null?void 0:_.onclose)!==null&&i!==void 0?i:function(w){}},v=this.webSocketFactory.create(d,hw(h),y);v.connect(),await S;let C=se(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const w=this.apiClient.getProject(),k=this.apiClient.getLocation();C=`projects/${w}/locations/${k}/`+C}let b={};this.apiClient.isVertexAI()&&((o=t.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[va.AUDIO]}:t.config.responseModalities=[va.AUDIO]),!((l=t.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const U=(r=(s=t.config)===null||s===void 0?void 0:s.tools)!==null&&r!==void 0?r:[],A=[];for(const w of U)if(this.isCallableTool(w)){const k=w;A.push(await k.tool())}else A.push(w);A.length>0&&(t.config.tools=A);const x={model:C,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?b=Nb(this.apiClient,x):b=xb(this.apiClient,x),delete b.config,v.send(JSON.stringify(b)),new dw(v,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const fw={turnComplete:!0};class dw{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=hn(n.turns),t.isVertexAI()||(i=i.map(o=>Qa(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const l of i){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!t.isVertexAI()&&!("id"in l))throw new Error(aw)}return{toolResponse:{functionResponses:i}}}sendClientContent(t){t=Object.assign(Object.assign({},fw),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Ub(t)}:n={realtimeInput:Ib(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function hw(e){const t={};return e.forEach((n,i)=>{t[i]=n}),t}function pw(e){const t=new Headers;for(const[n,i]of Object.entries(e))t.append(n,i);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cg=10;function fg(e){var t,n,i;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let o=!1;for(const s of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(el(s)){o=!0;break}if(!o)return!0;const l=(i=e==null?void 0:e.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function el(e){return"callTool"in e&&typeof e.callTool=="function"}function mw(e){var t,n,i;return(i=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(o=>el(o)))!==null&&i!==void 0?i:!1}function dg(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((i,o)=>{if(el(i))return;const l=i;l.functionDeclarations&&l.functionDeclarations.length>0&&n.push(o)}),n}function hg(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gw extends di{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var i,o,l,s,r;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!mw(n)||fg(n.config))return await this.generateContentInternal(c);const f=dg(n);if(f.length>0){const _=f.map(E=>`tools[${E}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${_}.`)}let d,p;const h=hn(c.contents),m=(l=(o=(i=c.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&l!==void 0?l:cg;let S=0;for(;S<m&&(d=await this.generateContentInternal(c),!(!d.functionCalls||d.functionCalls.length===0));){const _=d.candidates[0].content,E=[];for(const g of(r=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&r!==void 0?r:[])if(el(g)){const v=await g.callTool(d.functionCalls);E.push(...v)}S++,p={role:"user",parts:E},c.contents=hn(c.contents),c.contents.push(_),c.contents.push(p),hg(c.config)&&(h.push(_),h.push(p))}return hg(c.config)&&(d.automaticFunctionCallingHistory=h),d},this.generateContentStream=async n=>{var i,o,l,s,r;if(this.maybeMoveToResponseJsonSchem(n),fg(n.config)){const p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}const c=dg(n);if(c.length>0){const p=c.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(l=(o=(i=n==null?void 0:n.config)===null||i===void 0?void 0:i.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||l===void 0?void 0:l.streamFunctionCallArguments,d=(r=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||r===void 0?void 0:r.disable;if(f&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var o;let l;const s=[];if(i!=null&&i.generatedImages)for(const c of i.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((o=c==null?void 0:c.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?l=c==null?void 0:c.safetyAttributes:s.push(c);let r;return l?r={generatedImages:s,positivePromptSafetyAttributes:l,sdkHttpResponse:i.sdkHttpResponse}:r={generatedImages:s,sdkHttpResponse:i.sdkHttpResponse},r}),this.list=async n=>{var i;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((i=s.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Eo(ui.PAGED_ITEM_MODELS,r=>this.listInternal(r),await this.listInternal(s),s)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(o)},this.generateVideos=async n=>{var i,o,l,s,r,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=n.video)===null||i===void 0)&&i.uri&&(!((o=n.video)===null||o===void 0)&&o.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(l=n.source)===null||l===void 0?void 0:l.video)===null||s===void 0)&&s.uri&&(!((c=(r=n.source)===null||r===void 0?void 0:r.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,i,o;const l=(n=t.config)===null||n===void 0?void 0:n.tools;if(!l)return t;const s=await Promise.all(l.map(async c=>el(c)?await c.tool():c)),r={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:s})};if(r.config.tools=s,t.config&&t.config.tools&&wS(t.config.tools)){const c=(o=(i=t.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&o!==void 0?o:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),DS(f),r.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:f})}return r}async initAfcToolsMap(t){var n,i,o;const l=new Map;for(const s of(i=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(el(s)){const r=s,c=await r.tool();for(const f of(o=c.functionDeclarations)!==null&&o!==void 0?o:[]){if(!f.name)throw new Error("Function declaration name is required.");if(l.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);l.set(f.name,r)}}return l}async processAfcStream(t){var n,i,o;const l=(o=(i=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:cg;let s=!1,r=0;const c=await this.initAfcToolsMap(t);return function(f,d,p){return Mn(this,arguments,function*(){for(var h,m,S,_,E,g;r<l;){s&&(r++,s=!1);const b=yield Q(f.processParamsMaybeAddMcpUsage(p)),U=yield Q(f.generateContentStreamInternal(b)),A=[],x=[];try{for(var y=!0,v=(m=void 0,Rn(U)),C;C=yield Q(v.next()),h=C.done,!h;y=!0){_=C.value,y=!1;const w=_;if(yield yield Q(w),w.candidates&&(!((E=w.candidates[0])===null||E===void 0)&&E.content)){x.push(w.candidates[0].content);for(const k of(g=w.candidates[0].content.parts)!==null&&g!==void 0?g:[])if(r<l&&k.functionCall){if(!k.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(k.functionCall.name)){const H=yield Q(d.get(k.functionCall.name).callTool([k.functionCall]));A.push(...H)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${k.functionCall.name}`)}}}}catch(w){m={error:w}}finally{try{!y&&!h&&(S=v.return)&&(yield Q(S.call(v)))}finally{if(m)throw m.error}}if(A.length>0){s=!0;const w=new Pl;w.candidates=[{content:{role:"user",parts:A}}],yield yield Q(w);const k=[];k.push(...x),k.push({role:"user",parts:A});const H=hn(p.contents).concat(k);p.contents=H}else break}})}(this,c,t)}async generateContentInternal(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=sg(this.apiClient,t);return r=P("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{const p=ag(d),h=new Pl;return Object.assign(h,p),h})}else{const f=lg(this.apiClient,t);return r=P("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{const p=rg(d),h=new Pl;return Object.assign(h,p),h})}}async generateContentStreamInternal(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=sg(this.apiClient,t);return r=P("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}),s.then(function(p){return Mn(this,arguments,function*(){var h,m,S,_;try{for(var E=!0,g=Rn(p),y;y=yield Q(g.next()),h=y.done,!h;E=!0){_=y.value,E=!1;const v=_,C=ag(yield Q(v.json()));C.sdkHttpResponse={headers:v.headers};const b=new Pl;Object.assign(b,C),yield yield Q(b)}}catch(v){m={error:v}}finally{try{!E&&!h&&(S=g.return)&&(yield Q(S.call(g)))}finally{if(m)throw m.error}}})})}else{const f=lg(this.apiClient,t);return r=P("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}),s.then(function(p){return Mn(this,arguments,function*(){var h,m,S,_;try{for(var E=!0,g=Rn(p),y;y=yield Q(g.next()),h=y.done,!h;E=!0){_=y.value,E=!1;const v=_,C=rg(yield Q(v.json()));C.sdkHttpResponse={headers:v.headers};const b=new Pl;Object.assign(b,C),yield yield Q(b)}}catch(v){m={error:v}}finally{try{!E&&!h&&(S=g.return)&&(yield Q(S.call(g)))}finally{if(m)throw m.error}}})})}}async embedContent(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=cx(this.apiClient,t);return r=P("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{const p=dx(d),h=new Vm;return Object.assign(h,p),h})}else{const f=ux(this.apiClient,t);return r=P("{model}:batchEmbedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{const p=fx(d),h=new Vm;return Object.assign(h,p),h})}}async generateImagesInternal(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=Cx(this.apiClient,t);return r=P("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{const p=Mx(d),h=new Bm;return Object.assign(h,p),h})}else{const f=Tx(this.apiClient,t);return r=P("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{const p=Ax(d),h=new Bm;return Object.assign(h,p),h})}}async editImageInternal(t){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const r=lx(this.apiClient,t);return l=P("{model}:predict",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{const f=sx(c),d=new pM;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const r=CN(this.apiClient,t);return l=P("{model}:predict",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{const f=AN(c),d=new mM;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const r=oN(this.apiClient,t);return l=P("{model}:predict",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=lN(c),d=new gM;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const r=fN(this.apiClient,t);return l=P("{model}:predict",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=dN(c),d=new yM;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=Vx(this.apiClient,t);return r=P("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>cf(d))}else{const f=Ox(this.apiClient,t);return r=P("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s.then(d=>uf(d))}}async listInternal(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=Zx(this.apiClient,t);return r=P("{models_url}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{const p=jx(d),h=new Fm;return Object.assign(h,p),h})}else{const f=Qx(this.apiClient,t);return r=P("{models_url}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{const p=Wx(d),h=new Fm;return Object.assign(h,p),h})}}async update(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=EN(this.apiClient,t);return r=P("{model}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>cf(d))}else{const f=_N(this.apiClient,t);return r=P("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s.then(d=>uf(d))}}async delete(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=tx(this.apiClient,t);return r=P("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{const p=ix(d),h=new Ym;return Object.assign(h,p),h})}else{const f=ex(this.apiClient,t);return r=P("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{const p=nx(d),h=new Ym;return Object.assign(h,p),h})}}async countTokens(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=Zb(this.apiClient,t);return r=P("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{const p=jb(d),h=new Jm;return Object.assign(h,p),h})}else{const f=Qb(this.apiClient,t);return r=P("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{const p=Wb(d),h=new Jm;return Object.assign(h,p),h})}}async computeTokens(t){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const r=Bb(this.apiClient,t);return l=P("{model}:computeTokens",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{const f=Fb(c),d=new vM;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=Dx(this.apiClient,t);return r=P("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const p=Nx(d),h=new Sa;return Object.assign(h,p),h})}else{const f=wx(this.apiClient,t);return r=P("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s.then(d=>{const p=xx(d),h=new Sa;return Object.assign(h,p),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yw extends di{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,i=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let l;i&&"httpOptions"in i&&(l=i.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(t){const n=t.operation,i=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let l;i&&"httpOptions"in i&&(l=i.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=aM(t);return r=P("{operationName}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s}else{const f=rM(t);return r=P("{operationName}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s}}async fetchPredictVideosOperationInternal(t){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const r=eM(t);return l=P("{resourceName}:fetchPredictOperation",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vw(e){const t={},n=a(e,["data"]);if(n!=null&&u(t,["data"],n),a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function Sw(e){const t={},n=a(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>xw(l))),u(t,["parts"],o)}const i=a(e,["role"]);return i!=null&&u(t,["role"],i),t}function _w(e,t,n){const i={},o=a(t,["expireTime"]);n!==void 0&&o!=null&&u(n,["expireTime"],o);const l=a(t,["newSessionExpireTime"]);n!==void 0&&l!=null&&u(n,["newSessionExpireTime"],l);const s=a(t,["uses"]);n!==void 0&&s!=null&&u(n,["uses"],s);const r=a(t,["liveConnectConstraints"]);n!==void 0&&r!=null&&u(n,["bidiGenerateContentSetup"],bw(e,r));const c=a(t,["lockAdditionalFields"]);return n!==void 0&&c!=null&&u(n,["fieldMask"],c),i}function Ew(e,t){const n={},i=a(t,["config"]);return i!=null&&u(n,["config"],_w(e,i,n)),n}function Tw(e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(e,["fileUri"]);n!=null&&u(t,["fileUri"],n);const i=a(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function Cw(e){const t={},n=a(e,["id"]);n!=null&&u(t,["id"],n);const i=a(e,["args"]);i!=null&&u(t,["args"],i);const o=a(e,["name"]);if(o!=null&&u(t,["name"],o),a(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Aw(e){const t={};if(a(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=a(e,["enableWidget"]);return n!=null&&u(t,["enableWidget"],n),t}function Mw(e){const t={};if(a(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=a(e,["timeRangeFilter"]);return n!=null&&u(t,["timeRangeFilter"],n),t}function Rw(e,t){const n={},i=a(e,["generationConfig"]);t!==void 0&&i!=null&&u(t,["setup","generationConfig"],i);const o=a(e,["responseModalities"]);t!==void 0&&o!=null&&u(t,["setup","generationConfig","responseModalities"],o);const l=a(e,["temperature"]);t!==void 0&&l!=null&&u(t,["setup","generationConfig","temperature"],l);const s=a(e,["topP"]);t!==void 0&&s!=null&&u(t,["setup","generationConfig","topP"],s);const r=a(e,["topK"]);t!==void 0&&r!=null&&u(t,["setup","generationConfig","topK"],r);const c=a(e,["maxOutputTokens"]);t!==void 0&&c!=null&&u(t,["setup","generationConfig","maxOutputTokens"],c);const f=a(e,["mediaResolution"]);t!==void 0&&f!=null&&u(t,["setup","generationConfig","mediaResolution"],f);const d=a(e,["seed"]);t!==void 0&&d!=null&&u(t,["setup","generationConfig","seed"],d);const p=a(e,["speechConfig"]);t!==void 0&&p!=null&&u(t,["setup","generationConfig","speechConfig"],kd(p));const h=a(e,["thinkingConfig"]);t!==void 0&&h!=null&&u(t,["setup","generationConfig","thinkingConfig"],h);const m=a(e,["enableAffectiveDialog"]);t!==void 0&&m!=null&&u(t,["setup","generationConfig","enableAffectiveDialog"],m);const S=a(e,["systemInstruction"]);t!==void 0&&S!=null&&u(t,["setup","systemInstruction"],Sw(gt(S)));const _=a(e,["tools"]);if(t!==void 0&&_!=null){let U=Ml(_);Array.isArray(U)&&(U=U.map(A=>ww(Al(A)))),u(t,["setup","tools"],U)}const E=a(e,["sessionResumption"]);t!==void 0&&E!=null&&u(t,["setup","sessionResumption"],Nw(E));const g=a(e,["inputAudioTranscription"]);t!==void 0&&g!=null&&u(t,["setup","inputAudioTranscription"],g);const y=a(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&u(t,["setup","outputAudioTranscription"],y);const v=a(e,["realtimeInputConfig"]);t!==void 0&&v!=null&&u(t,["setup","realtimeInputConfig"],v);const C=a(e,["contextWindowCompression"]);t!==void 0&&C!=null&&u(t,["setup","contextWindowCompression"],C);const b=a(e,["proactivity"]);if(t!==void 0&&b!=null&&u(t,["setup","proactivity"],b),a(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function bw(e,t){const n={},i=a(t,["model"]);i!=null&&u(n,["setup","model"],se(e,i));const o=a(t,["config"]);return o!=null&&u(n,["config"],Rw(o,n)),n}function xw(e){const t={},n=a(e,["mediaResolution"]);n!=null&&u(t,["mediaResolution"],n);const i=a(e,["codeExecutionResult"]);i!=null&&u(t,["codeExecutionResult"],i);const o=a(e,["executableCode"]);o!=null&&u(t,["executableCode"],o);const l=a(e,["fileData"]);l!=null&&u(t,["fileData"],Tw(l));const s=a(e,["functionCall"]);s!=null&&u(t,["functionCall"],Cw(s));const r=a(e,["functionResponse"]);r!=null&&u(t,["functionResponse"],r);const c=a(e,["inlineData"]);c!=null&&u(t,["inlineData"],vw(c));const f=a(e,["text"]);f!=null&&u(t,["text"],f);const d=a(e,["thought"]);d!=null&&u(t,["thought"],d);const p=a(e,["thoughtSignature"]);p!=null&&u(t,["thoughtSignature"],p);const h=a(e,["videoMetadata"]);return h!=null&&u(t,["videoMetadata"],h),t}function Nw(e){const t={},n=a(e,["handle"]);if(n!=null&&u(t,["handle"],n),a(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function ww(e){const t={},n=a(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(p=>p)),u(t,["functionDeclarations"],d)}if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(e,["googleSearchRetrieval"]);i!=null&&u(t,["googleSearchRetrieval"],i);const o=a(e,["computerUse"]);o!=null&&u(t,["computerUse"],o);const l=a(e,["fileSearch"]);l!=null&&u(t,["fileSearch"],l);const s=a(e,["codeExecution"]);if(s!=null&&u(t,["codeExecution"],s),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=a(e,["googleMaps"]);r!=null&&u(t,["googleMaps"],Aw(r));const c=a(e,["googleSearch"]);c!=null&&u(t,["googleSearch"],Mw(c));const f=a(e,["urlContext"]);return f!=null&&u(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dw(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const i=e[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const o=Object.keys(i).map(l=>`${n}.${l}`);t.push(...o)}else t.push(n)}return t.join(",")}function Iw(e,t){let n=null;const i=e.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const l=i.setup;typeof l=="object"&&l!==null?(e.bidiGenerateContentSetup=l,n=l):delete e.bidiGenerateContentSetup}else i!==void 0&&delete e.bidiGenerateContentSetup;const o=e.fieldMask;if(n){const l=Dw(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)l?e.fieldMask=l:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let r=[];o.length>0&&(r=o.map(f=>s.includes(f)?`generationConfig.${f}`:f));const c=[];l&&c.push(l),r.length>0&&c.push(...r),c.length>0?e.fieldMask=c.join(","):delete e.fieldMask}else delete e.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?e.fieldMask=o.join(","):delete e.fieldMask;return e}class Uw extends di{constructor(t){super(),this.apiClient=t}async create(t){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const r=Ew(this.apiClient,t);l=P("auth_tokens",r._url),s=r._query,delete r.config,delete r._url,delete r._query;const c=Iw(r,t.config);return o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lw(e,t){const n={},i=a(e,["force"]);return t!==void 0&&i!=null&&u(t,["_query","force"],i),n}function kw(e){const t={},n=a(e,["name"]);n!=null&&u(t,["_url","name"],n);const i=a(e,["config"]);return i!=null&&Lw(i,t),t}function qw(e){const t={},n=a(e,["name"]);return n!=null&&u(t,["_url","name"],n),t}function Gw(e,t){const n={},i=a(e,["pageSize"]);t!==void 0&&i!=null&&u(t,["_query","pageSize"],i);const o=a(e,["pageToken"]);return t!==void 0&&o!=null&&u(t,["_query","pageToken"],o),n}function Hw(e){const t={},n=a(e,["parent"]);n!=null&&u(t,["_url","parent"],n);const i=a(e,["config"]);return i!=null&&Gw(i,t),t}function Pw(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);const i=a(e,["nextPageToken"]);i!=null&&u(t,["nextPageToken"],i);const o=a(e,["documents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>s)),u(t,["documents"],l)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zw extends di{constructor(t){super(),this.apiClient=t,this.list=async n=>new Eo(ui.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:n.parent,config:i.config}),await this.listInternal(n),n)}async get(t){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=qw(t);return l=P("{name}",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async delete(t){var n,i;let o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=kw(t);o=P("{name}",s._url),l=s._query,delete s._url,delete s._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(t){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=Hw(t);return l=P("{parent}/documents",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=Pw(c),d=new SM;return Object.assign(d,f),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ow extends di{constructor(t,n=new zw(t)){super(),this.apiClient=t,this.documents=n,this.list=async(i={})=>new Eo(ui.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(i),i)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=DN(t);return l=P("fileSearchStores",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async get(t){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=LN(t);return l=P("{name}",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async delete(t){var n,i;let o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=UN(t);o=P("{name}",s._url),l=s._query,delete s._url,delete s._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(t){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=zN(t);return l=P("fileSearchStores",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=ON(c),d=new _M;return Object.assign(d,f),d})}}async uploadToFileSearchStoreInternal(t){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=VN(t);return l=P("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=BN(c),d=new EM;return Object.assign(d,f),d})}}async importFile(t){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=GN(t);return l=P("{file_search_store_name}:importFile",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=qN(c),d=new wd;return Object.assign(d,f),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let IS=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return IS=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^n()&15>>+i/4).toString(16))};const Vw=()=>IS();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function df(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const hf=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mn extends Error{}class Rt extends mn{constructor(t,n,i,o){super(`${Rt.makeMessage(t,n,i)}`),this.status=t,this.headers=o,this.error=n}static makeMessage(t,n,i){const o=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):i;return t&&o?`${t} ${o}`:t?`${t} status code (no body)`:o||"(no status code or body)"}static generate(t,n,i,o){if(!t||!o)return new ja({message:i,cause:hf(n)});const l=n;return t===400?new LS(t,l,i,o):t===401?new kS(t,l,i,o):t===403?new qS(t,l,i,o):t===404?new GS(t,l,i,o):t===409?new HS(t,l,i,o):t===422?new PS(t,l,i,o):t===429?new zS(t,l,i,o):t>=500?new OS(t,l,i,o):new Rt(t,l,i,o)}}class pf extends Rt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class ja extends Rt{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class US extends ja{constructor({message:t}={}){super({message:t??"Request timed out."})}}class LS extends Rt{}class kS extends Rt{}class qS extends Rt{}class GS extends Rt{}class HS extends Rt{}class PS extends Rt{}class zS extends Rt{}class OS extends Rt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bw=/^[a-z][a-z0-9+.-]*:/i,Fw=e=>Bw.test(e);let mf=e=>(mf=Array.isArray,mf(e));const Yw=mf;let Jw=Yw;const pg=Jw;function Kw(e){if(!e)return!0;for(const t in e)return!1;return!0}function $w(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const Xw=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new mn(`${e} must be an integer`);if(t<0)throw new mn(`${e} must be a positive integer`);return t},Qw=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zw=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const No="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ww(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const jw=()=>{var e,t,n,i,o;const l=Ww();if(l==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":No,"X-Stainless-OS":gg(Deno.build.os),"X-Stainless-Arch":mg(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":No,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(l==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":No,"X-Stainless-OS":gg((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":mg((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(o=globalThis.process.version)!==null&&o!==void 0?o:"unknown"};const s=e2();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":No,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":No,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function e2(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const i=n.exec(navigator.userAgent);if(i){const o=i[1]||0,l=i[2]||0,s=i[3]||0;return{browser:t,version:`${o}.${l}.${s}`}}}return null}const mg=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",gg=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let hr;const t2=()=>hr??(hr=jw());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function n2(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function VS(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function i2(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return VS({start(){},async pull(n){const{done:i,value:o}=await t.next();i?n.close():n.enqueue(o)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function BS(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function o2(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const i=e.getReader(),o=i.cancel();i.releaseLock(),await o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const l2=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FS=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function ju(e,t,n){return FS(),new File(e,t??"unknown_file",n)}function s2(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const r2=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const YS=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",a2=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&YS(e),u2=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function c2(e,t,n){if(FS(),e=await e,a2(e))return e instanceof File?e:ju([await e.arrayBuffer()],e.name);if(u2(e)){const o=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),ju(await gf(o),t,n)}const i=await gf(e);if(t||(t=s2(e)),!(n!=null&&n.type)){const o=i.find(l=>typeof l=="object"&&"type"in l&&l.type);typeof o=="string"&&(n=Object.assign(Object.assign({},n),{type:o}))}return ju(i,t,n)}async function gf(e){var t,n,i,o,l;let s=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)s.push(e);else if(YS(e))s.push(e instanceof Blob?e:await e.arrayBuffer());else if(r2(e))try{for(var r=!0,c=Rn(e),f;f=await c.next(),t=f.done,!t;r=!0){o=f.value,r=!1;const d=o;s.push(...await gf(d))}}catch(d){n={error:d}}finally{try{!r&&!t&&(i=c.return)&&await i.call(c)}finally{if(n)throw n.error}}else{const d=(l=e==null?void 0:e.constructor)===null||l===void 0?void 0:l.name;throw new Error(`Unexpected data type: ${typeof e}${d?`; constructor: ${d}`:""}${f2(e)}`)}return s}function f2(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JS{constructor(t){this._client=t}}JS._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KS(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const yg=Object.freeze(Object.create(null)),d2=(e=KS)=>function(n,...i){if(n.length===1)return n[0];let o=!1;const l=[],s=n.reduce((d,p,h)=>{var m,S,_;/[?#]/.test(p)&&(o=!0);const E=i[h];let g=(o?encodeURIComponent:e)(""+E);return h!==i.length&&(E==null||typeof E=="object"&&E.toString===((_=Object.getPrototypeOf((S=Object.getPrototypeOf((m=E.hasOwnProperty)!==null&&m!==void 0?m:yg))!==null&&S!==void 0?S:yg))===null||_===void 0?void 0:_.toString))&&(g=E+"",l.push({start:d.length+p.length,length:g.length,error:`Value of type ${Object.prototype.toString.call(E).slice(8,-1)} is not a valid path parameter`})),d+p+(h===i.length?"":g)},""),r=s.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=c.exec(r))!==null;)l.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(l.sort((d,p)=>d.start-p.start),l.length>0){let d=0;const p=l.reduce((h,m)=>{const S=" ".repeat(m.start-d),_="^".repeat(m.length);return d=m.start+m.length,h+S+_},"");throw new mn(`Path parameters result in path with invalid segments:
${l.map(h=>h.error).join(`
`)}
${s}
${p}`)}return s},pr=d2(KS);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $S extends JS{create(t,n){var i;const{api_version:o=this._client.apiVersion}=t,l=Ea(t,["api_version"]);if("model"in l&&"agent_config"in l)throw new mn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in l&&"generation_config"in l)throw new mn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(pr`/${o}/interactions`,Object.assign(Object.assign({body:l},n),{stream:(i=t.stream)!==null&&i!==void 0?i:!1}))}delete(t,n={},i){const{api_version:o=this._client.apiVersion}=n??{};return this._client.delete(pr`/${o}/interactions/${t}`,i)}cancel(t,n={},i){const{api_version:o=this._client.apiVersion}=n??{};return this._client.post(pr`/${o}/interactions/${t}/cancel`,i)}get(t,n={},i){var o;const l=n??{},{api_version:s=this._client.apiVersion}=l,r=Ea(l,["api_version"]);return this._client.get(pr`/${s}/interactions/${t}`,Object.assign(Object.assign({query:r},i),{stream:(o=n==null?void 0:n.stream)!==null&&o!==void 0?o:!1}))}}$S._key=Object.freeze(["interactions"]);class XS extends $S{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function h2(e){let t=0;for(const o of e)t+=o.length;const n=new Uint8Array(t);let i=0;for(const o of e)n.set(o,i),i+=o.length;return n}let mr;function Gd(e){let t;return(mr??(t=new globalThis.TextEncoder,mr=t.encode.bind(t)))(e)}let gr;function vg(e){let t;return(gr??(t=new globalThis.TextDecoder,gr=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eu{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Gd(t):t;this.buffer=h2([this.buffer,n]);const i=[];let o;for(;(o=p2(this.buffer,this.carriageReturnIndex))!=null;){if(o.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=o.index;continue}if(this.carriageReturnIndex!=null&&(o.index!==this.carriageReturnIndex+1||o.carriage)){i.push(vg(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const l=this.carriageReturnIndex!==null?o.preceding-1:o.preceding,s=vg(this.buffer.subarray(0,l));i.push(s),this.buffer=this.buffer.subarray(o.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}}eu.NEWLINE_CHARS=new Set([`
`,"\r"]);eu.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function p2(e,t){for(let o=t??0;o<e.length;o++){if(e[o]===10)return{preceding:o,index:o+1,carriage:!1};if(e[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function m2(e){for(let i=0;i<e.length-1;i++){if(e[i]===10&&e[i+1]===10||e[i]===13&&e[i+1]===13)return i+2;if(e[i]===13&&e[i+1]===10&&i+3<e.length&&e[i+2]===13&&e[i+3]===10)return i+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ta={off:0,error:200,warn:300,info:400,debug:500},Sg=(e,t,n)=>{if(e){if($w(Ta,e))return e;At(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(Ta))}`)}};function Kl(){}function yr(e,t,n){return!t||Ta[e]>Ta[n]?Kl:t[e].bind(t)}const g2={error:Kl,warn:Kl,info:Kl,debug:Kl};let _g=new WeakMap;function At(e){var t;const n=e.logger,i=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return g2;const o=_g.get(n);if(o&&o[0]===i)return o[1];const l={error:yr("error",n,i),warn:yr("warn",n,i),info:yr("info",n,i),debug:yr("debug",n,i)};return _g.set(n,[i,l]),l}const no=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fo{constructor(t,n,i){this.iterator=t,this.controller=n,this.client=i}static fromSSEResponse(t,n,i){let o=!1;const l=i?At(i):console;function s(){return Mn(this,arguments,function*(){var c,f,d,p;if(o)throw new mn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let h=!1;try{try{for(var m=!0,S=Rn(y2(t,n)),_;_=yield Q(S.next()),c=_.done,!c;m=!0){p=_.value,m=!1;const E=p;if(!h)if(E.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield Q(JSON.parse(E.data))}catch(g){throw l.error("Could not parse message into JSON:",E.data),l.error("From chunk:",E.raw),g}}}catch(E){f={error:E}}finally{try{!m&&!c&&(d=S.return)&&(yield Q(d.call(S)))}finally{if(f)throw f.error}}h=!0}catch(E){if(df(E))return yield Q(void 0);throw E}finally{h||n.abort()}})}return new Fo(s,n,i)}static fromReadableStream(t,n,i){let o=!1;function l(){return Mn(this,arguments,function*(){var c,f,d,p;const h=new eu,m=BS(t);try{for(var S=!0,_=Rn(m),E;E=yield Q(_.next()),c=E.done,!c;S=!0){p=E.value,S=!1;const g=p;for(const y of h.decode(g))yield yield Q(y)}}catch(g){f={error:g}}finally{try{!S&&!c&&(d=_.return)&&(yield Q(d.call(_)))}finally{if(f)throw f.error}}for(const g of h.flush())yield yield Q(g)})}function s(){return Mn(this,arguments,function*(){var c,f,d,p;if(o)throw new mn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let h=!1;try{try{for(var m=!0,S=Rn(l()),_;_=yield Q(S.next()),c=_.done,!c;m=!0){p=_.value,m=!1;const E=p;h||E&&(yield yield Q(JSON.parse(E)))}}catch(E){f={error:E}}finally{try{!m&&!c&&(d=S.return)&&(yield Q(d.call(S)))}finally{if(f)throw f.error}}h=!0}catch(E){if(df(E))return yield Q(void 0);throw E}finally{h||n.abort()}})}return new Fo(s,n,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],i=this.iterator(),o=l=>({next:()=>{if(l.length===0){const s=i.next();t.push(s),n.push(s)}return l.shift()}});return[new Fo(()=>o(t),this.controller,this.client),new Fo(()=>o(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return VS({async start(){n=t[Symbol.asyncIterator]()},async pull(i){try{const{value:o,done:l}=await n.next();if(l)return i.close();const s=Gd(JSON.stringify(o)+`
`);i.enqueue(s)}catch(o){i.error(o)}},async cancel(){var i;await((i=n.return)===null||i===void 0?void 0:i.call(n))}})}}function y2(e,t){return Mn(this,arguments,function*(){var i,o,l,s;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new mn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new mn("Attempted to iterate over a response with no body");const r=new S2,c=new eu,f=BS(e.body);try{for(var d=!0,p=Rn(v2(f)),h;h=yield Q(p.next()),i=h.done,!i;d=!0){s=h.value,d=!1;const m=s;for(const S of c.decode(m)){const _=r.decode(S);_&&(yield yield Q(_))}}}catch(m){o={error:m}}finally{try{!d&&!i&&(l=p.return)&&(yield Q(l.call(p)))}finally{if(o)throw o.error}}for(const m of c.flush()){const S=r.decode(m);S&&(yield yield Q(S))}})}function v2(e){return Mn(this,arguments,function*(){var n,i,o,l;let s=new Uint8Array;try{for(var r=!0,c=Rn(e),f;f=yield Q(c.next()),n=f.done,!n;r=!0){l=f.value,r=!1;const d=l;if(d==null)continue;const p=d instanceof ArrayBuffer?new Uint8Array(d):typeof d=="string"?Gd(d):d;let h=new Uint8Array(s.length+p.length);h.set(s),h.set(p,s.length),s=h;let m;for(;(m=m2(s))!==-1;)yield yield Q(s.slice(0,m)),s=s.slice(m)}}catch(d){i={error:d}}finally{try{!r&&!n&&(o=c.return)&&(yield Q(o.call(c)))}finally{if(i)throw i.error}}s.length>0&&(yield yield Q(s))})}class S2{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const l={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],l}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,i,o]=_2(t,":");return o.startsWith(" ")&&(o=o.substring(1)),n==="event"?this.event=o:n==="data"&&this.data.push(o),null}}function _2(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function E2(e,t){const{response:n,requestLogID:i,retryOfRequestLogID:o,startTime:l}=t,s=await(async()=>{var r;if(t.options.stream)return At(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):Fo.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const c=n.headers.get("content-type"),f=(r=c==null?void 0:c.split(";")[0])===null||r===void 0?void 0:r.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?await n.json():await n.text()})();return At(e).debug(`[${i}] response parsed`,no({retryOfRequestLogID:o,url:n.url,status:n.status,body:s,durationMs:Date.now()-l})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hd extends Promise{constructor(t,n,i=E2){super(o=>{o(null)}),this.responsePromise=n,this.parseResponse=i,this.client=t}_thenUnwrap(t){return new Hd(this.client,this.responsePromise,async(n,i)=>t(await this.parseResponse(n,i),i))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QS=Symbol("brand.privateNullableHeaders");function*T2(e){if(!e)return;if(QS in e){const{values:i,nulls:o}=e;yield*i.entries();for(const l of o)yield[l,null];return}let t=!1,n;e instanceof Headers?n=e.entries():pg(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let i of n){const o=i[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");const l=pg(i[1])?i[1]:[i[1]];let s=!1;for(const r of l)r!==void 0&&(t&&!s&&(s=!0,yield[o,null]),yield[o,r])}}const zl=e=>{const t=new Headers,n=new Set;for(const i of e){const o=new Set;for(const[l,s]of T2(i)){const r=l.toLowerCase();o.has(r)||(t.delete(l),o.add(r)),s===null?(t.delete(l),n.add(r)):(t.append(l,s),n.delete(r))}}return{[QS]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ec=e=>{var t,n,i,o,l,s;if(typeof globalThis.process<"u")return(i=(n=(t=$A)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(s=(l=(o=globalThis.Deno.env)===null||o===void 0?void 0:o.get)===null||l===void 0?void 0:l.call(o,e))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ZS;class tu{constructor(t){var n,i,o,l,s,r,c,{baseURL:f=ec("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:d=(n=ec("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:p="v1beta"}=t,h=Ea(t,["baseURL","apiKey","apiVersion"]);const m=Object.assign(Object.assign({apiKey:d,apiVersion:p},h),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=m.baseURL,this.timeout=(i=m.timeout)!==null&&i!==void 0?i:tu.DEFAULT_TIMEOUT,this.logger=(o=m.logger)!==null&&o!==void 0?o:console;const S="warn";this.logLevel=S,this.logLevel=(s=(l=Sg(m.logLevel,"ClientOptions.logLevel",this))!==null&&l!==void 0?l:Sg(ec("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:S,this.fetchOptions=m.fetchOptions,this.maxRetries=(r=m.maxRetries)!==null&&r!==void 0?r:2,this.fetch=(c=m.fetch)!==null&&c!==void 0?c:n2(),this.encoder=l2,this._options=m,this.apiKey=d,this.apiVersion=p,this.clientAdapter=m.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=zl([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return zl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return zl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,i])=>typeof i<"u").map(([n,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(n)}=`;throw new mn(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${No}`}defaultIdempotencyKey(){return`stainless-node-retry-${Vw()}`}makeStatusError(t,n,i,o){return Rt.generate(t,n,i,o)}buildURL(t,n,i){const o=!this.baseURLOverridden()&&i||this.baseURL,l=Fw(t)?new URL(t):new URL(o+(o.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),s=this.defaultQuery();return Kw(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(l.search=this.stringifyQuery(n)),l.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:i}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,i){return this.request(Promise.resolve(i).then(o=>Object.assign({method:t,path:n},o)))}request(t,n=null){return new Hd(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,i){var o,l,s;const r=await t,c=(o=r.maxRetries)!==null&&o!==void 0?o:this.maxRetries;n==null&&(n=c),await this.prepareOptions(r);const{req:f,url:d,timeout:p}=await this.buildRequest(r,{retryCount:c-n});await this.prepareRequest(f,{url:d,options:r});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),m=i===void 0?"":`, retryOf: ${i}`,S=Date.now();if(At(this).debug(`[${h}] sending request`,no({retryOfRequestLogID:i,method:r.method,url:d,options:r,headers:f.headers})),!((l=r.signal)===null||l===void 0)&&l.aborted)throw new pf;const _=new AbortController,E=await this.fetchWithTimeout(d,f,p,_).catch(hf),g=Date.now();if(E instanceof globalThis.Error){const v=`retrying, ${n} attempts remaining`;if(!((s=r.signal)===null||s===void 0)&&s.aborted)throw new pf;const C=df(E)||/timed? ?out/i.test(String(E)+("cause"in E?String(E.cause):""));if(n)return At(this).info(`[${h}] connection ${C?"timed out":"failed"} - ${v}`),At(this).debug(`[${h}] connection ${C?"timed out":"failed"} (${v})`,no({retryOfRequestLogID:i,url:d,durationMs:g-S,message:E.message})),this.retryRequest(r,n,i??h);throw At(this).info(`[${h}] connection ${C?"timed out":"failed"} - error; no more retries left`),At(this).debug(`[${h}] connection ${C?"timed out":"failed"} (error; no more retries left)`,no({retryOfRequestLogID:i,url:d,durationMs:g-S,message:E.message})),C?new US:new ja({cause:E})}const y=`[${h}${m}] ${f.method} ${d} ${E.ok?"succeeded":"failed"} with status ${E.status} in ${g-S}ms`;if(!E.ok){const v=await this.shouldRetry(E);if(n&&v){const w=`retrying, ${n} attempts remaining`;return await o2(E.body),At(this).info(`${y} - ${w}`),At(this).debug(`[${h}] response error (${w})`,no({retryOfRequestLogID:i,url:E.url,status:E.status,headers:E.headers,durationMs:g-S})),this.retryRequest(r,n,i??h,E.headers)}const C=v?"error; no more retries left":"error; not retryable";At(this).info(`${y} - ${C}`);const b=await E.text().catch(w=>hf(w).message),U=Qw(b),A=U?void 0:b;throw At(this).debug(`[${h}] response error (${C})`,no({retryOfRequestLogID:i,url:E.url,status:E.status,headers:E.headers,message:A,durationMs:Date.now()-S})),this.makeStatusError(E.status,U,A,E.headers)}return At(this).info(y),At(this).debug(`[${h}] response start`,no({retryOfRequestLogID:i,url:E.url,status:E.status,headers:E.headers,durationMs:g-S})),{response:E,options:r,controller:_,requestLogID:h,retryOfRequestLogID:i,startTime:S}}async fetchWithTimeout(t,n,i,o){const l=n||{},{signal:s,method:r}=l,c=Ea(l,["signal","method"]);s&&s.addEventListener("abort",()=>o.abort());const f=setTimeout(()=>o.abort(),i),d=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,p=Object.assign(Object.assign(Object.assign({signal:o.signal},d?{duplex:"half"}:{}),{method:"GET"}),c);r&&(p.method=r.toUpperCase());try{return await this.fetch.call(void 0,t,p)}finally{clearTimeout(f)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,i,o){var l;let s;const r=o==null?void 0:o.get("retry-after-ms");if(r){const f=parseFloat(r);Number.isNaN(f)||(s=f)}const c=o==null?void 0:o.get("retry-after");if(c&&!s){const f=parseFloat(c);Number.isNaN(f)?s=Date.parse(c)-Date.now():s=f*1e3}if(!(s&&0<=s&&s<60*1e3)){const f=(l=t.maxRetries)!==null&&l!==void 0?l:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,f)}return await Zw(s),this.makeRequest(t,n-1,i)}calculateDefaultRetryTimeoutMillis(t,n){const l=n-t,s=Math.min(.5*Math.pow(2,l),8),r=1-Math.random()*.25;return s*r*1e3}async buildRequest(t,{retryCount:n=0}={}){var i,o,l;const s=Object.assign({},t),{method:r,path:c,query:f,defaultBaseURL:d}=s,p=this.buildURL(c,f,d);"timeout"in s&&Xw("timeout",s.timeout),s.timeout=(i=s.timeout)!==null&&i!==void 0?i:this.timeout;const{bodyHeaders:h,body:m}=this.buildBody({options:s}),S=await this.buildHeaders({options:t,method:r,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:r,headers:S},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&m instanceof globalThis.ReadableStream&&{duplex:"half"}),m&&{body:m}),(o=this.fetchOptions)!==null&&o!==void 0?o:{}),(l=s.fetchOptions)!==null&&l!==void 0?l:{}),url:p,timeout:s.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:i,retryCount:o}){let l={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=t.idempotencyKey);const s=await this.authHeaders(t);let r=zl([l,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),t2()),this._options.defaultHeaders,i,t.headers,s]);return this.validateHeaders(r),r.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const i=zl([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&i.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:i2(t)}:this.encoder({body:t,headers:i})}}tu.DEFAULT_TIMEOUT=6e4;class nt extends tu{constructor(){super(...arguments),this.interactions=new XS(this)}}ZS=nt;nt.GeminiNextGenAPIClient=ZS;nt.GeminiNextGenAPIClientError=mn;nt.APIError=Rt;nt.APIConnectionError=ja;nt.APIConnectionTimeoutError=US;nt.APIUserAbortError=pf;nt.NotFoundError=GS;nt.ConflictError=HS;nt.RateLimitError=zS;nt.BadRequestError=LS;nt.AuthenticationError=kS;nt.InternalServerError=OS;nt.PermissionDeniedError=qS;nt.UnprocessableEntityError=PS;nt.toFile=c2;nt.Interactions=XS;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function C2(e,t){const n={},i=a(e,["name"]);return i!=null&&u(n,["_url","name"],i),n}function A2(e,t){const n={},i=a(e,["name"]);return i!=null&&u(n,["_url","name"],i),n}function M2(e,t){const n={},i=a(e,["sdkHttpResponse"]);return i!=null&&u(n,["sdkHttpResponse"],i),n}function R2(e,t){const n={},i=a(e,["sdkHttpResponse"]);return i!=null&&u(n,["sdkHttpResponse"],i),n}function b2(e,t,n){const i={};if(a(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=a(e,["tunedModelDisplayName"]);if(t!==void 0&&o!=null&&u(t,["displayName"],o),a(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=a(e,["epochCount"]);t!==void 0&&l!=null&&u(t,["tuningTask","hyperparameters","epochCount"],l);const s=a(e,["learningRateMultiplier"]);if(s!=null&&u(i,["tuningTask","hyperparameters","learningRateMultiplier"],s),a(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(a(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(a(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const r=a(e,["batchSize"]);t!==void 0&&r!=null&&u(t,["tuningTask","hyperparameters","batchSize"],r);const c=a(e,["learningRate"]);if(t!==void 0&&c!=null&&u(t,["tuningTask","hyperparameters","learningRate"],c),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(a(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function x2(e,t,n){const i={};let o=a(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const m=a(e,["validationDataset"]);t!==void 0&&m!=null&&u(t,["supervisedTuningSpec"],Eg(m))}else if(o==="PREFERENCE_TUNING"){const m=a(e,["validationDataset"]);t!==void 0&&m!=null&&u(t,["preferenceOptimizationSpec"],Eg(m))}const l=a(e,["tunedModelDisplayName"]);t!==void 0&&l!=null&&u(t,["tunedModelDisplayName"],l);const s=a(e,["description"]);t!==void 0&&s!=null&&u(t,["description"],s);let r=a(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const m=a(e,["epochCount"]);t!==void 0&&m!=null&&u(t,["supervisedTuningSpec","hyperParameters","epochCount"],m)}else if(r==="PREFERENCE_TUNING"){const m=a(e,["epochCount"]);t!==void 0&&m!=null&&u(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],m)}let c=a(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const m=a(e,["learningRateMultiplier"]);t!==void 0&&m!=null&&u(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],m)}else if(c==="PREFERENCE_TUNING"){const m=a(e,["learningRateMultiplier"]);t!==void 0&&m!=null&&u(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],m)}let f=a(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const m=a(e,["exportLastCheckpointOnly"]);t!==void 0&&m!=null&&u(t,["supervisedTuningSpec","exportLastCheckpointOnly"],m)}else if(f==="PREFERENCE_TUNING"){const m=a(e,["exportLastCheckpointOnly"]);t!==void 0&&m!=null&&u(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],m)}let d=a(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const m=a(e,["adapterSize"]);t!==void 0&&m!=null&&u(t,["supervisedTuningSpec","hyperParameters","adapterSize"],m)}else if(d==="PREFERENCE_TUNING"){const m=a(e,["adapterSize"]);t!==void 0&&m!=null&&u(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],m)}if(a(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(a(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=a(e,["labels"]);t!==void 0&&p!=null&&u(t,["labels"],p);const h=a(e,["beta"]);return t!==void 0&&h!=null&&u(t,["preferenceOptimizationSpec","hyperParameters","beta"],h),i}function N2(e,t){const n={},i=a(e,["baseModel"]);i!=null&&u(n,["baseModel"],i);const o=a(e,["preTunedModel"]);o!=null&&u(n,["preTunedModel"],o);const l=a(e,["trainingDataset"]);l!=null&&z2(l);const s=a(e,["config"]);return s!=null&&b2(s,n),n}function w2(e,t){const n={},i=a(e,["baseModel"]);i!=null&&u(n,["baseModel"],i);const o=a(e,["preTunedModel"]);o!=null&&u(n,["preTunedModel"],o);const l=a(e,["trainingDataset"]);l!=null&&O2(l,n,t);const s=a(e,["config"]);return s!=null&&x2(s,n,t),n}function D2(e,t){const n={},i=a(e,["name"]);return i!=null&&u(n,["_url","name"],i),n}function I2(e,t){const n={},i=a(e,["name"]);return i!=null&&u(n,["_url","name"],i),n}function U2(e,t,n){const i={},o=a(e,["pageSize"]);t!==void 0&&o!=null&&u(t,["_query","pageSize"],o);const l=a(e,["pageToken"]);t!==void 0&&l!=null&&u(t,["_query","pageToken"],l);const s=a(e,["filter"]);return t!==void 0&&s!=null&&u(t,["_query","filter"],s),i}function L2(e,t,n){const i={},o=a(e,["pageSize"]);t!==void 0&&o!=null&&u(t,["_query","pageSize"],o);const l=a(e,["pageToken"]);t!==void 0&&l!=null&&u(t,["_query","pageToken"],l);const s=a(e,["filter"]);return t!==void 0&&s!=null&&u(t,["_query","filter"],s),i}function k2(e,t){const n={},i=a(e,["config"]);return i!=null&&U2(i,n),n}function q2(e,t){const n={},i=a(e,["config"]);return i!=null&&L2(i,n),n}function G2(e,t){const n={},i=a(e,["sdkHttpResponse"]);i!=null&&u(n,["sdkHttpResponse"],i);const o=a(e,["nextPageToken"]);o!=null&&u(n,["nextPageToken"],o);const l=a(e,["tunedModels"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(r=>WS(r))),u(n,["tuningJobs"],s)}return n}function H2(e,t){const n={},i=a(e,["sdkHttpResponse"]);i!=null&&u(n,["sdkHttpResponse"],i);const o=a(e,["nextPageToken"]);o!=null&&u(n,["nextPageToken"],o);const l=a(e,["tuningJobs"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(r=>yf(r))),u(n,["tuningJobs"],s)}return n}function P2(e,t){const n={},i=a(e,["name"]);i!=null&&u(n,["model"],i);const o=a(e,["name"]);return o!=null&&u(n,["endpoint"],o),n}function z2(e,t){const n={};if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=a(e,["examples"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),u(n,["examples","examples"],o)}return n}function O2(e,t,n){const i={};let o=a(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const s=a(e,["gcsUri"]);t!==void 0&&s!=null&&u(t,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(o==="PREFERENCE_TUNING"){const s=a(e,["gcsUri"]);t!==void 0&&s!=null&&u(t,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let l=a(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const s=a(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&u(t,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(l==="PREFERENCE_TUNING"){const s=a(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&u(t,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(a(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function WS(e,t){const n={},i=a(e,["sdkHttpResponse"]);i!=null&&u(n,["sdkHttpResponse"],i);const o=a(e,["name"]);o!=null&&u(n,["name"],o);const l=a(e,["state"]);l!=null&&u(n,["state"],pS(l));const s=a(e,["createTime"]);s!=null&&u(n,["createTime"],s);const r=a(e,["tuningTask","startTime"]);r!=null&&u(n,["startTime"],r);const c=a(e,["tuningTask","completeTime"]);c!=null&&u(n,["endTime"],c);const f=a(e,["updateTime"]);f!=null&&u(n,["updateTime"],f);const d=a(e,["description"]);d!=null&&u(n,["description"],d);const p=a(e,["baseModel"]);p!=null&&u(n,["baseModel"],p);const h=a(e,["_self"]);return h!=null&&u(n,["tunedModel"],P2(h)),n}function yf(e,t){const n={},i=a(e,["sdkHttpResponse"]);i!=null&&u(n,["sdkHttpResponse"],i);const o=a(e,["name"]);o!=null&&u(n,["name"],o);const l=a(e,["state"]);l!=null&&u(n,["state"],pS(l));const s=a(e,["createTime"]);s!=null&&u(n,["createTime"],s);const r=a(e,["startTime"]);r!=null&&u(n,["startTime"],r);const c=a(e,["endTime"]);c!=null&&u(n,["endTime"],c);const f=a(e,["updateTime"]);f!=null&&u(n,["updateTime"],f);const d=a(e,["error"]);d!=null&&u(n,["error"],d);const p=a(e,["description"]);p!=null&&u(n,["description"],p);const h=a(e,["baseModel"]);h!=null&&u(n,["baseModel"],h);const m=a(e,["tunedModel"]);m!=null&&u(n,["tunedModel"],m);const S=a(e,["preTunedModel"]);S!=null&&u(n,["preTunedModel"],S);const _=a(e,["supervisedTuningSpec"]);_!=null&&u(n,["supervisedTuningSpec"],_);const E=a(e,["preferenceOptimizationSpec"]);E!=null&&u(n,["preferenceOptimizationSpec"],E);const g=a(e,["tuningDataStats"]);g!=null&&u(n,["tuningDataStats"],g);const y=a(e,["encryptionSpec"]);y!=null&&u(n,["encryptionSpec"],y);const v=a(e,["partnerModelTuningSpec"]);v!=null&&u(n,["partnerModelTuningSpec"],v);const C=a(e,["customBaseModel"]);C!=null&&u(n,["customBaseModel"],C);const b=a(e,["experiment"]);b!=null&&u(n,["experiment"],b);const U=a(e,["labels"]);U!=null&&u(n,["labels"],U);const A=a(e,["outputUri"]);A!=null&&u(n,["outputUri"],A);const x=a(e,["pipelineJob"]);x!=null&&u(n,["pipelineJob"],x);const w=a(e,["serviceAccount"]);w!=null&&u(n,["serviceAccount"],w);const k=a(e,["tunedModelDisplayName"]);k!=null&&u(n,["tunedModelDisplayName"],k);const H=a(e,["veoTuningSpec"]);return H!=null&&u(n,["veoTuningSpec"],H),n}function V2(e,t){const n={},i=a(e,["sdkHttpResponse"]);i!=null&&u(n,["sdkHttpResponse"],i);const o=a(e,["name"]);o!=null&&u(n,["name"],o);const l=a(e,["metadata"]);l!=null&&u(n,["metadata"],l);const s=a(e,["done"]);s!=null&&u(n,["done"],s);const r=a(e,["error"]);return r!=null&&u(n,["error"],r),n}function Eg(e,t){const n={},i=a(e,["gcsUri"]);i!=null&&u(n,["validationDatasetUri"],i);const o=a(e,["vertexDatasetResource"]);return o!=null&&u(n,["validationDatasetUri"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class B2 extends di{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Eo(ui.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const o={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(o.checkpointId=n.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},n),{preTunedModel:o});return l.baseModel=void 0,await this.tuneInternal(l)}else{const o=Object.assign({},n);return await this.tuneInternal(o)}else{const o=Object.assign({},n),l=await this.tuneMldevInternal(o);let s="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?s=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(s=l.name.split("/operations/")[0]),{name:s,state:lf.JOB_STATE_QUEUED}}}}async getInternal(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=I2(t);return r=P("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>yf(d))}else{const f=D2(t);return r=P("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>WS(d))}}async listInternal(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=q2(t);return r=P("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{const p=H2(d),h=new Km;return Object.assign(h,p),h})}else{const f=k2(t);return r=P("tunedModels",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{const p=G2(d),h=new Km;return Object.assign(h,p),h})}}async cancel(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){const f=A2(t);return r=P("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{const p=R2(d),h=new $m;return Object.assign(h,p),h})}else{const f=C2(t);return r=P("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{const p=M2(d),h=new $m;return Object.assign(h,p),h})}}async tuneInternal(t){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const r=w2(t,t);return l=P("tuningJobs",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>yf(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=N2(t);return l=P("tunedModels",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>V2(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class F2{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Y2=1024*1024*8,J2=3,K2=1e3,$2=2,Ca="x-goog-upload-status";async function X2(e,t,n){var i;const o=await jS(e,t,n),l=await(o==null?void 0:o.json());if(((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[Ca])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}async function Q2(e,t,n){var i;const o=await jS(e,t,n),l=await(o==null?void 0:o.json());if(((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[Ca])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=aS(l),r=new Dd;return Object.assign(r,s),r}async function jS(e,t,n){var i,o;let l=0,s=0,r=new sf(new Response),c="upload";for(l=e.size;s<l;){const f=Math.min(Y2,l-s),d=e.slice(s,s+f);s+f>=l&&(c+=", finalize");let p=0,h=K2;for(;p<J2&&(r=await n.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(s),"Content-Length":String(f)}}}),!(!((i=r==null?void 0:r.headers)===null||i===void 0)&&i[Ca]));)p++,await W2(h),h=h*$2;if(s+=f,((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[Ca])!=="active")break;if(l<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return r}async function Z2(e){return{size:e.size,type:e.type}}function W2(e){return new Promise(t=>setTimeout(t,e))}class j2{async upload(t,n,i){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await X2(t,n,i)}async uploadToFileSearchStore(t,n,i){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Q2(t,n,i)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Z2(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eD{create(t,n,i){return new tD(t,n,i)}}class tD{constructor(t,n,i){this.url=t,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Tg="x-goog-api-key";class nD{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(Tg)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Tg,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iD="gl-node/";class oD{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new nt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=n.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const i=WA(t.httpOptions,t.vertexai,void 0,void 0);i&&(t.httpOptions?t.httpOptions.baseUrl=i:t.httpOptions={baseUrl:i}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const o=new nD(this.apiKey);this.apiClient=new ZN({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:iD+"web",uploader:new j2,downloader:new F2}),this.models=new gw(this.apiClient),this.live=new cw(this.apiClient,o,new eD),this.batches=new bR(this.apiClient),this.chats=new ab(this.models,this.apiClient),this.caches=new lb(this.apiClient),this.files=new vb(this.apiClient),this.operations=new yw(this.apiClient),this.authTokens=new Uw(this.apiClient),this.tunings=new B2(this.apiClient),this.fileSearchStores=new Ow(this.apiClient)}}const lD=new oD({apiKey:""});async function sD(e,t,n){try{const o=(await lD.models.generateContent({model:"gemini-3-pro-preview",contents:`Current Chess Position (FEN): ${e}
Last move played: ${t||"None"}
It is ${n==="w"?"White":"Black"}'s turn.`,config:{systemInstruction:"You are a friendly and encouraging chess coach for a young child learning the game. Analyze the position and provide helpful advice, explanation, a suggested next move, and a fun fact.",responseMimeType:"application/json",responseSchema:{type:Yt.OBJECT,properties:{explanation:{type:Yt.STRING,description:"A friendly explanation of the current situation and why the last move was made."},suggestedMove:{type:Yt.STRING,description:"The best next move in algebraic notation (e.g., 'e4', 'Nf3')."},evaluation:{type:Yt.STRING,description:"How the current position looks for the player who just moved. Valid values: 'good', 'neutral', 'bad', 'mistake'."},funFact:{type:Yt.STRING,description:"A fun fact about one of the pieces currently on the board or general chess history."}},required:["explanation","evaluation"],propertyOrdering:["explanation","suggestedMove","evaluation","funFact"]}}})).text||"{}";return JSON.parse(o.trim())}catch(i){return console.error("Gemini Coach Error:",i),{explanation:"I'm thinking hard about the board! Keep playing while I analyze.",evaluation:"neutral"}}}const rD=xA,aD=()=>{const[e,t]=R.useState(new fr),[n,i]=R.useState(null),[o,l]=R.useState(!1),[s,r]=R.useState([]),[c,f]=R.useState({w:[],b:[]}),[d,p]=R.useState(null),[h,m]=R.useState({}),S=R.useCallback(A=>{r(A.history());const x=A.board().flat().filter(O=>O!==null),w=O=>{const j={p:0,r:0,n:0,b:0,q:0,k:0};return x.forEach(me=>{me&&me.color===O&&j[me.type]++}),j},k=w("w"),H=w("b"),$=O=>{const j=[],me={p:8,r:2,n:2,b:2,q:1,k:1};return Object.keys(me).forEach(q=>{const z=me[q]-O[q];for(let Y=0;Y<z;Y++)j.push(q)}),j};f({w:$(k),b:$(H)})},[]),_=async(A,x,w)=>{l(!0);const k=await sD(A,x,w);i(k),l(!1)},E=R.useCallback(A=>{try{const x=new fr(e.fen()),w=x.move(A);if(w)return t(x),S(x),_(x.fen(),w.san,x.turn()),p(null),m({}),!0}catch(x){console.warn("Invalid move attempted",x)}return!1},[e,S]),g=(A,x)=>E({from:A,to:x,promotion:"q"}),y=R.useCallback(A=>{const x=e.moves({square:A,verbose:!0});if(x.length===0)return m({}),!1;const w={};return x.forEach(k=>{var H,$;w[k.to]={background:e.get(k.to)&&((H=e.get(k.to))==null?void 0:H.color)!==(($=e.get(A))==null?void 0:$.color)?"radial-gradient(circle, rgba(0,0,0,.1) 85%, transparent 85%)":"radial-gradient(circle, rgba(0,0,0,.1) 20%, transparent 20%)",borderRadius:"50%"}}),w[A]={background:"rgba(255, 255, 0, 0.4)"},m(w),!0},[e]),v=A=>{if(!d){y(A)&&p(A);return}E({from:d,to:A,promotion:"q"})||(y(A)?p(A):(p(null),m({})))},C=()=>{const A=new fr;t(A),i(null),r([]),f({w:[],b:[]}),p(null),m({})},b=()=>{const A=new fr(e.fen());A.undo(),t(A),S(A),i(null),p(null),m({})},U={p:"",n:"",b:"",r:"",q:"",k:""};return T.jsxs("div",{className:"min-h-screen flex flex-col items-center bg-blue-50 p-4 md:p-8",children:[T.jsxs("header",{className:"w-full max-w-6xl flex justify-between items-center mb-6",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"p-3 bg-blue-600 rounded-2xl shadow-lg",children:T.jsx(Wu,{className:"text-white w-8 h-8"})}),T.jsxs("div",{children:[T.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Chess Academy"}),T.jsx("p",{className:"text-blue-600 text-sm font-medium",children:"Your learning journey begins here!"})]})]}),T.jsxs("div",{className:"flex gap-2",children:[T.jsxs("button",{onClick:C,className:"flex items-center gap-2 px-4 py-2 bg-white text-gray-700 rounded-xl border border-gray-200 hover:bg-gray-50 transition-colors shadow-sm",children:[T.jsx(BA,{className:"w-4 h-4"}),T.jsx("span",{className:"hidden sm:inline",children:"New Game"})]}),T.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-4 py-2 bg-white text-gray-700 rounded-xl border border-gray-200 hover:bg-gray-50 transition-colors shadow-sm",children:[T.jsx(qA,{className:"w-4 h-4"}),T.jsx("span",{className:"hidden sm:inline",children:"Undo"})]})]})]}),T.jsxs("main",{className:"w-full max-w-6xl grid grid-cols-1 lg:grid-cols-12 gap-8",children:[T.jsxs("div",{className:"lg:col-span-7 flex flex-col gap-4",children:[T.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-xl border border-blue-100 flex flex-col items-center",children:[T.jsxs("div",{className:"w-full flex justify-between items-center mb-4 px-2",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:T.jsx(Bp,{className:"text-gray-500 w-6 h-6"})}),T.jsxs("div",{children:[T.jsx("span",{className:"font-bold text-gray-700",children:"Opponent (Black)"}),T.jsx("div",{className:"flex gap-1 text-lg leading-none mt-1",children:c.w.map((A,x)=>T.jsx("span",{className:"text-gray-400 opacity-60 text-2xl",children:U[A]},x))})]})]}),T.jsx("div",{className:`px-4 py-1 rounded-full text-sm font-bold ${e.turn()==="b"?"bg-black text-white animate-pulse":"bg-gray-100 text-gray-400"}`,children:"Black's Turn"})]}),T.jsx("div",{className:"w-full aspect-square max-w-[500px] shadow-2xl rounded-lg overflow-hidden border-4 border-blue-600",children:T.jsx(rD,{id:"main-chessboard",position:e.fen(),onPieceDrop:g,onSquareClick:v,customSquareStyles:h,customDarkSquareStyle:{backgroundColor:"#3b82f6"},customLightSquareStyle:{backgroundColor:"#f3f4f6"},animationDuration:200,boardOrientation:"white"})}),T.jsxs("div",{className:"w-full flex justify-between items-center mt-4 px-2",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center border-2 border-blue-400",children:T.jsx(Bp,{className:"text-blue-600 w-6 h-6"})}),T.jsxs("div",{children:[T.jsx("span",{className:"font-bold text-gray-700",children:"You (White)"}),T.jsx("div",{className:"flex gap-1 text-lg leading-none mt-1",children:c.b.map((A,x)=>T.jsx("span",{className:"text-blue-600 opacity-80 text-2xl",children:U[A]},x))})]})]}),T.jsx("div",{className:`px-4 py-1 rounded-full text-sm font-bold ${e.turn()==="w"?"bg-blue-600 text-white shadow-lg":"bg-gray-100 text-gray-400"}`,children:e.turn()==="w"?"Your Turn!":"Waiting..."})]})]}),(e.isCheckmate()||e.isDraw())&&T.jsxs("div",{className:"bg-yellow-400 p-4 rounded-2xl flex items-center gap-4 animate-bounce shadow-lg",children:[T.jsx(Wu,{className:"text-yellow-900 w-8 h-8"}),T.jsxs("div",{children:[T.jsx("h3",{className:"font-bold text-yellow-900 text-lg",children:e.isCheckmate()?e.turn()==="w"?"Black Wins!":"White Wins!":"It's a Draw!"}),T.jsx("p",{className:"text-yellow-800 text-sm",children:"Amazing game! Ready for another round?"})]})]})]}),T.jsxs("div",{className:"lg:col-span-5 flex flex-col gap-6",children:[T.jsxs("section",{className:"bg-white rounded-3xl shadow-xl overflow-hidden flex flex-col border border-blue-100 flex-grow min-h-[400px]",children:[T.jsxs("div",{className:"bg-blue-600 p-4 flex items-center gap-3",children:[T.jsx("div",{className:"bg-white p-2 rounded-xl",children:T.jsx(Op,{className:"text-blue-600 w-6 h-6"})}),T.jsx("h2",{className:"text-white font-bold text-lg",children:"AI Chess Coach"}),o&&T.jsxs("div",{className:"ml-auto flex gap-1",children:[T.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-bounce delay-75"}),T.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-bounce delay-150"}),T.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-bounce delay-300"})]})]}),T.jsx("div",{className:"p-6 flex flex-col gap-6 scroll-hide overflow-y-auto max-h-[600px]",children:n?T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"bg-blue-50 p-4 rounded-2xl border-l-4 border-blue-400",children:T.jsxs("p",{className:"text-gray-700 leading-relaxed italic",children:['"',n.explanation,'"']})}),n.suggestedMove&&T.jsxs("div",{className:"flex items-center gap-4 bg-green-50 p-4 rounded-2xl border border-green-200",children:[T.jsx("div",{className:"bg-green-500 p-2 rounded-lg",children:T.jsx(KA,{className:"text-white w-5 h-5"})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-green-800 text-xs font-bold uppercase tracking-wider",children:"Coach Suggestion"}),T.jsxs("p",{className:"text-green-900 font-bold text-lg",children:["Try moving ",n.suggestedMove,"!"]})]})]}),n.funFact&&T.jsxs("div",{className:"flex items-start gap-4 bg-yellow-50 p-4 rounded-2xl",children:[T.jsx("div",{className:"bg-yellow-400 p-2 rounded-lg mt-1",children:T.jsx(Vp,{className:"text-yellow-900 w-5 h-5"})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-yellow-900 text-xs font-bold uppercase tracking-wider",children:"Did you know?"}),T.jsx("p",{className:"text-yellow-800 text-sm",children:n.funFact})]})]}),T.jsxs("div",{className:"flex gap-2 items-center text-xs font-bold text-gray-400 uppercase tracking-widest mt-auto pt-4 border-t border-gray-100",children:[T.jsx(OA,{className:"w-4 h-4"}),"Coach is observing..."]})]}):T.jsxs("div",{className:"flex flex-col items-center justify-center text-center py-12 gap-4",children:[T.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center animate-pulse",children:T.jsx(Op,{className:"text-blue-400 w-10 h-10"})}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-gray-400 font-bold text-lg",children:"Make a move!"}),T.jsx("p",{className:"text-gray-400 text-sm",children:"I'll give you tips as you play."})]})]})})]}),T.jsxs("section",{className:"bg-white rounded-3xl shadow-xl p-6 border border-gray-100",children:[T.jsxs("div",{className:"flex items-center justify-between mb-4",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(HA,{className:"text-gray-500 w-5 h-5"}),T.jsx("h3",{className:"font-bold text-gray-700",children:"Move History"})]}),T.jsxs("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded text-gray-500 font-bold",children:[Math.ceil(s.length/2)," Rounds"]})]}),T.jsx("div",{className:"flex flex-wrap gap-2 max-h-32 overflow-y-auto scroll-hide",children:s.length>0?s.map((A,x)=>T.jsxs("span",{className:`px-3 py-1 rounded-lg text-sm font-medium border ${x%2===0?"bg-blue-50 border-blue-100 text-blue-700":"bg-gray-50 border-gray-100 text-gray-600"}`,children:[Math.floor(x/2)+1,". ",A]},x)):T.jsx("p",{className:"text-gray-400 text-sm italic",children:"No moves yet. Good luck!"})})]}),T.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 p-6 rounded-3xl text-white shadow-lg relative overflow-hidden",children:[T.jsxs("div",{className:"relative z-10",children:[T.jsxs("h4",{className:"font-bold text-lg mb-1 flex items-center gap-2",children:[T.jsx(Vp,{className:"w-5 h-5"})," Quick Rule"]}),T.jsx("p",{className:"text-blue-100 text-sm",children:"Control the center of the board (the four middle squares) to make your pieces stronger!"})]}),T.jsx("div",{className:"absolute -right-4 -bottom-4 opacity-10",children:T.jsx(Wu,{className:"w-32 h-32"})})]})]})]}),T.jsx("footer",{className:"mt-12 text-gray-400 text-sm pb-8 text-center",children:T.jsx("p",{children:"Built with  for young grandmasters"})})]})},e_=document.getElementById("root");if(!e_)throw new Error("Could not find root element to mount to");const uD=cC.createRoot(e_);uD.render(T.jsx(Ue.StrictMode,{children:T.jsx(aD,{})}));
