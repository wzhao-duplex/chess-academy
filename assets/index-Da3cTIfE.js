var L_=Object.defineProperty;var k_=(n,e,o)=>e in n?L_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[e]=o;var st=(n,e,o)=>k_(n,typeof e!="symbol"?e+"":e,o);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const u of r)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function o(r){const u={};return r.integrity&&(u.integrity=r.integrity),r.referrerPolicy&&(u.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?u.credentials="include":r.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(r){if(r.ep)return;r.ep=!0;const u=o(r);fetch(r.href,u)}})();function Z0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Kc={exports:{}},Ts={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pm;function q_(){if(Pm)return Ts;Pm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function o(l,r,u){var f=null;if(u!==void 0&&(f=""+u),r.key!==void 0&&(f=""+r.key),"key"in r){u={};for(var p in r)p!=="key"&&(u[p]=r[p])}else u=r;return r=u.ref,{$$typeof:n,type:l,key:f,ref:r!==void 0?r:null,props:u}}return Ts.Fragment=e,Ts.jsx=o,Ts.jsxs=o,Ts}var zm;function G_(){return zm||(zm=1,Kc.exports=q_()),Kc.exports}var M=G_(),$c={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Om;function H_(){if(Om)return Ae;Om=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),_=Symbol.iterator;function C(N){return N===null||typeof N!="object"?null:(N=_&&N[_]||N["@@iterator"],typeof N=="function"?N:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,b={};function D(N,Y,ie){this.props=N,this.context=Y,this.refs=b,this.updater=ie||A}D.prototype.isReactComponent={},D.prototype.setState=function(N,Y){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Y,"setState")},D.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function B(){}B.prototype=D.prototype;function U(N,Y,ie){this.props=N,this.context=Y,this.refs=b,this.updater=ie||A}var X=U.prototype=new B;X.constructor=U,x(X,D.prototype),X.isPureReactComponent=!0;var Z=Array.isArray;function W(){}var J={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function ee(N,Y,ie){var le=ie.ref;return{$$typeof:n,type:N,key:Y,ref:le!==void 0?le:null,props:ie}}function oe(N,Y){return ee(N.type,Y,N.props)}function re(N){return typeof N=="object"&&N!==null&&N.$$typeof===n}function ve(N){var Y={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ie){return Y[ie]})}var he=/\/+/g;function Re(N,Y){return typeof N=="object"&&N!==null&&N.key!=null?ve(""+N.key):Y.toString(36)}function Fe(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(W,W):(N.status="pending",N.then(function(Y){N.status==="pending"&&(N.status="fulfilled",N.value=Y)},function(Y){N.status==="pending"&&(N.status="rejected",N.reason=Y)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function z(N,Y,ie,le,ae){var ye=typeof N;(ye==="undefined"||ye==="boolean")&&(N=null);var Ne=!1;if(N===null)Ne=!0;else switch(ye){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(N.$$typeof){case n:case e:Ne=!0;break;case v:return Ne=N._init,z(Ne(N._payload),Y,ie,le,ae)}}if(Ne)return ae=ae(N),Ne=le===""?"."+Re(N,0):le,Z(ae)?(ie="",Ne!=null&&(ie=Ne.replace(he,"$&/")+"/"),z(ae,Y,ie,"",function(Ze){return Ze})):ae!=null&&(re(ae)&&(ae=oe(ae,ie+(ae.key==null||N&&N.key===ae.key?"":(""+ae.key).replace(he,"$&/")+"/")+Ne)),Y.push(ae)),1;Ne=0;var Ge=le===""?".":le+":";if(Z(N))for(var He=0;He<N.length;He++)le=N[He],ye=Ge+Re(le,He),Ne+=z(le,Y,ie,ye,ae);else if(He=C(N),typeof He=="function")for(N=He.call(N),He=0;!(le=N.next()).done;)le=le.value,ye=Ge+Re(le,He++),Ne+=z(le,Y,ie,ye,ae);else if(ye==="object"){if(typeof N.then=="function")return z(Fe(N),Y,ie,le,ae);throw Y=String(N),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function te(N,Y,ie){if(N==null)return N;var le=[],ae=0;return z(N,le,"","",function(ye){return Y.call(ie,ye,ae++)}),le}function pe(N){if(N._status===-1){var Y=N._result;Y=Y(),Y.then(function(ie){(N._status===0||N._status===-1)&&(N._status=1,N._result=ie)},function(ie){(N._status===0||N._status===-1)&&(N._status=2,N._result=ie)}),N._status===-1&&(N._status=0,N._result=Y)}if(N._status===1)return N._result.default;throw N._result}var Me=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},we={map:te,forEach:function(N,Y,ie){te(N,function(){Y.apply(this,arguments)},ie)},count:function(N){var Y=0;return te(N,function(){Y++}),Y},toArray:function(N){return te(N,function(Y){return Y})||[]},only:function(N){if(!re(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Ae.Activity=S,Ae.Children=we,Ae.Component=D,Ae.Fragment=o,Ae.Profiler=r,Ae.PureComponent=U,Ae.StrictMode=l,Ae.Suspense=g,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(N){return J.H.useMemoCache(N)}},Ae.cache=function(N){return function(){return N.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(N,Y,ie){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var le=x({},N.props),ae=N.key;if(Y!=null)for(ye in Y.key!==void 0&&(ae=""+Y.key),Y)!j.call(Y,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&Y.ref===void 0||(le[ye]=Y[ye]);var ye=arguments.length-2;if(ye===1)le.children=ie;else if(1<ye){for(var Ne=Array(ye),Ge=0;Ge<ye;Ge++)Ne[Ge]=arguments[Ge+2];le.children=Ne}return ee(N.type,ae,le)},Ae.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Ae.createElement=function(N,Y,ie){var le,ae={},ye=null;if(Y!=null)for(le in Y.key!==void 0&&(ye=""+Y.key),Y)j.call(Y,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ae[le]=Y[le]);var Ne=arguments.length-2;if(Ne===1)ae.children=ie;else if(1<Ne){for(var Ge=Array(Ne),He=0;He<Ne;He++)Ge[He]=arguments[He+2];ae.children=Ge}if(N&&N.defaultProps)for(le in Ne=N.defaultProps,Ne)ae[le]===void 0&&(ae[le]=Ne[le]);return ee(N,ye,ae)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(N){return{$$typeof:p,render:N}},Ae.isValidElement=re,Ae.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:pe}},Ae.memo=function(N,Y){return{$$typeof:m,type:N,compare:Y===void 0?null:Y}},Ae.startTransition=function(N){var Y=J.T,ie={};J.T=ie;try{var le=N(),ae=J.S;ae!==null&&ae(ie,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(W,Me)}catch(ye){Me(ye)}finally{Y!==null&&ie.types!==null&&(Y.types=ie.types),J.T=Y}},Ae.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},Ae.use=function(N){return J.H.use(N)},Ae.useActionState=function(N,Y,ie){return J.H.useActionState(N,Y,ie)},Ae.useCallback=function(N,Y){return J.H.useCallback(N,Y)},Ae.useContext=function(N){return J.H.useContext(N)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(N,Y){return J.H.useDeferredValue(N,Y)},Ae.useEffect=function(N,Y){return J.H.useEffect(N,Y)},Ae.useEffectEvent=function(N){return J.H.useEffectEvent(N)},Ae.useId=function(){return J.H.useId()},Ae.useImperativeHandle=function(N,Y,ie){return J.H.useImperativeHandle(N,Y,ie)},Ae.useInsertionEffect=function(N,Y){return J.H.useInsertionEffect(N,Y)},Ae.useLayoutEffect=function(N,Y){return J.H.useLayoutEffect(N,Y)},Ae.useMemo=function(N,Y){return J.H.useMemo(N,Y)},Ae.useOptimistic=function(N,Y){return J.H.useOptimistic(N,Y)},Ae.useReducer=function(N,Y,ie){return J.H.useReducer(N,Y,ie)},Ae.useRef=function(N){return J.H.useRef(N)},Ae.useState=function(N){return J.H.useState(N)},Ae.useSyncExternalStore=function(N,Y,ie){return J.H.useSyncExternalStore(N,Y,ie)},Ae.useTransition=function(){return J.H.useTransition()},Ae.version="19.2.3",Ae}var Vm;function kf(){return Vm||(Vm=1,$c.exports=H_()),$c.exports}var G=kf();const mt=Z0(G);var Xc={exports:{}},Cs={},Qc={exports:{}},Zc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bm;function P_(){return Bm||(Bm=1,(function(n){function e(z,te){var pe=z.length;z.push(te);e:for(;0<pe;){var Me=pe-1>>>1,we=z[Me];if(0<r(we,te))z[Me]=te,z[pe]=we,pe=Me;else break e}}function o(z){return z.length===0?null:z[0]}function l(z){if(z.length===0)return null;var te=z[0],pe=z.pop();if(pe!==te){z[0]=pe;e:for(var Me=0,we=z.length,N=we>>>1;Me<N;){var Y=2*(Me+1)-1,ie=z[Y],le=Y+1,ae=z[le];if(0>r(ie,pe))le<we&&0>r(ae,ie)?(z[Me]=ae,z[le]=pe,Me=le):(z[Me]=ie,z[Y]=pe,Me=Y);else if(le<we&&0>r(ae,pe))z[Me]=ae,z[le]=pe,Me=le;else break e}}return te}function r(z,te){var pe=z.sortIndex-te.sortIndex;return pe!==0?pe:z.id-te.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();n.unstable_now=function(){return f.now()-p}}var g=[],m=[],v=1,S=null,_=3,C=!1,A=!1,x=!1,b=!1,D=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function X(z){for(var te=o(m);te!==null;){if(te.callback===null)l(m);else if(te.startTime<=z)l(m),te.sortIndex=te.expirationTime,e(g,te);else break;te=o(m)}}function Z(z){if(x=!1,X(z),!A)if(o(g)!==null)A=!0,W||(W=!0,ve());else{var te=o(m);te!==null&&Fe(Z,te.startTime-z)}}var W=!1,J=-1,j=5,ee=-1;function oe(){return b?!0:!(n.unstable_now()-ee<j)}function re(){if(b=!1,W){var z=n.unstable_now();ee=z;var te=!0;try{e:{A=!1,x&&(x=!1,B(J),J=-1),C=!0;var pe=_;try{t:{for(X(z),S=o(g);S!==null&&!(S.expirationTime>z&&oe());){var Me=S.callback;if(typeof Me=="function"){S.callback=null,_=S.priorityLevel;var we=Me(S.expirationTime<=z);if(z=n.unstable_now(),typeof we=="function"){S.callback=we,X(z),te=!0;break t}S===o(g)&&l(g),X(z)}else l(g);S=o(g)}if(S!==null)te=!0;else{var N=o(m);N!==null&&Fe(Z,N.startTime-z),te=!1}}break e}finally{S=null,_=pe,C=!1}te=void 0}}finally{te?ve():W=!1}}}var ve;if(typeof U=="function")ve=function(){U(re)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,Re=he.port2;he.port1.onmessage=re,ve=function(){Re.postMessage(null)}}else ve=function(){D(re,0)};function Fe(z,te){J=D(function(){z(n.unstable_now())},te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(z){switch(_){case 1:case 2:case 3:var te=3;break;default:te=_}var pe=_;_=te;try{return z()}finally{_=pe}},n.unstable_requestPaint=function(){b=!0},n.unstable_runWithPriority=function(z,te){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var pe=_;_=z;try{return te()}finally{_=pe}},n.unstable_scheduleCallback=function(z,te,pe){var Me=n.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Me+pe:Me):pe=Me,z){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=pe+we,z={id:v++,callback:te,priorityLevel:z,startTime:pe,expirationTime:we,sortIndex:-1},pe>Me?(z.sortIndex=pe,e(m,z),o(g)===null&&z===o(m)&&(x?(B(J),J=-1):x=!0,Fe(Z,pe-Me))):(z.sortIndex=we,e(g,z),A||C||(A=!0,W||(W=!0,ve()))),z},n.unstable_shouldYield=oe,n.unstable_wrapCallback=function(z){var te=_;return function(){var pe=_;_=te;try{return z.apply(this,arguments)}finally{_=pe}}}})(Zc)),Zc}var Fm;function z_(){return Fm||(Fm=1,Qc.exports=P_()),Qc.exports}var Wc={exports:{}},jt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ym;function O_(){if(Ym)return jt;Ym=1;var n=kf();function e(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var l={d:{f:o,r:function(){throw Error(e(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},r=Symbol.for("react.portal");function u(g,m,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:S==null?null:""+S,children:g,containerInfo:m,implementation:v}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,jt.createPortal=function(g,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return u(g,m,null,v)},jt.flushSync=function(g){var m=f.T,v=l.p;try{if(f.T=null,l.p=2,g)return g()}finally{f.T=m,l.p=v,l.d.f()}},jt.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,l.d.C(g,m))},jt.prefetchDNS=function(g){typeof g=="string"&&l.d.D(g)},jt.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var v=m.as,S=p(v,m.crossOrigin),_=typeof m.integrity=="string"?m.integrity:void 0,C=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?l.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:S,integrity:_,fetchPriority:C}):v==="script"&&l.d.X(g,{crossOrigin:S,integrity:_,fetchPriority:C,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},jt.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=p(m.as,m.crossOrigin);l.d.M(g,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&l.d.M(g)},jt.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,S=p(v,m.crossOrigin);l.d.L(g,v,{crossOrigin:S,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},jt.preloadModule=function(g,m){if(typeof g=="string")if(m){var v=p(m.as,m.crossOrigin);l.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else l.d.m(g)},jt.requestFormReset=function(g){l.d.r(g)},jt.unstable_batchedUpdates=function(g,m){return g(m)},jt.useFormState=function(g,m,v){return f.H.useFormState(g,m,v)},jt.useFormStatus=function(){return f.H.useHostTransitionStatus()},jt.version="19.2.3",jt}var Jm;function W0(){if(Jm)return Wc.exports;Jm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Wc.exports=O_(),Wc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Km;function V_(){if(Km)return Cs;Km=1;var n=z_(),e=kf(),o=W0();function l(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(l(188))}function m(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(l(188));return i!==t?null:t}for(var s=t,a=i;;){var h=s.return;if(h===null)break;var y=h.alternate;if(y===null){if(a=h.return,a!==null){s=a;continue}break}if(h.child===y.child){for(y=h.child;y;){if(y===s)return g(h),t;if(y===a)return g(h),i;y=y.sibling}throw Error(l(188))}if(s.return!==a.return)s=h,a=y;else{for(var E=!1,T=h.child;T;){if(T===s){E=!0,s=h,a=y;break}if(T===a){E=!0,a=h,s=y;break}T=T.sibling}if(!E){for(T=y.child;T;){if(T===s){E=!0,s=y,a=h;break}if(T===a){E=!0,a=y,s=h;break}T=T.sibling}if(!E)throw Error(l(189))}}if(s.alternate!==a)throw Error(l(190))}if(s.tag!==3)throw Error(l(188));return s.stateNode.current===s?t:i}function v(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=v(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,_=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),U=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),oe=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function ve(t){return t===null||typeof t!="object"?null:(t=re&&t[re]||t["@@iterator"],typeof t=="function"?t:null)}var he=Symbol.for("react.client.reference");function Re(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===he?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case x:return"Fragment";case D:return"Profiler";case b:return"StrictMode";case Z:return"Suspense";case W:return"SuspenseList";case ee:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case A:return"Portal";case U:return t.displayName||"Context";case B:return(t._context.displayName||"Context")+".Consumer";case X:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case J:return i=t.displayName||null,i!==null?i:Re(t.type)||"Memo";case j:i=t._payload,t=t._init;try{return Re(t(i))}catch{}}return null}var Fe=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Me=[],we=-1;function N(t){return{current:t}}function Y(t){0>we||(t.current=Me[we],Me[we]=null,we--)}function ie(t,i){we++,Me[we]=t.current,t.current=i}var le=N(null),ae=N(null),ye=N(null),Ne=N(null);function Ge(t,i){switch(ie(ye,i),ie(ae,t),ie(le,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?am(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=am(i),t=um(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(le),ie(le,t)}function He(){Y(le),Y(ae),Y(ye)}function Ze(t){t.memoizedState!==null&&ie(Ne,t);var i=le.current,s=um(i,t.type);i!==s&&(ie(ae,t),ie(le,s))}function xt(t){ae.current===t&&(Y(le),Y(ae)),Ne.current===t&&(Y(Ne),vs._currentValue=pe)}var nn,fn;function rt(t){if(nn===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);nn=i&&i[1]||"",fn=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nn+t+fn}var Kt=!1;function vt(t,i){if(!t||Kt)return"";Kt=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(i){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(V){var H=V}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(V){H=V}t.call(Q.prototype)}}else{try{throw Error()}catch(V){H=V}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(V){if(V&&H&&typeof V.stack=="string")return[V.stack,H.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=a.DetermineComponentFrameRoot(),E=y[0],T=y[1];if(E&&T){var R=E.split(`
`),q=T.split(`
`);for(h=a=0;a<R.length&&!R[a].includes("DetermineComponentFrameRoot");)a++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(a===R.length||h===q.length)for(a=R.length-1,h=q.length-1;1<=a&&0<=h&&R[a]!==q[h];)h--;for(;1<=a&&0<=h;a--,h--)if(R[a]!==q[h]){if(a!==1||h!==1)do if(a--,h--,0>h||R[a]!==q[h]){var K=`
`+R[a].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=a&&0<=h);break}}}finally{Kt=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?rt(s):""}function Fn(t,i){switch(t.tag){case 26:case 27:case 5:return rt(t.type);case 16:return rt("Lazy");case 13:return t.child!==i&&i!==null?rt("Suspense Fallback"):rt("Suspense");case 19:return rt("SuspenseList");case 0:case 15:return vt(t.type,!1);case 11:return vt(t.type.render,!1);case 1:return vt(t.type,!0);case 31:return rt("Activity");default:return""}}function Yn(t){try{var i="",s=null;do i+=Fn(t,s),s=t,t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var on=Object.prototype.hasOwnProperty,St=n.unstable_scheduleCallback,En=n.unstable_cancelCallback,ii=n.unstable_shouldYield,Tn=n.unstable_requestPaint,at=n.unstable_now,po=n.unstable_getCurrentPriorityLevel,Ui=n.unstable_ImmediatePriority,dn=n.unstable_UserBlockingPriority,$t=n.unstable_NormalPriority,Jn=n.unstable_LowPriority,ui=n.unstable_IdlePriority,hn=n.log,Li=n.unstable_setDisableYieldValue,Kn=null,Nt=null;function De(t){if(typeof hn=="function"&&Li(t),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(Kn,t)}catch{}}var _e=Math.clz32?Math.clz32:Xt,tt=Math.log,ln=Math.LN2;function Xt(t){return t>>>=0,t===0?32:31-(tt(t)/ln|0)|0}var Ut=256,pn=262144,We=4194304;function ct(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function _t(t,i,s){var a=t.pendingLanes;if(a===0)return 0;var h=0,y=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var T=a&134217727;return T!==0?(a=T&~y,a!==0?h=ct(a):(E&=T,E!==0?h=ct(E):s||(s=T&~t,s!==0&&(h=ct(s))))):(T=a&~y,T!==0?h=ct(T):E!==0?h=ct(E):s||(s=a&~t,s!==0&&(h=ct(s)))),h===0?0:i!==0&&i!==h&&(i&y)===0&&(y=h&-h,s=i&-i,y>=s||y===32&&(s&4194048)!==0)?i:h}function Qt(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Zt(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lt(){var t=We;return We<<=1,(We&62914560)===0&&(We=4194304),t}function Wt(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function P(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function nt(t,i,s,a,h,y){var E=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,R=t.expirationTimes,q=t.hiddenUpdates;for(s=E&~s;0<s;){var K=31-_e(s),Q=1<<K;T[K]=0,R[K]=-1;var H=q[K];if(H!==null)for(q[K]=null,K=0;K<H.length;K++){var V=H[K];V!==null&&(V.lane&=-536870913)}s&=~Q}a!==0&&ft(t,a,0),y!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=y&~(E&~i))}function ft(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var a=31-_e(i);t.entangledLanes|=i,t.entanglements[a]=t.entanglements[a]|1073741824|s&261930}function kt(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var a=31-_e(s),h=1<<a;h&i|t[a]&i&&(t[a]|=i),s&=~h}}function ne(t,i){var s=i&-i;return s=(s&42)!==0?1:sn(s),(s&(t.suspendedLanes|i))!==0?0:s}function sn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ke(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function dt(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:Im(t.type))}function oi(t,i){var s=te.p;try{return te.p=t,i()}finally{te.p=s}}var it=Math.random().toString(36).slice(2),Et="__reactFiber$"+it,zt="__reactProps$"+it,fe="__reactContainer$"+it,wl="__reactEvents$"+it,Vs="__reactListeners$"+it,Pa="__reactHandles$"+it,Dl="__reactResources$"+it,mo="__reactMarker$"+it;function Il(t){delete t[Et],delete t[zt],delete t[wl],delete t[Vs],delete t[Pa]}function ki(t){var i=t[Et];if(i)return i;for(var s=t.parentNode;s;){if(i=s[fe]||s[Et]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=gm(t);t!==null;){if(s=t[Et])return s;t=gm(t)}return i}t=s,s=t.parentNode}return null}function ci(t){if(t=t[Et]||t[fe]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function qi(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(l(33))}function Gi(t){var i=t[Dl];return i||(i=t[Dl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Tt(t){t[mo]=!0}var Bs=new Set,Ul={};function $n(t,i){Hi(t,i),Hi(t+"Capture",i)}function Hi(t,i){for(Ul[t]=i,t=0;t<i.length;t++)Bs.add(i[t])}var za=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ll={},Fs={};function Ot(t){return on.call(Fs,t)?!0:on.call(Ll,t)?!1:za.test(t)?Fs[t]=!0:(Ll[t]=!0,!1)}function L(t,i,s){if(Ot(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var a=i.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function F(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function O(t,i,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+a)}}function ue(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ge(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ve(t,i,s){var a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,y=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(E){s=""+E,y.call(this,E)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return s},setValue:function(E){s=""+E},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Xn(t){if(!t._valueTracker){var i=ge(t)?"checked":"value";t._valueTracker=Ve(t,i,""+t[i])}}function go(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),a="";return t&&(a=ge(t)?t.checked?"true":"false":t.value),t=a,t!==s?(i.setValue(t),!0):!1}function Ys(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var xv=/[\n"\\]/g;function In(t){return t.replace(xv,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Oa(t,i,s,a,h,y,E,T){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),i!=null?E==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+ue(i)):t.value!==""+ue(i)&&(t.value=""+ue(i)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),i!=null?Va(t,E,ue(i)):s!=null?Va(t,E,ue(s)):a!=null&&t.removeAttribute("value"),h==null&&y!=null&&(t.defaultChecked=!!y),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+ue(T):t.removeAttribute("name")}function nd(t,i,s,a,h,y,E,T){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.type=y),i!=null||s!=null){if(!(y!=="submit"&&y!=="reset"||i!=null)){Xn(t);return}s=s!=null?""+ue(s):"",i=i!=null?""+ue(i):s,T||i===t.value||(t.value=i),t.defaultValue=i}a=a??h,a=typeof a!="function"&&typeof a!="symbol"&&!!a,t.checked=T?t.checked:!!a,t.defaultChecked=!!a,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E),Xn(t)}function Va(t,i,s){i==="number"&&Ys(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Ho(t,i,s,a){if(t=t.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=i.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&a&&(t[s].defaultSelected=!0)}else{for(s=""+ue(s),i=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,a&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function id(t,i,s){if(i!=null&&(i=""+ue(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+ue(s):""}function od(t,i,s,a){if(i==null){if(a!=null){if(s!=null)throw Error(l(92));if(Fe(a)){if(1<a.length)throw Error(l(93));a=a[0]}s=a}s==null&&(s=""),i=s}s=ue(i),t.defaultValue=s,a=t.textContent,a===s&&a!==""&&a!==null&&(t.value=a),Xn(t)}function Po(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var Nv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ld(t,i,s){var a=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?a?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":a?t.setProperty(i,s):typeof s!="number"||s===0||Nv.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function sd(t,i,s){if(i!=null&&typeof i!="object")throw Error(l(62));if(t=t.style,s!=null){for(var a in s)!s.hasOwnProperty(a)||i!=null&&i.hasOwnProperty(a)||(a.indexOf("--")===0?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="");for(var h in i)a=i[h],i.hasOwnProperty(h)&&s[h]!==a&&ld(t,h,a)}else for(var y in i)i.hasOwnProperty(y)&&ld(t,y,i[y])}function Ba(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Js(t){return Dv.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function fi(){}var Fa=null;function Ya(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zo=null,Oo=null;function rd(t){var i=ci(t);if(i&&(t=i.stateNode)){var s=t[zt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Oa(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+In(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var a=s[i];if(a!==t&&a.form===t.form){var h=a[zt]||null;if(!h)throw Error(l(90));Oa(a,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)a=s[i],a.form===t.form&&go(a)}break e;case"textarea":id(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&Ho(t,!!s.multiple,i,!1)}}}var Ja=!1;function ad(t,i,s){if(Ja)return t(i,s);Ja=!0;try{var a=t(i);return a}finally{if(Ja=!1,(zo!==null||Oo!==null)&&(Ur(),zo&&(i=zo,t=Oo,Oo=zo=null,rd(i),t)))for(i=0;i<t.length;i++)rd(t[i])}}function kl(t,i){var s=t.stateNode;if(s===null)return null;var a=s[zt]||null;if(a===null)return null;s=a[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(l(231,i,typeof s));return s}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ka=!1;if(di)try{var ql={};Object.defineProperty(ql,"passive",{get:function(){Ka=!0}}),window.addEventListener("test",ql,ql),window.removeEventListener("test",ql,ql)}catch{Ka=!1}var Pi=null,$a=null,Ks=null;function ud(){if(Ks)return Ks;var t,i=$a,s=i.length,a,h="value"in Pi?Pi.value:Pi.textContent,y=h.length;for(t=0;t<s&&i[t]===h[t];t++);var E=s-t;for(a=1;a<=E&&i[s-a]===h[y-a];a++);return Ks=h.slice(t,1<a?1-a:void 0)}function $s(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Xs(){return!0}function cd(){return!1}function mn(t){function i(s,a,h,y,E){this._reactName=s,this._targetInst=h,this.type=a,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(y):y[T]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Xs:cd,this.isPropagationStopped=cd,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Xs)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Xs)},persist:function(){},isPersistent:Xs}),i}var yo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qs=mn(yo),Gl=S({},yo,{view:0,detail:0}),Iv=mn(Gl),Xa,Qa,Hl,Zs=S({},Gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hl&&(Hl&&t.type==="mousemove"?(Xa=t.screenX-Hl.screenX,Qa=t.screenY-Hl.screenY):Qa=Xa=0,Hl=t),Xa)},movementY:function(t){return"movementY"in t?t.movementY:Qa}}),fd=mn(Zs),Uv=S({},Zs,{dataTransfer:0}),Lv=mn(Uv),kv=S({},Gl,{relatedTarget:0}),Za=mn(kv),qv=S({},yo,{animationName:0,elapsedTime:0,pseudoElement:0}),Gv=mn(qv),Hv=S({},yo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Pv=mn(Hv),zv=S({},yo,{data:0}),dd=mn(zv),Ov={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fv(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Bv[t])?!!i[t]:!1}function Wa(){return Fv}var Yv=S({},Gl,{key:function(t){if(t.key){var i=Ov[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=$s(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wa,charCode:function(t){return t.type==="keypress"?$s(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$s(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Jv=mn(Yv),Kv=S({},Zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hd=mn(Kv),$v=S({},Gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wa}),Xv=mn($v),Qv=S({},yo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zv=mn(Qv),Wv=S({},Zs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),jv=mn(Wv),eS=S({},yo,{newState:0,oldState:0}),tS=mn(eS),nS=[9,13,27,32],ja=di&&"CompositionEvent"in window,Pl=null;di&&"documentMode"in document&&(Pl=document.documentMode);var iS=di&&"TextEvent"in window&&!Pl,pd=di&&(!ja||Pl&&8<Pl&&11>=Pl),md=" ",gd=!1;function yd(t,i){switch(t){case"keyup":return nS.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vo=!1;function oS(t,i){switch(t){case"compositionend":return vd(i);case"keypress":return i.which!==32?null:(gd=!0,md);case"textInput":return t=i.data,t===md&&gd?null:t;default:return null}}function lS(t,i){if(Vo)return t==="compositionend"||!ja&&yd(t,i)?(t=ud(),Ks=$a=Pi=null,Vo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return pd&&i.locale!=="ko"?null:i.data;default:return null}}var sS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!sS[t.type]:i==="textarea"}function _d(t,i,s,a){zo?Oo?Oo.push(a):Oo=[a]:zo=a,i=zr(i,"onChange"),0<i.length&&(s=new Qs("onChange","change",null,s,a),t.push({event:s,listeners:i}))}var zl=null,Ol=null;function rS(t){nm(t,0)}function Ws(t){var i=qi(t);if(go(i))return t}function Ed(t,i){if(t==="change")return i}var Td=!1;if(di){var eu;if(di){var tu="oninput"in document;if(!tu){var Cd=document.createElement("div");Cd.setAttribute("oninput","return;"),tu=typeof Cd.oninput=="function"}eu=tu}else eu=!1;Td=eu&&(!document.documentMode||9<document.documentMode)}function Ad(){zl&&(zl.detachEvent("onpropertychange",Rd),Ol=zl=null)}function Rd(t){if(t.propertyName==="value"&&Ws(Ol)){var i=[];_d(i,Ol,t,Ya(t)),ad(rS,i)}}function aS(t,i,s){t==="focusin"?(Ad(),zl=i,Ol=s,zl.attachEvent("onpropertychange",Rd)):t==="focusout"&&Ad()}function uS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ws(Ol)}function cS(t,i){if(t==="click")return Ws(i)}function fS(t,i){if(t==="input"||t==="change")return Ws(i)}function dS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Cn=typeof Object.is=="function"?Object.is:dS;function Vl(t,i){if(Cn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),a=Object.keys(i);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var h=s[a];if(!on.call(i,h)||!Cn(t[h],i[h]))return!1}return!0}function Md(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bd(t,i){var s=Md(t);t=0;for(var a;s;){if(s.nodeType===3){if(a=t+s.textContent.length,t<=i&&a>=i)return{node:s,offset:i-t};t=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Md(s)}}function xd(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?xd(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Nd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ys(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=Ys(t.document)}return i}function nu(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var hS=di&&"documentMode"in document&&11>=document.documentMode,Bo=null,iu=null,Bl=null,ou=!1;function wd(t,i,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ou||Bo==null||Bo!==Ys(a)||(a=Bo,"selectionStart"in a&&nu(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Bl&&Vl(Bl,a)||(Bl=a,a=zr(iu,"onSelect"),0<a.length&&(i=new Qs("onSelect","select",null,i,s),t.push({event:i,listeners:a}),i.target=Bo)))}function vo(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var Fo={animationend:vo("Animation","AnimationEnd"),animationiteration:vo("Animation","AnimationIteration"),animationstart:vo("Animation","AnimationStart"),transitionrun:vo("Transition","TransitionRun"),transitionstart:vo("Transition","TransitionStart"),transitioncancel:vo("Transition","TransitionCancel"),transitionend:vo("Transition","TransitionEnd")},lu={},Dd={};di&&(Dd=document.createElement("div").style,"AnimationEvent"in window||(delete Fo.animationend.animation,delete Fo.animationiteration.animation,delete Fo.animationstart.animation),"TransitionEvent"in window||delete Fo.transitionend.transition);function So(t){if(lu[t])return lu[t];if(!Fo[t])return t;var i=Fo[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in Dd)return lu[t]=i[s];return t}var Id=So("animationend"),Ud=So("animationiteration"),Ld=So("animationstart"),pS=So("transitionrun"),mS=So("transitionstart"),gS=So("transitioncancel"),kd=So("transitionend"),qd=new Map,su="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");su.push("scrollEnd");function Qn(t,i){qd.set(t,i),$n(i,[t])}var js=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Un=[],Yo=0,ru=0;function er(){for(var t=Yo,i=ru=Yo=0;i<t;){var s=Un[i];Un[i++]=null;var a=Un[i];Un[i++]=null;var h=Un[i];Un[i++]=null;var y=Un[i];if(Un[i++]=null,a!==null&&h!==null){var E=a.pending;E===null?h.next=h:(h.next=E.next,E.next=h),a.pending=h}y!==0&&Gd(s,h,y)}}function tr(t,i,s,a){Un[Yo++]=t,Un[Yo++]=i,Un[Yo++]=s,Un[Yo++]=a,ru|=a,t.lanes|=a,t=t.alternate,t!==null&&(t.lanes|=a)}function au(t,i,s,a){return tr(t,i,s,a),nr(t)}function _o(t,i){return tr(t,null,null,i),nr(t)}function Gd(t,i,s){t.lanes|=s;var a=t.alternate;a!==null&&(a.lanes|=s);for(var h=!1,y=t.return;y!==null;)y.childLanes|=s,a=y.alternate,a!==null&&(a.childLanes|=s),y.tag===22&&(t=y.stateNode,t===null||t._visibility&1||(h=!0)),t=y,y=y.return;return t.tag===3?(y=t.stateNode,h&&i!==null&&(h=31-_e(s),t=y.hiddenUpdates,a=t[h],a===null?t[h]=[i]:a.push(i),i.lane=s|536870912),y):null}function nr(t){if(50<fs)throw fs=0,yc=null,Error(l(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Jo={};function yS(t,i,s,a){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,i,s,a){return new yS(t,i,s,a)}function uu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hi(t,i){var s=t.alternate;return s===null?(s=An(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Hd(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function ir(t,i,s,a,h,y){var E=0;if(a=t,typeof t=="function")uu(t)&&(E=1);else if(typeof t=="string")E=T_(t,s,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ee:return t=An(31,s,i,h),t.elementType=ee,t.lanes=y,t;case x:return Eo(s.children,h,y,i);case b:E=8,h|=24;break;case D:return t=An(12,s,i,h|2),t.elementType=D,t.lanes=y,t;case Z:return t=An(13,s,i,h),t.elementType=Z,t.lanes=y,t;case W:return t=An(19,s,i,h),t.elementType=W,t.lanes=y,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case U:E=10;break e;case B:E=9;break e;case X:E=11;break e;case J:E=14;break e;case j:E=16,a=null;break e}E=29,s=Error(l(130,t===null?"null":typeof t,"")),a=null}return i=An(E,s,i,h),i.elementType=t,i.type=a,i.lanes=y,i}function Eo(t,i,s,a){return t=An(7,t,a,i),t.lanes=s,t}function cu(t,i,s){return t=An(6,t,null,i),t.lanes=s,t}function Pd(t){var i=An(18,null,null,0);return i.stateNode=t,i}function fu(t,i,s){return i=An(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var zd=new WeakMap;function Ln(t,i){if(typeof t=="object"&&t!==null){var s=zd.get(t);return s!==void 0?s:(i={value:t,source:i,stack:Yn(i)},zd.set(t,i),i)}return{value:t,source:i,stack:Yn(i)}}var Ko=[],$o=0,or=null,Fl=0,kn=[],qn=0,zi=null,li=1,si="";function pi(t,i){Ko[$o++]=Fl,Ko[$o++]=or,or=t,Fl=i}function Od(t,i,s){kn[qn++]=li,kn[qn++]=si,kn[qn++]=zi,zi=t;var a=li;t=si;var h=32-_e(a)-1;a&=~(1<<h),s+=1;var y=32-_e(i)+h;if(30<y){var E=h-h%5;y=(a&(1<<E)-1).toString(32),a>>=E,h-=E,li=1<<32-_e(i)+h|s<<h|a,si=y+t}else li=1<<y|s<<h|a,si=t}function du(t){t.return!==null&&(pi(t,1),Od(t,1,0))}function hu(t){for(;t===or;)or=Ko[--$o],Ko[$o]=null,Fl=Ko[--$o],Ko[$o]=null;for(;t===zi;)zi=kn[--qn],kn[qn]=null,si=kn[--qn],kn[qn]=null,li=kn[--qn],kn[qn]=null}function Vd(t,i){kn[qn++]=li,kn[qn++]=si,kn[qn++]=zi,li=i.id,si=i.overflow,zi=t}var Vt=null,ot=null,qe=!1,Oi=null,Gn=!1,pu=Error(l(519));function Vi(t){var i=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yl(Ln(i,t)),pu}function Bd(t){var i=t.stateNode,s=t.type,a=t.memoizedProps;switch(i[Et]=t,i[zt]=a,s){case"dialog":Ue("cancel",i),Ue("close",i);break;case"iframe":case"object":case"embed":Ue("load",i);break;case"video":case"audio":for(s=0;s<hs.length;s++)Ue(hs[s],i);break;case"source":Ue("error",i);break;case"img":case"image":case"link":Ue("error",i),Ue("load",i);break;case"details":Ue("toggle",i);break;case"input":Ue("invalid",i),nd(i,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Ue("invalid",i);break;case"textarea":Ue("invalid",i),od(i,a.value,a.defaultValue,a.children)}s=a.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||a.suppressHydrationWarning===!0||sm(i.textContent,s)?(a.popover!=null&&(Ue("beforetoggle",i),Ue("toggle",i)),a.onScroll!=null&&Ue("scroll",i),a.onScrollEnd!=null&&Ue("scrollend",i),a.onClick!=null&&(i.onclick=fi),i=!0):i=!1,i||Vi(t,!0)}function Fd(t){for(Vt=t.return;Vt;)switch(Vt.tag){case 5:case 31:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Vt=Vt.return}}function Xo(t){if(t!==Vt)return!1;if(!qe)return Fd(t),qe=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Ic(t.type,t.memoizedProps)),s=!s),s&&ot&&Vi(t),Fd(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));ot=mm(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));ot=mm(t)}else i===27?(i=ot,no(t.type)?(t=Gc,Gc=null,ot=t):ot=i):ot=Vt?Pn(t.stateNode.nextSibling):null;return!0}function To(){ot=Vt=null,qe=!1}function mu(){var t=Oi;return t!==null&&(Sn===null?Sn=t:Sn.push.apply(Sn,t),Oi=null),t}function Yl(t){Oi===null?Oi=[t]:Oi.push(t)}var gu=N(null),Co=null,mi=null;function Bi(t,i,s){ie(gu,i._currentValue),i._currentValue=s}function gi(t){t._currentValue=gu.current,Y(gu)}function yu(t,i,s){for(;t!==null;){var a=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,a!==null&&(a.childLanes|=i)):a!==null&&(a.childLanes&i)!==i&&(a.childLanes|=i),t===s)break;t=t.return}}function vu(t,i,s,a){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var y=h.dependencies;if(y!==null){var E=h.child;y=y.firstContext;e:for(;y!==null;){var T=y;y=h;for(var R=0;R<i.length;R++)if(T.context===i[R]){y.lanes|=s,T=y.alternate,T!==null&&(T.lanes|=s),yu(y.return,s,t),a||(E=null);break e}y=T.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(l(341));E.lanes|=s,y=E.alternate,y!==null&&(y.lanes|=s),yu(E,s,t),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===t){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function Qo(t,i,s,a){t=null;for(var h=i,y=!1;h!==null;){if(!y){if((h.flags&524288)!==0)y=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(l(387));if(E=E.memoizedProps,E!==null){var T=h.type;Cn(h.pendingProps.value,E.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ne.current){if(E=h.alternate,E===null)throw Error(l(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(vs):t=[vs])}h=h.return}t!==null&&vu(i,t,s,a),i.flags|=262144}function lr(t){for(t=t.firstContext;t!==null;){if(!Cn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ao(t){Co=t,mi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Bt(t){return Yd(Co,t)}function sr(t,i){return Co===null&&Ao(t),Yd(t,i)}function Yd(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},mi===null){if(t===null)throw Error(l(308));mi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else mi=mi.next=i;return s}var vS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,a){t.push(a)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},SS=n.unstable_scheduleCallback,_S=n.unstable_NormalPriority,Ct={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Su(){return{controller:new vS,data:new Map,refCount:0}}function Jl(t){t.refCount--,t.refCount===0&&SS(_S,function(){t.controller.abort()})}var Kl=null,_u=0,Zo=0,Wo=null;function ES(t,i){if(Kl===null){var s=Kl=[];_u=0,Zo=Cc(),Wo={status:"pending",value:void 0,then:function(a){s.push(a)}}}return _u++,i.then(Jd,Jd),i}function Jd(){if(--_u===0&&Kl!==null){Wo!==null&&(Wo.status="fulfilled");var t=Kl;Kl=null,Zo=0,Wo=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function TS(t,i){var s=[],a={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){a.status="fulfilled",a.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(a.status="rejected",a.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),a}var Kd=z.S;z.S=function(t,i){wp=at(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&ES(t,i),Kd!==null&&Kd(t,i)};var Ro=N(null);function Eu(){var t=Ro.current;return t!==null?t:je.pooledCache}function rr(t,i){i===null?ie(Ro,Ro.current):ie(Ro,i.pool)}function $d(){var t=Eu();return t===null?null:{parent:Ct._currentValue,pool:t}}var jo=Error(l(460)),Tu=Error(l(474)),ar=Error(l(542)),ur={then:function(){}};function Xd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Qd(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(fi,fi),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Wd(t),t;default:if(typeof i.status=="string")i.then(fi,fi);else{if(t=je,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=i,t.status="pending",t.then(function(a){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=a}},function(a){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=a}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Wd(t),t}throw bo=i,jo}}function Mo(t){try{var i=t._init;return i(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(bo=s,jo):s}}var bo=null;function Zd(){if(bo===null)throw Error(l(459));var t=bo;return bo=null,t}function Wd(t){if(t===jo||t===ar)throw Error(l(483))}var el=null,$l=0;function cr(t){var i=$l;return $l+=1,el===null&&(el=[]),Qd(el,t,i)}function Xl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function fr(t,i){throw i.$$typeof===_?Error(l(525)):(t=Object.prototype.toString.call(i),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function jd(t){function i(I,w){if(t){var k=I.deletions;k===null?(I.deletions=[w],I.flags|=16):k.push(w)}}function s(I,w){if(!t)return null;for(;w!==null;)i(I,w),w=w.sibling;return null}function a(I){for(var w=new Map;I!==null;)I.key!==null?w.set(I.key,I):w.set(I.index,I),I=I.sibling;return w}function h(I,w){return I=hi(I,w),I.index=0,I.sibling=null,I}function y(I,w,k){return I.index=k,t?(k=I.alternate,k!==null?(k=k.index,k<w?(I.flags|=67108866,w):k):(I.flags|=67108866,w)):(I.flags|=1048576,w)}function E(I){return t&&I.alternate===null&&(I.flags|=67108866),I}function T(I,w,k,$){return w===null||w.tag!==6?(w=cu(k,I.mode,$),w.return=I,w):(w=h(w,k),w.return=I,w)}function R(I,w,k,$){var me=k.type;return me===x?K(I,w,k.props.children,$,k.key):w!==null&&(w.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===j&&Mo(me)===w.type)?(w=h(w,k.props),Xl(w,k),w.return=I,w):(w=ir(k.type,k.key,k.props,null,I.mode,$),Xl(w,k),w.return=I,w)}function q(I,w,k,$){return w===null||w.tag!==4||w.stateNode.containerInfo!==k.containerInfo||w.stateNode.implementation!==k.implementation?(w=fu(k,I.mode,$),w.return=I,w):(w=h(w,k.children||[]),w.return=I,w)}function K(I,w,k,$,me){return w===null||w.tag!==7?(w=Eo(k,I.mode,$,me),w.return=I,w):(w=h(w,k),w.return=I,w)}function Q(I,w,k){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=cu(""+w,I.mode,k),w.return=I,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case C:return k=ir(w.type,w.key,w.props,null,I.mode,k),Xl(k,w),k.return=I,k;case A:return w=fu(w,I.mode,k),w.return=I,w;case j:return w=Mo(w),Q(I,w,k)}if(Fe(w)||ve(w))return w=Eo(w,I.mode,k,null),w.return=I,w;if(typeof w.then=="function")return Q(I,cr(w),k);if(w.$$typeof===U)return Q(I,sr(I,w),k);fr(I,w)}return null}function H(I,w,k,$){var me=w!==null?w.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return me!==null?null:T(I,w,""+k,$);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case C:return k.key===me?R(I,w,k,$):null;case A:return k.key===me?q(I,w,k,$):null;case j:return k=Mo(k),H(I,w,k,$)}if(Fe(k)||ve(k))return me!==null?null:K(I,w,k,$,null);if(typeof k.then=="function")return H(I,w,cr(k),$);if(k.$$typeof===U)return H(I,w,sr(I,k),$);fr(I,k)}return null}function V(I,w,k,$,me){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return I=I.get(k)||null,T(w,I,""+$,me);if(typeof $=="object"&&$!==null){switch($.$$typeof){case C:return I=I.get($.key===null?k:$.key)||null,R(w,I,$,me);case A:return I=I.get($.key===null?k:$.key)||null,q(w,I,$,me);case j:return $=Mo($),V(I,w,k,$,me)}if(Fe($)||ve($))return I=I.get(k)||null,K(w,I,$,me,null);if(typeof $.then=="function")return V(I,w,k,cr($),me);if($.$$typeof===U)return V(I,w,k,sr(w,$),me);fr(w,$)}return null}function ce(I,w,k,$){for(var me=null,Pe=null,de=w,xe=w=0,ke=null;de!==null&&xe<k.length;xe++){de.index>xe?(ke=de,de=null):ke=de.sibling;var ze=H(I,de,k[xe],$);if(ze===null){de===null&&(de=ke);break}t&&de&&ze.alternate===null&&i(I,de),w=y(ze,w,xe),Pe===null?me=ze:Pe.sibling=ze,Pe=ze,de=ke}if(xe===k.length)return s(I,de),qe&&pi(I,xe),me;if(de===null){for(;xe<k.length;xe++)de=Q(I,k[xe],$),de!==null&&(w=y(de,w,xe),Pe===null?me=de:Pe.sibling=de,Pe=de);return qe&&pi(I,xe),me}for(de=a(de);xe<k.length;xe++)ke=V(de,I,xe,k[xe],$),ke!==null&&(t&&ke.alternate!==null&&de.delete(ke.key===null?xe:ke.key),w=y(ke,w,xe),Pe===null?me=ke:Pe.sibling=ke,Pe=ke);return t&&de.forEach(function(ro){return i(I,ro)}),qe&&pi(I,xe),me}function Se(I,w,k,$){if(k==null)throw Error(l(151));for(var me=null,Pe=null,de=w,xe=w=0,ke=null,ze=k.next();de!==null&&!ze.done;xe++,ze=k.next()){de.index>xe?(ke=de,de=null):ke=de.sibling;var ro=H(I,de,ze.value,$);if(ro===null){de===null&&(de=ke);break}t&&de&&ro.alternate===null&&i(I,de),w=y(ro,w,xe),Pe===null?me=ro:Pe.sibling=ro,Pe=ro,de=ke}if(ze.done)return s(I,de),qe&&pi(I,xe),me;if(de===null){for(;!ze.done;xe++,ze=k.next())ze=Q(I,ze.value,$),ze!==null&&(w=y(ze,w,xe),Pe===null?me=ze:Pe.sibling=ze,Pe=ze);return qe&&pi(I,xe),me}for(de=a(de);!ze.done;xe++,ze=k.next())ze=V(de,I,xe,ze.value,$),ze!==null&&(t&&ze.alternate!==null&&de.delete(ze.key===null?xe:ze.key),w=y(ze,w,xe),Pe===null?me=ze:Pe.sibling=ze,Pe=ze);return t&&de.forEach(function(U_){return i(I,U_)}),qe&&pi(I,xe),me}function Qe(I,w,k,$){if(typeof k=="object"&&k!==null&&k.type===x&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case C:e:{for(var me=k.key;w!==null;){if(w.key===me){if(me=k.type,me===x){if(w.tag===7){s(I,w.sibling),$=h(w,k.props.children),$.return=I,I=$;break e}}else if(w.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===j&&Mo(me)===w.type){s(I,w.sibling),$=h(w,k.props),Xl($,k),$.return=I,I=$;break e}s(I,w);break}else i(I,w);w=w.sibling}k.type===x?($=Eo(k.props.children,I.mode,$,k.key),$.return=I,I=$):($=ir(k.type,k.key,k.props,null,I.mode,$),Xl($,k),$.return=I,I=$)}return E(I);case A:e:{for(me=k.key;w!==null;){if(w.key===me)if(w.tag===4&&w.stateNode.containerInfo===k.containerInfo&&w.stateNode.implementation===k.implementation){s(I,w.sibling),$=h(w,k.children||[]),$.return=I,I=$;break e}else{s(I,w);break}else i(I,w);w=w.sibling}$=fu(k,I.mode,$),$.return=I,I=$}return E(I);case j:return k=Mo(k),Qe(I,w,k,$)}if(Fe(k))return ce(I,w,k,$);if(ve(k)){if(me=ve(k),typeof me!="function")throw Error(l(150));return k=me.call(k),Se(I,w,k,$)}if(typeof k.then=="function")return Qe(I,w,cr(k),$);if(k.$$typeof===U)return Qe(I,w,sr(I,k),$);fr(I,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,w!==null&&w.tag===6?(s(I,w.sibling),$=h(w,k),$.return=I,I=$):(s(I,w),$=cu(k,I.mode,$),$.return=I,I=$),E(I)):s(I,w)}return function(I,w,k,$){try{$l=0;var me=Qe(I,w,k,$);return el=null,me}catch(de){if(de===jo||de===ar)throw de;var Pe=An(29,de,null,I.mode);return Pe.lanes=$,Pe.return=I,Pe}finally{}}}var xo=jd(!0),eh=jd(!1),Fi=!1;function Cu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Au(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Yi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ji(t,i,s){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,(Be&2)!==0){var h=a.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),a.pending=i,i=nr(t),Gd(t,null,s),i}return tr(t,a,i,s),nr(t)}function Ql(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var a=i.lanes;a&=t.pendingLanes,s|=a,i.lanes=s,kt(t,s)}}function Ru(t,i){var s=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var h=null,y=null;if(s=s.firstBaseUpdate,s!==null){do{var E={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};y===null?h=y=E:y=y.next=E,s=s.next}while(s!==null);y===null?h=y=i:y=y.next=i}else h=y=i;s={baseState:a.baseState,firstBaseUpdate:h,lastBaseUpdate:y,shared:a.shared,callbacks:a.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var Mu=!1;function Zl(){if(Mu){var t=Wo;if(t!==null)throw t}}function Wl(t,i,s,a){Mu=!1;var h=t.updateQueue;Fi=!1;var y=h.firstBaseUpdate,E=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,q=R.next;R.next=null,E===null?y=q:E.next=q,E=R;var K=t.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==E&&(T===null?K.firstBaseUpdate=q:T.next=q,K.lastBaseUpdate=R))}if(y!==null){var Q=h.baseState;E=0,K=q=R=null,T=y;do{var H=T.lane&-536870913,V=H!==T.lane;if(V?(Le&H)===H:(a&H)===H){H!==0&&H===Zo&&(Mu=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ce=t,Se=T;H=i;var Qe=s;switch(Se.tag){case 1:if(ce=Se.payload,typeof ce=="function"){Q=ce.call(Qe,Q,H);break e}Q=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=Se.payload,H=typeof ce=="function"?ce.call(Qe,Q,H):ce,H==null)break e;Q=S({},Q,H);break e;case 2:Fi=!0}}H=T.callback,H!==null&&(t.flags|=64,V&&(t.flags|=8192),V=h.callbacks,V===null?h.callbacks=[H]:V.push(H))}else V={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(q=K=V,R=Q):K=K.next=V,E|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;V=T,T=V.next,V.next=null,h.lastBaseUpdate=V,h.shared.pending=null}}while(!0);K===null&&(R=Q),h.baseState=R,h.firstBaseUpdate=q,h.lastBaseUpdate=K,y===null&&(h.shared.lanes=0),Zi|=E,t.lanes=E,t.memoizedState=Q}}function th(t,i){if(typeof t!="function")throw Error(l(191,t));t.call(i)}function nh(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)th(s[t],i)}var tl=N(null),dr=N(0);function ih(t,i){t=Ri,ie(dr,t),ie(tl,i),Ri=t|i.baseLanes}function bu(){ie(dr,Ri),ie(tl,tl.current)}function xu(){Ri=dr.current,Y(tl),Y(dr)}var Rn=N(null),Hn=null;function Ki(t){var i=t.alternate;ie(gt,gt.current&1),ie(Rn,t),Hn===null&&(i===null||tl.current!==null||i.memoizedState!==null)&&(Hn=t)}function Nu(t){ie(gt,gt.current),ie(Rn,t),Hn===null&&(Hn=t)}function oh(t){t.tag===22?(ie(gt,gt.current),ie(Rn,t),Hn===null&&(Hn=t)):$i()}function $i(){ie(gt,gt.current),ie(Rn,Rn.current)}function Mn(t){Y(Rn),Hn===t&&(Hn=null),Y(gt)}var gt=N(0);function hr(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||kc(s)||qc(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var yi=0,be=null,$e=null,At=null,pr=!1,nl=!1,No=!1,mr=0,jl=0,il=null,CS=0;function ht(){throw Error(l(321))}function wu(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!Cn(t[s],i[s]))return!1;return!0}function Du(t,i,s,a,h,y){return yi=y,be=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,z.H=t===null||t.memoizedState===null?Oh:Ju,No=!1,y=s(a,h),No=!1,nl&&(y=sh(i,s,a,h)),lh(t),y}function lh(t){z.H=ns;var i=$e!==null&&$e.next!==null;if(yi=0,At=$e=be=null,pr=!1,jl=0,il=null,i)throw Error(l(300));t===null||Rt||(t=t.dependencies,t!==null&&lr(t)&&(Rt=!0))}function sh(t,i,s,a){be=t;var h=0;do{if(nl&&(il=null),jl=0,nl=!1,25<=h)throw Error(l(301));if(h+=1,At=$e=null,t.updateQueue!=null){var y=t.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}z.H=Vh,y=i(s,a)}while(nl);return y}function AS(){var t=z.H,i=t.useState()[0];return i=typeof i.then=="function"?es(i):i,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(be.flags|=1024),i}function Iu(){var t=mr!==0;return mr=0,t}function Uu(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function Lu(t){if(pr){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}pr=!1}yi=0,At=$e=be=null,nl=!1,jl=mr=0,il=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?be.memoizedState=At=t:At=At.next=t,At}function yt(){if($e===null){var t=be.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var i=At===null?be.memoizedState:At.next;if(i!==null)At=i,$e=t;else{if(t===null)throw be.alternate===null?Error(l(467)):Error(l(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},At===null?be.memoizedState=At=t:At=At.next=t}return At}function gr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function es(t){var i=jl;return jl+=1,il===null&&(il=[]),t=Qd(il,t,i),i=be,(At===null?i.memoizedState:At.next)===null&&(i=i.alternate,z.H=i===null||i.memoizedState===null?Oh:Ju),t}function yr(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return es(t);if(t.$$typeof===U)return Bt(t)}throw Error(l(438,String(t)))}function ku(t){var i=null,s=be.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var a=be.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(i={data:a.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=gr(),be.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),a=0;a<t;a++)s[a]=oe;return i.index++,s}function vi(t,i){return typeof i=="function"?i(t):i}function vr(t){var i=yt();return qu(i,$e,t)}function qu(t,i,s){var a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=s;var h=t.baseQueue,y=a.pending;if(y!==null){if(h!==null){var E=h.next;h.next=y.next,y.next=E}i.baseQueue=h=y,a.pending=null}if(y=t.baseState,h===null)t.memoizedState=y;else{i=h.next;var T=E=null,R=null,q=i,K=!1;do{var Q=q.lane&-536870913;if(Q!==q.lane?(Le&Q)===Q:(yi&Q)===Q){var H=q.revertLane;if(H===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),Q===Zo&&(K=!0);else if((yi&H)===H){q=q.next,H===Zo&&(K=!0);continue}else Q={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},R===null?(T=R=Q,E=y):R=R.next=Q,be.lanes|=H,Zi|=H;Q=q.action,No&&s(y,Q),y=q.hasEagerState?q.eagerState:s(y,Q)}else H={lane:Q,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},R===null?(T=R=H,E=y):R=R.next=H,be.lanes|=Q,Zi|=Q;q=q.next}while(q!==null&&q!==i);if(R===null?E=y:R.next=T,!Cn(y,t.memoizedState)&&(Rt=!0,K&&(s=Wo,s!==null)))throw s;t.memoizedState=y,t.baseState=E,t.baseQueue=R,a.lastRenderedState=y}return h===null&&(a.lanes=0),[t.memoizedState,a.dispatch]}function Gu(t){var i=yt(),s=i.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=t;var a=s.dispatch,h=s.pending,y=i.memoizedState;if(h!==null){s.pending=null;var E=h=h.next;do y=t(y,E.action),E=E.next;while(E!==h);Cn(y,i.memoizedState)||(Rt=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),s.lastRenderedState=y}return[y,a]}function rh(t,i,s){var a=be,h=yt(),y=qe;if(y){if(s===void 0)throw Error(l(407));s=s()}else s=i();var E=!Cn(($e||h).memoizedState,s);if(E&&(h.memoizedState=s,Rt=!0),h=h.queue,zu(ch.bind(null,a,h,t),[t]),h.getSnapshot!==i||E||At!==null&&At.memoizedState.tag&1){if(a.flags|=2048,ol(9,{destroy:void 0},uh.bind(null,a,h,s,i),null),je===null)throw Error(l(349));y||(yi&127)!==0||ah(a,i,s)}return s}function ah(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=be.updateQueue,i===null?(i=gr(),be.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function uh(t,i,s,a){i.value=s,i.getSnapshot=a,fh(i)&&dh(t)}function ch(t,i,s){return s(function(){fh(i)&&dh(t)})}function fh(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!Cn(t,s)}catch{return!0}}function dh(t){var i=_o(t,2);i!==null&&_n(i,t,2)}function Hu(t){var i=rn();if(typeof t=="function"){var s=t;if(t=s(),No){De(!0);try{s()}finally{De(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:t},i}function hh(t,i,s,a){return t.baseState=s,qu(t,$e,typeof a=="function"?a:vi)}function RS(t,i,s,a,h){if(Er(t))throw Error(l(485));if(t=i.action,t!==null){var y={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};z.T!==null?s(!0):y.isTransition=!1,a(y),s=i.pending,s===null?(y.next=i.pending=y,ph(i,y)):(y.next=s.next,i.pending=s.next=y)}}function ph(t,i){var s=i.action,a=i.payload,h=t.state;if(i.isTransition){var y=z.T,E={};z.T=E;try{var T=s(h,a),R=z.S;R!==null&&R(E,T),mh(t,i,T)}catch(q){Pu(t,i,q)}finally{y!==null&&E.types!==null&&(y.types=E.types),z.T=y}}else try{y=s(h,a),mh(t,i,y)}catch(q){Pu(t,i,q)}}function mh(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(a){gh(t,i,a)},function(a){return Pu(t,i,a)}):gh(t,i,s)}function gh(t,i,s){i.status="fulfilled",i.value=s,yh(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,ph(t,s)))}function Pu(t,i,s){var a=t.pending;if(t.pending=null,a!==null){a=a.next;do i.status="rejected",i.reason=s,yh(i),i=i.next;while(i!==a)}t.action=null}function yh(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function vh(t,i){return i}function Sh(t,i){if(qe){var s=je.formState;if(s!==null){e:{var a=be;if(qe){if(ot){t:{for(var h=ot,y=Gn;h.nodeType!==8;){if(!y){h=null;break t}if(h=Pn(h.nextSibling),h===null){h=null;break t}}y=h.data,h=y==="F!"||y==="F"?h:null}if(h){ot=Pn(h.nextSibling),a=h.data==="F!";break e}}Vi(a)}a=!1}a&&(i=s[0])}}return s=rn(),s.memoizedState=s.baseState=i,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vh,lastRenderedState:i},s.queue=a,s=Hh.bind(null,be,a),a.dispatch=s,a=Hu(!1),y=Yu.bind(null,be,!1,a.queue),a=rn(),h={state:i,dispatch:null,action:t,pending:null},a.queue=h,s=RS.bind(null,be,h,y,s),h.dispatch=s,a.memoizedState=t,[i,s,!1]}function _h(t){var i=yt();return Eh(i,$e,t)}function Eh(t,i,s){if(i=qu(t,i,vh)[0],t=vr(vi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var a=es(i)}catch(E){throw E===jo?ar:E}else a=i;i=yt();var h=i.queue,y=h.dispatch;return s!==i.memoizedState&&(be.flags|=2048,ol(9,{destroy:void 0},MS.bind(null,h,s),null)),[a,y,t]}function MS(t,i){t.action=i}function Th(t){var i=yt(),s=$e;if(s!==null)return Eh(i,s,t);yt(),i=i.memoizedState,s=yt();var a=s.queue.dispatch;return s.memoizedState=t,[i,a,!1]}function ol(t,i,s,a){return t={tag:t,create:s,deps:a,inst:i,next:null},i=be.updateQueue,i===null&&(i=gr(),be.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(a=s.next,s.next=t,t.next=a,i.lastEffect=t),t}function Ch(){return yt().memoizedState}function Sr(t,i,s,a){var h=rn();be.flags|=t,h.memoizedState=ol(1|i,{destroy:void 0},s,a===void 0?null:a)}function _r(t,i,s,a){var h=yt();a=a===void 0?null:a;var y=h.memoizedState.inst;$e!==null&&a!==null&&wu(a,$e.memoizedState.deps)?h.memoizedState=ol(i,y,s,a):(be.flags|=t,h.memoizedState=ol(1|i,y,s,a))}function Ah(t,i){Sr(8390656,8,t,i)}function zu(t,i){_r(2048,8,t,i)}function bS(t){be.flags|=4;var i=be.updateQueue;if(i===null)i=gr(),be.updateQueue=i,i.events=[t];else{var s=i.events;s===null?i.events=[t]:s.push(t)}}function Rh(t){var i=yt().memoizedState;return bS({ref:i,nextImpl:t}),function(){if((Be&2)!==0)throw Error(l(440));return i.impl.apply(void 0,arguments)}}function Mh(t,i){return _r(4,2,t,i)}function bh(t,i){return _r(4,4,t,i)}function xh(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Nh(t,i,s){s=s!=null?s.concat([t]):null,_r(4,4,xh.bind(null,i,t),s)}function Ou(){}function wh(t,i){var s=yt();i=i===void 0?null:i;var a=s.memoizedState;return i!==null&&wu(i,a[1])?a[0]:(s.memoizedState=[t,i],t)}function Dh(t,i){var s=yt();i=i===void 0?null:i;var a=s.memoizedState;if(i!==null&&wu(i,a[1]))return a[0];if(a=t(),No){De(!0);try{t()}finally{De(!1)}}return s.memoizedState=[a,i],a}function Vu(t,i,s){return s===void 0||(yi&1073741824)!==0&&(Le&261930)===0?t.memoizedState=i:(t.memoizedState=s,t=Ip(),be.lanes|=t,Zi|=t,s)}function Ih(t,i,s,a){return Cn(s,i)?s:tl.current!==null?(t=Vu(t,s,a),Cn(t,i)||(Rt=!0),t):(yi&42)===0||(yi&1073741824)!==0&&(Le&261930)===0?(Rt=!0,t.memoizedState=s):(t=Ip(),be.lanes|=t,Zi|=t,i)}function Uh(t,i,s,a,h){var y=te.p;te.p=y!==0&&8>y?y:8;var E=z.T,T={};z.T=T,Yu(t,!1,i,s);try{var R=h(),q=z.S;if(q!==null&&q(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var K=TS(R,a);ts(t,i,K,Nn(t))}else ts(t,i,a,Nn(t))}catch(Q){ts(t,i,{then:function(){},status:"rejected",reason:Q},Nn())}finally{te.p=y,E!==null&&T.types!==null&&(E.types=T.types),z.T=E}}function xS(){}function Bu(t,i,s,a){if(t.tag!==5)throw Error(l(476));var h=Lh(t).queue;Uh(t,h,i,pe,s===null?xS:function(){return kh(t),s(a)})}function Lh(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:pe},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function kh(t){var i=Lh(t);i.next===null&&(i=t.alternate.memoizedState),ts(t,i.next.queue,{},Nn())}function Fu(){return Bt(vs)}function qh(){return yt().memoizedState}function Gh(){return yt().memoizedState}function NS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=Nn();t=Yi(s);var a=Ji(i,t,s);a!==null&&(_n(a,i,s),Ql(a,i,s)),i={cache:Su()},t.payload=i;return}i=i.return}}function wS(t,i,s){var a=Nn();s={lane:a,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Er(t)?Ph(i,s):(s=au(t,i,s,a),s!==null&&(_n(s,t,a),zh(s,i,a)))}function Hh(t,i,s){var a=Nn();ts(t,i,s,a)}function ts(t,i,s,a){var h={lane:a,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Er(t))Ph(i,h);else{var y=t.alternate;if(t.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var E=i.lastRenderedState,T=y(E,s);if(h.hasEagerState=!0,h.eagerState=T,Cn(T,E))return tr(t,i,h,0),je===null&&er(),!1}catch{}finally{}if(s=au(t,i,h,a),s!==null)return _n(s,t,a),zh(s,i,a),!0}return!1}function Yu(t,i,s,a){if(a={lane:2,revertLane:Cc(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Er(t)){if(i)throw Error(l(479))}else i=au(t,s,a,2),i!==null&&_n(i,t,2)}function Er(t){var i=t.alternate;return t===be||i!==null&&i===be}function Ph(t,i){nl=pr=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function zh(t,i,s){if((s&4194048)!==0){var a=i.lanes;a&=t.pendingLanes,s|=a,i.lanes=s,kt(t,s)}}var ns={readContext:Bt,use:yr,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};ns.useEffectEvent=ht;var Oh={readContext:Bt,use:yr,useCallback:function(t,i){return rn().memoizedState=[t,i===void 0?null:i],t},useContext:Bt,useEffect:Ah,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,Sr(4194308,4,xh.bind(null,i,t),s)},useLayoutEffect:function(t,i){return Sr(4194308,4,t,i)},useInsertionEffect:function(t,i){Sr(4,2,t,i)},useMemo:function(t,i){var s=rn();i=i===void 0?null:i;var a=t();if(No){De(!0);try{t()}finally{De(!1)}}return s.memoizedState=[a,i],a},useReducer:function(t,i,s){var a=rn();if(s!==void 0){var h=s(i);if(No){De(!0);try{s(i)}finally{De(!1)}}}else h=i;return a.memoizedState=a.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},a.queue=t,t=t.dispatch=wS.bind(null,be,t),[a.memoizedState,t]},useRef:function(t){var i=rn();return t={current:t},i.memoizedState=t},useState:function(t){t=Hu(t);var i=t.queue,s=Hh.bind(null,be,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:Ou,useDeferredValue:function(t,i){var s=rn();return Vu(s,t,i)},useTransition:function(){var t=Hu(!1);return t=Uh.bind(null,be,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var a=be,h=rn();if(qe){if(s===void 0)throw Error(l(407));s=s()}else{if(s=i(),je===null)throw Error(l(349));(Le&127)!==0||ah(a,i,s)}h.memoizedState=s;var y={value:s,getSnapshot:i};return h.queue=y,Ah(ch.bind(null,a,y,t),[t]),a.flags|=2048,ol(9,{destroy:void 0},uh.bind(null,a,y,s,i),null),s},useId:function(){var t=rn(),i=je.identifierPrefix;if(qe){var s=si,a=li;s=(a&~(1<<32-_e(a)-1)).toString(32)+s,i="_"+i+"R_"+s,s=mr++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=CS++,i="_"+i+"r_"+s.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Fu,useFormState:Sh,useActionState:Sh,useOptimistic:function(t){var i=rn();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Yu.bind(null,be,!0,s),s.dispatch=i,[t,i]},useMemoCache:ku,useCacheRefresh:function(){return rn().memoizedState=NS.bind(null,be)},useEffectEvent:function(t){var i=rn(),s={impl:t};return i.memoizedState=s,function(){if((Be&2)!==0)throw Error(l(440));return s.impl.apply(void 0,arguments)}}},Ju={readContext:Bt,use:yr,useCallback:wh,useContext:Bt,useEffect:zu,useImperativeHandle:Nh,useInsertionEffect:Mh,useLayoutEffect:bh,useMemo:Dh,useReducer:vr,useRef:Ch,useState:function(){return vr(vi)},useDebugValue:Ou,useDeferredValue:function(t,i){var s=yt();return Ih(s,$e.memoizedState,t,i)},useTransition:function(){var t=vr(vi)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:es(t),i]},useSyncExternalStore:rh,useId:qh,useHostTransitionStatus:Fu,useFormState:_h,useActionState:_h,useOptimistic:function(t,i){var s=yt();return hh(s,$e,t,i)},useMemoCache:ku,useCacheRefresh:Gh};Ju.useEffectEvent=Rh;var Vh={readContext:Bt,use:yr,useCallback:wh,useContext:Bt,useEffect:zu,useImperativeHandle:Nh,useInsertionEffect:Mh,useLayoutEffect:bh,useMemo:Dh,useReducer:Gu,useRef:Ch,useState:function(){return Gu(vi)},useDebugValue:Ou,useDeferredValue:function(t,i){var s=yt();return $e===null?Vu(s,t,i):Ih(s,$e.memoizedState,t,i)},useTransition:function(){var t=Gu(vi)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:es(t),i]},useSyncExternalStore:rh,useId:qh,useHostTransitionStatus:Fu,useFormState:Th,useActionState:Th,useOptimistic:function(t,i){var s=yt();return $e!==null?hh(s,$e,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:ku,useCacheRefresh:Gh};Vh.useEffectEvent=Rh;function Ku(t,i,s,a){i=t.memoizedState,s=s(a,i),s=s==null?i:S({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var $u={enqueueSetState:function(t,i,s){t=t._reactInternals;var a=Nn(),h=Yi(a);h.payload=i,s!=null&&(h.callback=s),i=Ji(t,h,a),i!==null&&(_n(i,t,a),Ql(i,t,a))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var a=Nn(),h=Yi(a);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=Ji(t,h,a),i!==null&&(_n(i,t,a),Ql(i,t,a))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=Nn(),a=Yi(s);a.tag=2,i!=null&&(a.callback=i),i=Ji(t,a,s),i!==null&&(_n(i,t,s),Ql(i,t,s))}};function Bh(t,i,s,a,h,y,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,y,E):i.prototype&&i.prototype.isPureReactComponent?!Vl(s,a)||!Vl(h,y):!0}function Fh(t,i,s,a){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,a),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,a),i.state!==t&&$u.enqueueReplaceState(i,i.state,null)}function wo(t,i){var s=i;if("ref"in i){s={};for(var a in i)a!=="ref"&&(s[a]=i[a])}if(t=t.defaultProps){s===i&&(s=S({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function Yh(t){js(t)}function Jh(t){console.error(t)}function Kh(t){js(t)}function Tr(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(a){setTimeout(function(){throw a})}}function $h(t,i,s){try{var a=t.onCaughtError;a(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Xu(t,i,s){return s=Yi(s),s.tag=3,s.payload={element:null},s.callback=function(){Tr(t,i)},s}function Xh(t){return t=Yi(t),t.tag=3,t}function Qh(t,i,s,a){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var y=a.value;t.payload=function(){return h(y)},t.callback=function(){$h(i,s,a)}}var E=s.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){$h(i,s,a),typeof h!="function"&&(Wi===null?Wi=new Set([this]):Wi.add(this));var T=a.stack;this.componentDidCatch(a.value,{componentStack:T!==null?T:""})})}function DS(t,i,s,a,h){if(s.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(i=s.alternate,i!==null&&Qo(i,s,h,!0),s=Rn.current,s!==null){switch(s.tag){case 31:case 13:return Hn===null?Lr():s.alternate===null&&pt===0&&(pt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,a===ur?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([a]):i.add(a),_c(t,a,h)),!1;case 22:return s.flags|=65536,a===ur?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([a])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([a]):s.add(a)),_c(t,a,h)),!1}throw Error(l(435,s.tag))}return _c(t,a,h),Lr(),!1}if(qe)return i=Rn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,a!==pu&&(t=Error(l(422),{cause:a}),Yl(Ln(t,s)))):(a!==pu&&(i=Error(l(423),{cause:a}),Yl(Ln(i,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,a=Ln(a,s),h=Xu(t.stateNode,a,h),Ru(t,h),pt!==4&&(pt=2)),!1;var y=Error(l(520),{cause:a});if(y=Ln(y,s),cs===null?cs=[y]:cs.push(y),pt!==4&&(pt=2),i===null)return!0;a=Ln(a,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Xu(s.stateNode,a,t),Ru(s,t),!1;case 1:if(i=s.type,y=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Wi===null||!Wi.has(y))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Xh(h),Qh(h,t,s,a),Ru(s,h),!1}s=s.return}while(s!==null);return!1}var Qu=Error(l(461)),Rt=!1;function Ft(t,i,s,a){i.child=t===null?eh(i,null,s,a):xo(i,t.child,s,a)}function Zh(t,i,s,a,h){s=s.render;var y=i.ref;if("ref"in a){var E={};for(var T in a)T!=="ref"&&(E[T]=a[T])}else E=a;return Ao(i),a=Du(t,i,s,E,y,h),T=Iu(),t!==null&&!Rt?(Uu(t,i,h),Si(t,i,h)):(qe&&T&&du(i),i.flags|=1,Ft(t,i,a,h),i.child)}function Wh(t,i,s,a,h){if(t===null){var y=s.type;return typeof y=="function"&&!uu(y)&&y.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=y,jh(t,i,y,a,h)):(t=ir(s.type,null,a,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(y=t.child,!oc(t,h)){var E=y.memoizedProps;if(s=s.compare,s=s!==null?s:Vl,s(E,a)&&t.ref===i.ref)return Si(t,i,h)}return i.flags|=1,t=hi(y,a),t.ref=i.ref,t.return=i,i.child=t}function jh(t,i,s,a,h){if(t!==null){var y=t.memoizedProps;if(Vl(y,a)&&t.ref===i.ref)if(Rt=!1,i.pendingProps=a=y,oc(t,h))(t.flags&131072)!==0&&(Rt=!0);else return i.lanes=t.lanes,Si(t,i,h)}return Zu(t,i,s,a,h)}function ep(t,i,s,a){var h=a.children,y=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((i.flags&128)!==0){if(y=y!==null?y.baseLanes|s:s,t!==null){for(a=i.child=t.child,h=0;a!==null;)h=h|a.lanes|a.childLanes,a=a.sibling;a=h&~y}else a=0,i.child=null;return tp(t,i,y,s,a)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&rr(i,y!==null?y.cachePool:null),y!==null?ih(i,y):bu(),oh(i);else return a=i.lanes=536870912,tp(t,i,y!==null?y.baseLanes|s:s,s,a)}else y!==null?(rr(i,y.cachePool),ih(i,y),$i(),i.memoizedState=null):(t!==null&&rr(i,null),bu(),$i());return Ft(t,i,h,s),i.child}function is(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function tp(t,i,s,a,h){var y=Eu();return y=y===null?null:{parent:Ct._currentValue,pool:y},i.memoizedState={baseLanes:s,cachePool:y},t!==null&&rr(i,null),bu(),oh(i),t!==null&&Qo(t,i,a,!0),i.childLanes=h,null}function Cr(t,i){return i=Rr({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function np(t,i,s){return xo(i,t.child,null,s),t=Cr(i,i.pendingProps),t.flags|=2,Mn(i),i.memoizedState=null,t}function IS(t,i,s){var a=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(qe){if(a.mode==="hidden")return t=Cr(i,a),i.lanes=536870912,is(null,t);if(Nu(i),(t=ot)?(t=pm(t,Gn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:zi!==null?{id:li,overflow:si}:null,retryLane:536870912,hydrationErrors:null},s=Pd(t),s.return=i,i.child=s,Vt=i,ot=null)):t=null,t===null)throw Vi(i);return i.lanes=536870912,null}return Cr(i,a)}var y=t.memoizedState;if(y!==null){var E=y.dehydrated;if(Nu(i),h)if(i.flags&256)i.flags&=-257,i=np(t,i,s);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(l(558));else if(Rt||Qo(t,i,s,!1),h=(s&t.childLanes)!==0,Rt||h){if(a=je,a!==null&&(E=ne(a,s),E!==0&&E!==y.retryLane))throw y.retryLane=E,_o(t,E),_n(a,t,E),Qu;Lr(),i=np(t,i,s)}else t=y.treeContext,ot=Pn(E.nextSibling),Vt=i,qe=!0,Oi=null,Gn=!1,t!==null&&Vd(i,t),i=Cr(i,a),i.flags|=4096;return i}return t=hi(t.child,{mode:a.mode,children:a.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Ar(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(l(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function Zu(t,i,s,a,h){return Ao(i),s=Du(t,i,s,a,void 0,h),a=Iu(),t!==null&&!Rt?(Uu(t,i,h),Si(t,i,h)):(qe&&a&&du(i),i.flags|=1,Ft(t,i,s,h),i.child)}function ip(t,i,s,a,h,y){return Ao(i),i.updateQueue=null,s=sh(i,a,s,h),lh(t),a=Iu(),t!==null&&!Rt?(Uu(t,i,y),Si(t,i,y)):(qe&&a&&du(i),i.flags|=1,Ft(t,i,s,y),i.child)}function op(t,i,s,a,h){if(Ao(i),i.stateNode===null){var y=Jo,E=s.contextType;typeof E=="object"&&E!==null&&(y=Bt(E)),y=new s(a,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=$u,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=a,y.state=i.memoizedState,y.refs={},Cu(i),E=s.contextType,y.context=typeof E=="object"&&E!==null?Bt(E):Jo,y.state=i.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(Ku(i,s,E,a),y.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&$u.enqueueReplaceState(y,y.state,null),Wl(i,a,y,h),Zl(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),a=!0}else if(t===null){y=i.stateNode;var T=i.memoizedProps,R=wo(s,T);y.props=R;var q=y.context,K=s.contextType;E=Jo,typeof K=="object"&&K!==null&&(E=Bt(K));var Q=s.getDerivedStateFromProps;K=typeof Q=="function"||typeof y.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,K||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T||q!==E)&&Fh(i,y,a,E),Fi=!1;var H=i.memoizedState;y.state=H,Wl(i,a,y,h),Zl(),q=i.memoizedState,T||H!==q||Fi?(typeof Q=="function"&&(Ku(i,s,Q,a),q=i.memoizedState),(R=Fi||Bh(i,s,R,a,H,q,E))?(K||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=a,i.memoizedState=q),y.props=a,y.state=q,y.context=E,a=R):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),a=!1)}else{y=i.stateNode,Au(t,i),E=i.memoizedProps,K=wo(s,E),y.props=K,Q=i.pendingProps,H=y.context,q=s.contextType,R=Jo,typeof q=="object"&&q!==null&&(R=Bt(q)),T=s.getDerivedStateFromProps,(q=typeof T=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==Q||H!==R)&&Fh(i,y,a,R),Fi=!1,H=i.memoizedState,y.state=H,Wl(i,a,y,h),Zl();var V=i.memoizedState;E!==Q||H!==V||Fi||t!==null&&t.dependencies!==null&&lr(t.dependencies)?(typeof T=="function"&&(Ku(i,s,T,a),V=i.memoizedState),(K=Fi||Bh(i,s,K,a,H,V,R)||t!==null&&t.dependencies!==null&&lr(t.dependencies))?(q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(a,V,R),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(a,V,R)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=a,i.memoizedState=V),y.props=a,y.state=V,y.context=R,a=K):(typeof y.componentDidUpdate!="function"||E===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),a=!1)}return y=a,Ar(t,i),a=(i.flags&128)!==0,y||a?(y=i.stateNode,s=a&&typeof s.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,t!==null&&a?(i.child=xo(i,t.child,null,h),i.child=xo(i,null,s,h)):Ft(t,i,s,h),i.memoizedState=y.state,t=i.child):t=Si(t,i,h),t}function lp(t,i,s,a){return To(),i.flags|=256,Ft(t,i,s,a),i.child}var Wu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ju(t){return{baseLanes:t,cachePool:$d()}}function ec(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=xn),t}function sp(t,i,s){var a=i.pendingProps,h=!1,y=(i.flags&128)!==0,E;if((E=y)||(E=t!==null&&t.memoizedState===null?!1:(gt.current&2)!==0),E&&(h=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,t===null){if(qe){if(h?Ki(i):$i(),(t=ot)?(t=pm(t,Gn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:zi!==null?{id:li,overflow:si}:null,retryLane:536870912,hydrationErrors:null},s=Pd(t),s.return=i,i.child=s,Vt=i,ot=null)):t=null,t===null)throw Vi(i);return qc(t)?i.lanes=32:i.lanes=536870912,null}var T=a.children;return a=a.fallback,h?($i(),h=i.mode,T=Rr({mode:"hidden",children:T},h),a=Eo(a,h,s,null),T.return=i,a.return=i,T.sibling=a,i.child=T,a=i.child,a.memoizedState=ju(s),a.childLanes=ec(t,E,s),i.memoizedState=Wu,is(null,a)):(Ki(i),tc(i,T))}var R=t.memoizedState;if(R!==null&&(T=R.dehydrated,T!==null)){if(y)i.flags&256?(Ki(i),i.flags&=-257,i=nc(t,i,s)):i.memoizedState!==null?($i(),i.child=t.child,i.flags|=128,i=null):($i(),T=a.fallback,h=i.mode,a=Rr({mode:"visible",children:a.children},h),T=Eo(T,h,s,null),T.flags|=2,a.return=i,T.return=i,a.sibling=T,i.child=a,xo(i,t.child,null,s),a=i.child,a.memoizedState=ju(s),a.childLanes=ec(t,E,s),i.memoizedState=Wu,i=is(null,a));else if(Ki(i),qc(T)){if(E=T.nextSibling&&T.nextSibling.dataset,E)var q=E.dgst;E=q,a=Error(l(419)),a.stack="",a.digest=E,Yl({value:a,source:null,stack:null}),i=nc(t,i,s)}else if(Rt||Qo(t,i,s,!1),E=(s&t.childLanes)!==0,Rt||E){if(E=je,E!==null&&(a=ne(E,s),a!==0&&a!==R.retryLane))throw R.retryLane=a,_o(t,a),_n(E,t,a),Qu;kc(T)||Lr(),i=nc(t,i,s)}else kc(T)?(i.flags|=192,i.child=t.child,i=null):(t=R.treeContext,ot=Pn(T.nextSibling),Vt=i,qe=!0,Oi=null,Gn=!1,t!==null&&Vd(i,t),i=tc(i,a.children),i.flags|=4096);return i}return h?($i(),T=a.fallback,h=i.mode,R=t.child,q=R.sibling,a=hi(R,{mode:"hidden",children:a.children}),a.subtreeFlags=R.subtreeFlags&65011712,q!==null?T=hi(q,T):(T=Eo(T,h,s,null),T.flags|=2),T.return=i,a.return=i,a.sibling=T,i.child=a,is(null,a),a=i.child,T=t.child.memoizedState,T===null?T=ju(s):(h=T.cachePool,h!==null?(R=Ct._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=$d(),T={baseLanes:T.baseLanes|s,cachePool:h}),a.memoizedState=T,a.childLanes=ec(t,E,s),i.memoizedState=Wu,is(t.child,a)):(Ki(i),s=t.child,t=s.sibling,s=hi(s,{mode:"visible",children:a.children}),s.return=i,s.sibling=null,t!==null&&(E=i.deletions,E===null?(i.deletions=[t],i.flags|=16):E.push(t)),i.child=s,i.memoizedState=null,s)}function tc(t,i){return i=Rr({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Rr(t,i){return t=An(22,t,null,i),t.lanes=0,t}function nc(t,i,s){return xo(i,t.child,null,s),t=tc(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function rp(t,i,s){t.lanes|=i;var a=t.alternate;a!==null&&(a.lanes|=i),yu(t.return,i,s)}function ic(t,i,s,a,h,y){var E=t.memoizedState;E===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:h,treeForkCount:y}:(E.isBackwards=i,E.rendering=null,E.renderingStartTime=0,E.last=a,E.tail=s,E.tailMode=h,E.treeForkCount=y)}function ap(t,i,s){var a=i.pendingProps,h=a.revealOrder,y=a.tail;a=a.children;var E=gt.current,T=(E&2)!==0;if(T?(E=E&1|2,i.flags|=128):E&=1,ie(gt,E),Ft(t,i,a,s),a=qe?Fl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rp(t,s,i);else if(t.tag===19)rp(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=i.child,h=null;s!==null;)t=s.alternate,t!==null&&hr(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),ic(i,!1,h,s,y,a);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&hr(t)===null){i.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}ic(i,!0,s,null,y,a);break;case"together":ic(i,!1,null,null,void 0,a);break;default:i.memoizedState=null}return i.child}function Si(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),Zi|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(Qo(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(l(153));if(i.child!==null){for(t=i.child,s=hi(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=hi(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function oc(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&lr(t)))}function US(t,i,s){switch(i.tag){case 3:Ge(i,i.stateNode.containerInfo),Bi(i,Ct,t.memoizedState.cache),To();break;case 27:case 5:Ze(i);break;case 4:Ge(i,i.stateNode.containerInfo);break;case 10:Bi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Nu(i),null;break;case 13:var a=i.memoizedState;if(a!==null)return a.dehydrated!==null?(Ki(i),i.flags|=128,null):(s&i.child.childLanes)!==0?sp(t,i,s):(Ki(i),t=Si(t,i,s),t!==null?t.sibling:null);Ki(i);break;case 19:var h=(t.flags&128)!==0;if(a=(s&i.childLanes)!==0,a||(Qo(t,i,s,!1),a=(s&i.childLanes)!==0),h){if(a)return ap(t,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(gt,gt.current),a)break;return null;case 22:return i.lanes=0,ep(t,i,s,i.pendingProps);case 24:Bi(i,Ct,t.memoizedState.cache)}return Si(t,i,s)}function up(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)Rt=!0;else{if(!oc(t,s)&&(i.flags&128)===0)return Rt=!1,US(t,i,s);Rt=(t.flags&131072)!==0}else Rt=!1,qe&&(i.flags&1048576)!==0&&Od(i,Fl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var a=i.pendingProps;if(t=Mo(i.elementType),i.type=t,typeof t=="function")uu(t)?(a=wo(t,a),i.tag=1,i=op(null,i,t,a,s)):(i.tag=0,i=Zu(null,i,t,a,s));else{if(t!=null){var h=t.$$typeof;if(h===X){i.tag=11,i=Zh(null,i,t,a,s);break e}else if(h===J){i.tag=14,i=Wh(null,i,t,a,s);break e}}throw i=Re(t)||t,Error(l(306,i,""))}}return i;case 0:return Zu(t,i,i.type,i.pendingProps,s);case 1:return a=i.type,h=wo(a,i.pendingProps),op(t,i,a,h,s);case 3:e:{if(Ge(i,i.stateNode.containerInfo),t===null)throw Error(l(387));a=i.pendingProps;var y=i.memoizedState;h=y.element,Au(t,i),Wl(i,a,null,s);var E=i.memoizedState;if(a=E.cache,Bi(i,Ct,a),a!==y.cache&&vu(i,[Ct],s,!0),Zl(),a=E.element,y.isDehydrated)if(y={element:a,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=lp(t,i,a,s);break e}else if(a!==h){h=Ln(Error(l(424)),i),Yl(h),i=lp(t,i,a,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ot=Pn(t.firstChild),Vt=i,qe=!0,Oi=null,Gn=!0,s=eh(i,null,a,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(To(),a===h){i=Si(t,i,s);break e}Ft(t,i,a,s)}i=i.child}return i;case 26:return Ar(t,i),t===null?(s=_m(i.type,null,i.pendingProps,null))?i.memoizedState=s:qe||(s=i.type,t=i.pendingProps,a=Or(ye.current).createElement(s),a[Et]=i,a[zt]=t,Yt(a,s,t),Tt(a),i.stateNode=a):i.memoizedState=_m(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ze(i),t===null&&qe&&(a=i.stateNode=ym(i.type,i.pendingProps,ye.current),Vt=i,Gn=!0,h=ot,no(i.type)?(Gc=h,ot=Pn(a.firstChild)):ot=h),Ft(t,i,i.pendingProps.children,s),Ar(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&qe&&((h=a=ot)&&(a=u_(a,i.type,i.pendingProps,Gn),a!==null?(i.stateNode=a,Vt=i,ot=Pn(a.firstChild),Gn=!1,h=!0):h=!1),h||Vi(i)),Ze(i),h=i.type,y=i.pendingProps,E=t!==null?t.memoizedProps:null,a=y.children,Ic(h,y)?a=null:E!==null&&Ic(h,E)&&(i.flags|=32),i.memoizedState!==null&&(h=Du(t,i,AS,null,null,s),vs._currentValue=h),Ar(t,i),Ft(t,i,a,s),i.child;case 6:return t===null&&qe&&((t=s=ot)&&(s=c_(s,i.pendingProps,Gn),s!==null?(i.stateNode=s,Vt=i,ot=null,t=!0):t=!1),t||Vi(i)),null;case 13:return sp(t,i,s);case 4:return Ge(i,i.stateNode.containerInfo),a=i.pendingProps,t===null?i.child=xo(i,null,a,s):Ft(t,i,a,s),i.child;case 11:return Zh(t,i,i.type,i.pendingProps,s);case 7:return Ft(t,i,i.pendingProps,s),i.child;case 8:return Ft(t,i,i.pendingProps.children,s),i.child;case 12:return Ft(t,i,i.pendingProps.children,s),i.child;case 10:return a=i.pendingProps,Bi(i,i.type,a.value),Ft(t,i,a.children,s),i.child;case 9:return h=i.type._context,a=i.pendingProps.children,Ao(i),h=Bt(h),a=a(h),i.flags|=1,Ft(t,i,a,s),i.child;case 14:return Wh(t,i,i.type,i.pendingProps,s);case 15:return jh(t,i,i.type,i.pendingProps,s);case 19:return ap(t,i,s);case 31:return IS(t,i,s);case 22:return ep(t,i,s,i.pendingProps);case 24:return Ao(i),a=Bt(Ct),t===null?(h=Eu(),h===null&&(h=je,y=Su(),h.pooledCache=y,y.refCount++,y!==null&&(h.pooledCacheLanes|=s),h=y),i.memoizedState={parent:a,cache:h},Cu(i),Bi(i,Ct,h)):((t.lanes&s)!==0&&(Au(t,i),Wl(i,null,null,s),Zl()),h=t.memoizedState,y=i.memoizedState,h.parent!==a?(h={parent:a,cache:a},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Bi(i,Ct,a)):(a=y.cache,Bi(i,Ct,a),a!==h.cache&&vu(i,[Ct],s,!0))),Ft(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(l(156,i.tag))}function _i(t){t.flags|=4}function lc(t,i,s,a,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(qp())t.flags|=8192;else throw bo=ur,Tu}else t.flags&=-16777217}function cp(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Rm(i))if(qp())t.flags|=8192;else throw bo=ur,Tu}function Mr(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Lt():536870912,t.lanes|=i,al|=i)}function os(t,i){if(!qe)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function lt(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,a=0;if(i)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,a|=h.subtreeFlags&65011712,a|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,a|=h.subtreeFlags,a|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=a,t.childLanes=s,i}function LS(t,i,s){var a=i.pendingProps;switch(hu(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(i),null;case 1:return lt(i),null;case 3:return s=i.stateNode,a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),gi(Ct),He(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Xo(i)?_i(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,mu())),lt(i),null;case 26:var h=i.type,y=i.memoizedState;return t===null?(_i(i),y!==null?(lt(i),cp(i,y)):(lt(i),lc(i,h,null,a,s))):y?y!==t.memoizedState?(_i(i),lt(i),cp(i,y)):(lt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==a&&_i(i),lt(i),lc(i,h,t,a,s)),null;case 27:if(xt(i),s=ye.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==a&&_i(i);else{if(!a){if(i.stateNode===null)throw Error(l(166));return lt(i),null}t=le.current,Xo(i)?Bd(i):(t=ym(h,a,s),i.stateNode=t,_i(i))}return lt(i),null;case 5:if(xt(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==a&&_i(i);else{if(!a){if(i.stateNode===null)throw Error(l(166));return lt(i),null}if(y=le.current,Xo(i))Bd(i);else{var E=Or(ye.current);switch(y){case 1:y=E.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:y=E.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":y=E.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":y=E.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":y=E.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof a.is=="string"?E.createElement("select",{is:a.is}):E.createElement("select"),a.multiple?y.multiple=!0:a.size&&(y.size=a.size);break;default:y=typeof a.is=="string"?E.createElement(h,{is:a.is}):E.createElement(h)}}y[Et]=i,y[zt]=a;e:for(E=i.child;E!==null;){if(E.tag===5||E.tag===6)y.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===i)break e;for(;E.sibling===null;){if(E.return===null||E.return===i)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}i.stateNode=y;e:switch(Yt(y,h,a),h){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&_i(i)}}return lt(i),lc(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,s),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==a&&_i(i);else{if(typeof a!="string"&&i.stateNode===null)throw Error(l(166));if(t=ye.current,Xo(i)){if(t=i.stateNode,s=i.memoizedProps,a=null,h=Vt,h!==null)switch(h.tag){case 27:case 5:a=h.memoizedProps}t[Et]=i,t=!!(t.nodeValue===s||a!==null&&a.suppressHydrationWarning===!0||sm(t.nodeValue,s)),t||Vi(i,!0)}else t=Or(t).createTextNode(a),t[Et]=i,i.stateNode=t}return lt(i),null;case 31:if(s=i.memoizedState,t===null||t.memoizedState!==null){if(a=Xo(i),s!==null){if(t===null){if(!a)throw Error(l(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(557));t[Et]=i}else To(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;lt(i),t=!1}else s=mu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return i.flags&256?(Mn(i),i):(Mn(i),null);if((i.flags&128)!==0)throw Error(l(558))}return lt(i),null;case 13:if(a=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Xo(i),a!==null&&a.dehydrated!==null){if(t===null){if(!h)throw Error(l(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(l(317));h[Et]=i}else To(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;lt(i),h=!1}else h=mu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Mn(i),i):(Mn(i),null)}return Mn(i),(i.flags&128)!==0?(i.lanes=s,i):(s=a!==null,t=t!==null&&t.memoizedState!==null,s&&(a=i.child,h=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(h=a.alternate.memoizedState.cachePool.pool),y=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(y=a.memoizedState.cachePool.pool),y!==h&&(a.flags|=2048)),s!==t&&s&&(i.child.flags|=8192),Mr(i,i.updateQueue),lt(i),null);case 4:return He(),t===null&&bc(i.stateNode.containerInfo),lt(i),null;case 10:return gi(i.type),lt(i),null;case 19:if(Y(gt),a=i.memoizedState,a===null)return lt(i),null;if(h=(i.flags&128)!==0,y=a.rendering,y===null)if(h)os(a,!1);else{if(pt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(y=hr(t),y!==null){for(i.flags|=128,os(a,!1),t=y.updateQueue,i.updateQueue=t,Mr(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)Hd(s,t),s=s.sibling;return ie(gt,gt.current&1|2),qe&&pi(i,a.treeForkCount),i.child}t=t.sibling}a.tail!==null&&at()>Dr&&(i.flags|=128,h=!0,os(a,!1),i.lanes=4194304)}else{if(!h)if(t=hr(y),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Mr(i,t),os(a,!0),a.tail===null&&a.tailMode==="hidden"&&!y.alternate&&!qe)return lt(i),null}else 2*at()-a.renderingStartTime>Dr&&s!==536870912&&(i.flags|=128,h=!0,os(a,!1),i.lanes=4194304);a.isBackwards?(y.sibling=i.child,i.child=y):(t=a.last,t!==null?t.sibling=y:i.child=y,a.last=y)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=at(),t.sibling=null,s=gt.current,ie(gt,h?s&1|2:s&1),qe&&pi(i,a.treeForkCount),t):(lt(i),null);case 22:case 23:return Mn(i),xu(),a=i.memoizedState!==null,t!==null?t.memoizedState!==null!==a&&(i.flags|=8192):a&&(i.flags|=8192),a?(s&536870912)!==0&&(i.flags&128)===0&&(lt(i),i.subtreeFlags&6&&(i.flags|=8192)):lt(i),s=i.updateQueue,s!==null&&Mr(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==s&&(i.flags|=2048),t!==null&&Y(Ro),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),gi(Ct),lt(i),null;case 25:return null;case 30:return null}throw Error(l(156,i.tag))}function kS(t,i){switch(hu(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return gi(Ct),He(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return xt(i),null;case 31:if(i.memoizedState!==null){if(Mn(i),i.alternate===null)throw Error(l(340));To()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Mn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(l(340));To()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Y(gt),null;case 4:return He(),null;case 10:return gi(i.type),null;case 22:case 23:return Mn(i),xu(),t!==null&&Y(Ro),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return gi(Ct),null;case 25:return null;default:return null}}function fp(t,i){switch(hu(i),i.tag){case 3:gi(Ct),He();break;case 26:case 27:case 5:xt(i);break;case 4:He();break;case 31:i.memoizedState!==null&&Mn(i);break;case 13:Mn(i);break;case 19:Y(gt);break;case 10:gi(i.type);break;case 22:case 23:Mn(i),xu(),t!==null&&Y(Ro);break;case 24:gi(Ct)}}function ls(t,i){try{var s=i.updateQueue,a=s!==null?s.lastEffect:null;if(a!==null){var h=a.next;s=h;do{if((s.tag&t)===t){a=void 0;var y=s.create,E=s.inst;a=y(),E.destroy=a}s=s.next}while(s!==h)}}catch(T){Je(i,i.return,T)}}function Xi(t,i,s){try{var a=i.updateQueue,h=a!==null?a.lastEffect:null;if(h!==null){var y=h.next;a=y;do{if((a.tag&t)===t){var E=a.inst,T=E.destroy;if(T!==void 0){E.destroy=void 0,h=i;var R=s,q=T;try{q()}catch(K){Je(h,R,K)}}}a=a.next}while(a!==y)}}catch(K){Je(i,i.return,K)}}function dp(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{nh(i,s)}catch(a){Je(t,t.return,a)}}}function hp(t,i,s){s.props=wo(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(a){Je(t,i,a)}}function ss(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var a=t.stateNode;break;case 30:a=t.stateNode;break;default:a=t.stateNode}typeof s=="function"?t.refCleanup=s(a):s.current=a}}catch(h){Je(t,i,h)}}function ri(t,i){var s=t.ref,a=t.refCleanup;if(s!==null)if(typeof a=="function")try{a()}catch(h){Je(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Je(t,i,h)}else s.current=null}function pp(t){var i=t.type,s=t.memoizedProps,a=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&a.focus();break e;case"img":s.src?a.src=s.src:s.srcSet&&(a.srcset=s.srcSet)}}catch(h){Je(t,t.return,h)}}function sc(t,i,s){try{var a=t.stateNode;i_(a,t.type,s,i),a[zt]=i}catch(h){Je(t,t.return,h)}}function mp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&no(t.type)||t.tag===4}function rc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&no(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ac(t,i,s){var a=t.tag;if(a===5||a===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=fi));else if(a!==4&&(a===27&&no(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(ac(t,i,s),t=t.sibling;t!==null;)ac(t,i,s),t=t.sibling}function br(t,i,s){var a=t.tag;if(a===5||a===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(a!==4&&(a===27&&no(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(br(t,i,s),t=t.sibling;t!==null;)br(t,i,s),t=t.sibling}function gp(t){var i=t.stateNode,s=t.memoizedProps;try{for(var a=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Yt(i,a,s),i[Et]=t,i[zt]=s}catch(y){Je(t,t.return,y)}}var Ei=!1,Mt=!1,uc=!1,yp=typeof WeakSet=="function"?WeakSet:Set,qt=null;function qS(t,i){if(t=t.containerInfo,wc=$r,t=Nd(t),nu(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var h=a.anchorOffset,y=a.focusNode;a=a.focusOffset;try{s.nodeType,y.nodeType}catch{s=null;break e}var E=0,T=-1,R=-1,q=0,K=0,Q=t,H=null;t:for(;;){for(var V;Q!==s||h!==0&&Q.nodeType!==3||(T=E+h),Q!==y||a!==0&&Q.nodeType!==3||(R=E+a),Q.nodeType===3&&(E+=Q.nodeValue.length),(V=Q.firstChild)!==null;)H=Q,Q=V;for(;;){if(Q===t)break t;if(H===s&&++q===h&&(T=E),H===y&&++K===a&&(R=E),(V=Q.nextSibling)!==null)break;Q=H,H=Q.parentNode}Q=V}s=T===-1||R===-1?null:{start:T,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(Dc={focusedElem:t,selectionRange:s},$r=!1,qt=i;qt!==null;)if(i=qt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,qt=t;else for(;qt!==null;){switch(i=qt,y=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&y!==null){t=void 0,s=i,h=y.memoizedProps,y=y.memoizedState,a=s.stateNode;try{var ce=wo(s.type,h);t=a.getSnapshotBeforeUpdate(ce,y),a.__reactInternalSnapshotBeforeUpdate=t}catch(Se){Je(s,s.return,Se)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)Lc(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Lc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=i.sibling,t!==null){t.return=i.return,qt=t;break}qt=i.return}}function vp(t,i,s){var a=s.flags;switch(s.tag){case 0:case 11:case 15:Ci(t,s),a&4&&ls(5,s);break;case 1:if(Ci(t,s),a&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(E){Je(s,s.return,E)}else{var h=wo(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Je(s,s.return,E)}}a&64&&dp(s),a&512&&ss(s,s.return);break;case 3:if(Ci(t,s),a&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{nh(t,i)}catch(E){Je(s,s.return,E)}}break;case 27:i===null&&a&4&&gp(s);case 26:case 5:Ci(t,s),i===null&&a&4&&pp(s),a&512&&ss(s,s.return);break;case 12:Ci(t,s);break;case 31:Ci(t,s),a&4&&Ep(t,s);break;case 13:Ci(t,s),a&4&&Tp(t,s),a&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=YS.bind(null,s),f_(t,s))));break;case 22:if(a=s.memoizedState!==null||Ei,!a){i=i!==null&&i.memoizedState!==null||Mt,h=Ei;var y=Mt;Ei=a,(Mt=i)&&!y?Ai(t,s,(s.subtreeFlags&8772)!==0):Ci(t,s),Ei=h,Mt=y}break;case 30:break;default:Ci(t,s)}}function Sp(t){var i=t.alternate;i!==null&&(t.alternate=null,Sp(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Il(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,gn=!1;function Ti(t,i,s){for(s=s.child;s!==null;)_p(t,i,s),s=s.sibling}function _p(t,i,s){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(Kn,s)}catch{}switch(s.tag){case 26:Mt||ri(s,i),Ti(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Mt||ri(s,i);var a=ut,h=gn;no(s.type)&&(ut=s.stateNode,gn=!1),Ti(t,i,s),ms(s.stateNode),ut=a,gn=h;break;case 5:Mt||ri(s,i);case 6:if(a=ut,h=gn,ut=null,Ti(t,i,s),ut=a,gn=h,ut!==null)if(gn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(s.stateNode)}catch(y){Je(s,i,y)}else try{ut.removeChild(s.stateNode)}catch(y){Je(s,i,y)}break;case 18:ut!==null&&(gn?(t=ut,dm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),gl(t)):dm(ut,s.stateNode));break;case 4:a=ut,h=gn,ut=s.stateNode.containerInfo,gn=!0,Ti(t,i,s),ut=a,gn=h;break;case 0:case 11:case 14:case 15:Xi(2,s,i),Mt||Xi(4,s,i),Ti(t,i,s);break;case 1:Mt||(ri(s,i),a=s.stateNode,typeof a.componentWillUnmount=="function"&&hp(s,i,a)),Ti(t,i,s);break;case 21:Ti(t,i,s);break;case 22:Mt=(a=Mt)||s.memoizedState!==null,Ti(t,i,s),Mt=a;break;default:Ti(t,i,s)}}function Ep(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{gl(t)}catch(s){Je(i,i.return,s)}}}function Tp(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{gl(t)}catch(s){Je(i,i.return,s)}}function GS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new yp),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new yp),i;default:throw Error(l(435,t.tag))}}function xr(t,i){var s=GS(t);i.forEach(function(a){if(!s.has(a)){s.add(a);var h=JS.bind(null,t,a);a.then(h,h)}})}function yn(t,i){var s=i.deletions;if(s!==null)for(var a=0;a<s.length;a++){var h=s[a],y=t,E=i,T=E;e:for(;T!==null;){switch(T.tag){case 27:if(no(T.type)){ut=T.stateNode,gn=!1;break e}break;case 5:ut=T.stateNode,gn=!1;break e;case 3:case 4:ut=T.stateNode.containerInfo,gn=!0;break e}T=T.return}if(ut===null)throw Error(l(160));_p(y,E,h),ut=null,gn=!1,y=h.alternate,y!==null&&(y.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Cp(i,t),i=i.sibling}var Zn=null;function Cp(t,i){var s=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:yn(i,t),vn(t),a&4&&(Xi(3,t,t.return),ls(3,t),Xi(5,t,t.return));break;case 1:yn(i,t),vn(t),a&512&&(Mt||s===null||ri(s,s.return)),a&64&&Ei&&(t=t.updateQueue,t!==null&&(a=t.callbacks,a!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?a:s.concat(a))));break;case 26:var h=Zn;if(yn(i,t),vn(t),a&512&&(Mt||s===null||ri(s,s.return)),a&4){var y=s!==null?s.memoizedState:null;if(a=t.memoizedState,s===null)if(a===null)if(t.stateNode===null){e:{a=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(a){case"title":y=h.getElementsByTagName("title")[0],(!y||y[mo]||y[Et]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=h.createElement(a),h.head.insertBefore(y,h.querySelector("head > title"))),Yt(y,a,s),y[Et]=t,Tt(y),a=y;break e;case"link":var E=Cm("link","href",h).get(a+(s.href||""));if(E){for(var T=0;T<E.length;T++)if(y=E[T],y.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&y.getAttribute("rel")===(s.rel==null?null:s.rel)&&y.getAttribute("title")===(s.title==null?null:s.title)&&y.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){E.splice(T,1);break t}}y=h.createElement(a),Yt(y,a,s),h.head.appendChild(y);break;case"meta":if(E=Cm("meta","content",h).get(a+(s.content||""))){for(T=0;T<E.length;T++)if(y=E[T],y.getAttribute("content")===(s.content==null?null:""+s.content)&&y.getAttribute("name")===(s.name==null?null:s.name)&&y.getAttribute("property")===(s.property==null?null:s.property)&&y.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&y.getAttribute("charset")===(s.charSet==null?null:s.charSet)){E.splice(T,1);break t}}y=h.createElement(a),Yt(y,a,s),h.head.appendChild(y);break;default:throw Error(l(468,a))}y[Et]=t,Tt(y),a=y}t.stateNode=a}else Am(h,t.type,t.stateNode);else t.stateNode=Tm(h,a,t.memoizedProps);else y!==a?(y===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):y.count--,a===null?Am(h,t.type,t.stateNode):Tm(h,a,t.memoizedProps)):a===null&&t.stateNode!==null&&sc(t,t.memoizedProps,s.memoizedProps)}break;case 27:yn(i,t),vn(t),a&512&&(Mt||s===null||ri(s,s.return)),s!==null&&a&4&&sc(t,t.memoizedProps,s.memoizedProps);break;case 5:if(yn(i,t),vn(t),a&512&&(Mt||s===null||ri(s,s.return)),t.flags&32){h=t.stateNode;try{Po(h,"")}catch(ce){Je(t,t.return,ce)}}a&4&&t.stateNode!=null&&(h=t.memoizedProps,sc(t,h,s!==null?s.memoizedProps:h)),a&1024&&(uc=!0);break;case 6:if(yn(i,t),vn(t),a&4){if(t.stateNode===null)throw Error(l(162));a=t.memoizedProps,s=t.stateNode;try{s.nodeValue=a}catch(ce){Je(t,t.return,ce)}}break;case 3:if(Fr=null,h=Zn,Zn=Vr(i.containerInfo),yn(i,t),Zn=h,vn(t),a&4&&s!==null&&s.memoizedState.isDehydrated)try{gl(i.containerInfo)}catch(ce){Je(t,t.return,ce)}uc&&(uc=!1,Ap(t));break;case 4:a=Zn,Zn=Vr(t.stateNode.containerInfo),yn(i,t),vn(t),Zn=a;break;case 12:yn(i,t),vn(t);break;case 31:yn(i,t),vn(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,xr(t,a)));break;case 13:yn(i,t),vn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(wr=at()),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,xr(t,a)));break;case 22:h=t.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,q=Ei,K=Mt;if(Ei=q||h,Mt=K||R,yn(i,t),Mt=K,Ei=q,vn(t),a&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||R||Ei||Mt||Do(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){R=s=i;try{if(y=R.stateNode,h)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{T=R.stateNode;var Q=R.memoizedProps.style,H=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(ce){Je(R,R.return,ce)}}}else if(i.tag===6){if(s===null){R=i;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ce){Je(R,R.return,ce)}}}else if(i.tag===18){if(s===null){R=i;try{var V=R.stateNode;h?hm(V,!0):hm(R.stateNode,!1)}catch(ce){Je(R,R.return,ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}a&4&&(a=t.updateQueue,a!==null&&(s=a.retryQueue,s!==null&&(a.retryQueue=null,xr(t,s))));break;case 19:yn(i,t),vn(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,xr(t,a)));break;case 30:break;case 21:break;default:yn(i,t),vn(t)}}function vn(t){var i=t.flags;if(i&2){try{for(var s,a=t.return;a!==null;){if(mp(a)){s=a;break}a=a.return}if(s==null)throw Error(l(160));switch(s.tag){case 27:var h=s.stateNode,y=rc(t);br(t,y,h);break;case 5:var E=s.stateNode;s.flags&32&&(Po(E,""),s.flags&=-33);var T=rc(t);br(t,T,E);break;case 3:case 4:var R=s.stateNode.containerInfo,q=rc(t);ac(t,q,R);break;default:throw Error(l(161))}}catch(K){Je(t,t.return,K)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Ap(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Ap(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Ci(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)vp(t,i.alternate,i),i=i.sibling}function Do(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Xi(4,i,i.return),Do(i);break;case 1:ri(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&hp(i,i.return,s),Do(i);break;case 27:ms(i.stateNode);case 26:case 5:ri(i,i.return),Do(i);break;case 22:i.memoizedState===null&&Do(i);break;case 30:Do(i);break;default:Do(i)}t=t.sibling}}function Ai(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var a=i.alternate,h=t,y=i,E=y.flags;switch(y.tag){case 0:case 11:case 15:Ai(h,y,s),ls(4,y);break;case 1:if(Ai(h,y,s),a=y,h=a.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){Je(a,a.return,q)}if(a=y,h=a.updateQueue,h!==null){var T=a.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)th(R[h],T)}catch(q){Je(a,a.return,q)}}s&&E&64&&dp(y),ss(y,y.return);break;case 27:gp(y);case 26:case 5:Ai(h,y,s),s&&a===null&&E&4&&pp(y),ss(y,y.return);break;case 12:Ai(h,y,s);break;case 31:Ai(h,y,s),s&&E&4&&Ep(h,y);break;case 13:Ai(h,y,s),s&&E&4&&Tp(h,y);break;case 22:y.memoizedState===null&&Ai(h,y,s),ss(y,y.return);break;case 30:break;default:Ai(h,y,s)}i=i.sibling}}function cc(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Jl(s))}function fc(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Jl(t))}function Wn(t,i,s,a){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Rp(t,i,s,a),i=i.sibling}function Rp(t,i,s,a){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Wn(t,i,s,a),h&2048&&ls(9,i);break;case 1:Wn(t,i,s,a);break;case 3:Wn(t,i,s,a),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Jl(t)));break;case 12:if(h&2048){Wn(t,i,s,a),t=i.stateNode;try{var y=i.memoizedProps,E=y.id,T=y.onPostCommit;typeof T=="function"&&T(E,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Je(i,i.return,R)}}else Wn(t,i,s,a);break;case 31:Wn(t,i,s,a);break;case 13:Wn(t,i,s,a);break;case 23:break;case 22:y=i.stateNode,E=i.alternate,i.memoizedState!==null?y._visibility&2?Wn(t,i,s,a):rs(t,i):y._visibility&2?Wn(t,i,s,a):(y._visibility|=2,ll(t,i,s,a,(i.subtreeFlags&10256)!==0||!1)),h&2048&&cc(E,i);break;case 24:Wn(t,i,s,a),h&2048&&fc(i.alternate,i);break;default:Wn(t,i,s,a)}}function ll(t,i,s,a,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var y=t,E=i,T=s,R=a,q=E.flags;switch(E.tag){case 0:case 11:case 15:ll(y,E,T,R,h),ls(8,E);break;case 23:break;case 22:var K=E.stateNode;E.memoizedState!==null?K._visibility&2?ll(y,E,T,R,h):rs(y,E):(K._visibility|=2,ll(y,E,T,R,h)),h&&q&2048&&cc(E.alternate,E);break;case 24:ll(y,E,T,R,h),h&&q&2048&&fc(E.alternate,E);break;default:ll(y,E,T,R,h)}i=i.sibling}}function rs(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,a=i,h=a.flags;switch(a.tag){case 22:rs(s,a),h&2048&&cc(a.alternate,a);break;case 24:rs(s,a),h&2048&&fc(a.alternate,a);break;default:rs(s,a)}i=i.sibling}}var as=8192;function sl(t,i,s){if(t.subtreeFlags&as)for(t=t.child;t!==null;)Mp(t,i,s),t=t.sibling}function Mp(t,i,s){switch(t.tag){case 26:sl(t,i,s),t.flags&as&&t.memoizedState!==null&&C_(s,Zn,t.memoizedState,t.memoizedProps);break;case 5:sl(t,i,s);break;case 3:case 4:var a=Zn;Zn=Vr(t.stateNode.containerInfo),sl(t,i,s),Zn=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=as,as=16777216,sl(t,i,s),as=a):sl(t,i,s));break;default:sl(t,i,s)}}function bp(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function us(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var a=i[s];qt=a,Np(a,t)}bp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)xp(t),t=t.sibling}function xp(t){switch(t.tag){case 0:case 11:case 15:us(t),t.flags&2048&&Xi(9,t,t.return);break;case 3:us(t);break;case 12:us(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Nr(t)):us(t);break;default:us(t)}}function Nr(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var a=i[s];qt=a,Np(a,t)}bp(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Xi(8,i,i.return),Nr(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Nr(i));break;default:Nr(i)}t=t.sibling}}function Np(t,i){for(;qt!==null;){var s=qt;switch(s.tag){case 0:case 11:case 15:Xi(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var a=s.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Jl(s.memoizedState.cache)}if(a=s.child,a!==null)a.return=s,qt=a;else e:for(s=t;qt!==null;){a=qt;var h=a.sibling,y=a.return;if(Sp(a),a===s){qt=null;break e}if(h!==null){h.return=y,qt=h;break e}qt=y}}}var HS={getCacheForType:function(t){var i=Bt(Ct),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s},cacheSignal:function(){return Bt(Ct).controller.signal}},PS=typeof WeakMap=="function"?WeakMap:Map,Be=0,je=null,Ie=null,Le=0,Ye=0,bn=null,Qi=!1,rl=!1,dc=!1,Ri=0,pt=0,Zi=0,Io=0,hc=0,xn=0,al=0,cs=null,Sn=null,pc=!1,wr=0,wp=0,Dr=1/0,Ir=null,Wi=null,wt=0,ji=null,ul=null,Mi=0,mc=0,gc=null,Dp=null,fs=0,yc=null;function Nn(){return(Be&2)!==0&&Le!==0?Le&-Le:z.T!==null?Cc():dt()}function Ip(){if(xn===0)if((Le&536870912)===0||qe){var t=pn;pn<<=1,(pn&3932160)===0&&(pn=262144),xn=t}else xn=536870912;return t=Rn.current,t!==null&&(t.flags|=32),xn}function _n(t,i,s){(t===je&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(cl(t,0),eo(t,Le,xn,!1)),P(t,s),((Be&2)===0||t!==je)&&(t===je&&((Be&2)===0&&(Io|=s),pt===4&&eo(t,Le,xn,!1)),ai(t))}function Up(t,i,s){if((Be&6)!==0)throw Error(l(327));var a=!s&&(i&127)===0&&(i&t.expiredLanes)===0||Qt(t,i),h=a?VS(t,i):Sc(t,i,!0),y=a;do{if(h===0){rl&&!a&&eo(t,i,0,!1);break}else{if(s=t.current.alternate,y&&!zS(s)){h=Sc(t,i,!1),y=!1;continue}if(h===2){if(y=i,t.errorRecoveryDisabledLanes&y)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var T=t;h=cs;var R=T.current.memoizedState.isDehydrated;if(R&&(cl(T,E).flags|=256),E=Sc(T,E,!1),E!==2){if(dc&&!R){T.errorRecoveryDisabledLanes|=y,Io|=y,h=4;break e}y=Sn,Sn=h,y!==null&&(Sn===null?Sn=y:Sn.push.apply(Sn,y))}h=E}if(y=!1,h!==2)continue}}if(h===1){cl(t,0),eo(t,i,0,!0);break}e:{switch(a=t,y=h,y){case 0:case 1:throw Error(l(345));case 4:if((i&4194048)!==i)break;case 6:eo(a,i,xn,!Qi);break e;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(l(329))}if((i&62914560)===i&&(h=wr+300-at(),10<h)){if(eo(a,i,xn,!Qi),_t(a,0,!0)!==0)break e;Mi=i,a.timeoutHandle=cm(Lp.bind(null,a,s,Sn,Ir,pc,i,xn,Io,al,Qi,y,"Throttled",-0,0),h);break e}Lp(a,s,Sn,Ir,pc,i,xn,Io,al,Qi,y,null,-0,0)}}break}while(!0);ai(t)}function Lp(t,i,s,a,h,y,E,T,R,q,K,Q,H,V){if(t.timeoutHandle=-1,Q=i.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fi},Mp(i,y,Q);var ce=(y&62914560)===y?wr-at():(y&4194048)===y?wp-at():0;if(ce=A_(Q,ce),ce!==null){Mi=y,t.cancelPendingCommit=ce(Vp.bind(null,t,i,y,s,a,h,E,T,R,K,Q,null,H,V)),eo(t,y,E,!q);return}}Vp(t,i,y,s,a,h,E,T,R)}function zS(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var a=0;a<s.length;a++){var h=s[a],y=h.getSnapshot;h=h.value;try{if(!Cn(y(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function eo(t,i,s,a){i&=~hc,i&=~Io,t.suspendedLanes|=i,t.pingedLanes&=~i,a&&(t.warmLanes|=i),a=t.expirationTimes;for(var h=i;0<h;){var y=31-_e(h),E=1<<y;a[y]=-1,h&=~E}s!==0&&ft(t,s,i)}function Ur(){return(Be&6)===0?(ds(0),!1):!0}function vc(){if(Ie!==null){if(Ye===0)var t=Ie.return;else t=Ie,mi=Co=null,Lu(t),el=null,$l=0,t=Ie;for(;t!==null;)fp(t.alternate,t),t=t.return;Ie=null}}function cl(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,s_(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Mi=0,vc(),je=t,Ie=s=hi(t.current,null),Le=i,Ye=0,bn=null,Qi=!1,rl=Qt(t,i),dc=!1,al=xn=hc=Io=Zi=pt=0,Sn=cs=null,pc=!1,(i&8)!==0&&(i|=i&32);var a=t.entangledLanes;if(a!==0)for(t=t.entanglements,a&=i;0<a;){var h=31-_e(a),y=1<<h;i|=t[h],a&=~y}return Ri=i,er(),s}function kp(t,i){be=null,z.H=ns,i===jo||i===ar?(i=Zd(),Ye=3):i===Tu?(i=Zd(),Ye=4):Ye=i===Qu?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bn=i,Ie===null&&(pt=1,Tr(t,Ln(i,t.current)))}function qp(){var t=Rn.current;return t===null?!0:(Le&4194048)===Le?Hn===null:(Le&62914560)===Le||(Le&536870912)!==0?t===Hn:!1}function Gp(){var t=z.H;return z.H=ns,t===null?ns:t}function Hp(){var t=z.A;return z.A=HS,t}function Lr(){pt=4,Qi||(Le&4194048)!==Le&&Rn.current!==null||(rl=!0),(Zi&134217727)===0&&(Io&134217727)===0||je===null||eo(je,Le,xn,!1)}function Sc(t,i,s){var a=Be;Be|=2;var h=Gp(),y=Hp();(je!==t||Le!==i)&&(Ir=null,cl(t,i)),i=!1;var E=pt;e:do try{if(Ye!==0&&Ie!==null){var T=Ie,R=bn;switch(Ye){case 8:vc(),E=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(i=!0);var q=Ye;if(Ye=0,bn=null,fl(t,T,R,q),s&&rl){E=0;break e}break;default:q=Ye,Ye=0,bn=null,fl(t,T,R,q)}}OS(),E=pt;break}catch(K){kp(t,K)}while(!0);return i&&t.shellSuspendCounter++,mi=Co=null,Be=a,z.H=h,z.A=y,Ie===null&&(je=null,Le=0,er()),E}function OS(){for(;Ie!==null;)Pp(Ie)}function VS(t,i){var s=Be;Be|=2;var a=Gp(),h=Hp();je!==t||Le!==i?(Ir=null,Dr=at()+500,cl(t,i)):rl=Qt(t,i);e:do try{if(Ye!==0&&Ie!==null){i=Ie;var y=bn;t:switch(Ye){case 1:Ye=0,bn=null,fl(t,i,y,1);break;case 2:case 9:if(Xd(y)){Ye=0,bn=null,zp(i);break}i=function(){Ye!==2&&Ye!==9||je!==t||(Ye=7),ai(t)},y.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Xd(y)?(Ye=0,bn=null,zp(i)):(Ye=0,bn=null,fl(t,i,y,7));break;case 5:var E=null;switch(Ie.tag){case 26:E=Ie.memoizedState;case 5:case 27:var T=Ie;if(E?Rm(E):T.stateNode.complete){Ye=0,bn=null;var R=T.sibling;if(R!==null)Ie=R;else{var q=T.return;q!==null?(Ie=q,kr(q)):Ie=null}break t}}Ye=0,bn=null,fl(t,i,y,5);break;case 6:Ye=0,bn=null,fl(t,i,y,6);break;case 8:vc(),pt=6;break e;default:throw Error(l(462))}}BS();break}catch(K){kp(t,K)}while(!0);return mi=Co=null,z.H=a,z.A=h,Be=s,Ie!==null?0:(je=null,Le=0,er(),pt)}function BS(){for(;Ie!==null&&!ii();)Pp(Ie)}function Pp(t){var i=up(t.alternate,t,Ri);t.memoizedProps=t.pendingProps,i===null?kr(t):Ie=i}function zp(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=ip(s,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=ip(s,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:Lu(i);default:fp(s,i),i=Ie=Hd(i,Ri),i=up(s,i,Ri)}t.memoizedProps=t.pendingProps,i===null?kr(t):Ie=i}function fl(t,i,s,a){mi=Co=null,Lu(i),el=null,$l=0;var h=i.return;try{if(DS(t,h,i,s,Le)){pt=1,Tr(t,Ln(s,t.current)),Ie=null;return}}catch(y){if(h!==null)throw Ie=h,y;pt=1,Tr(t,Ln(s,t.current)),Ie=null;return}i.flags&32768?(qe||a===1?t=!0:rl||(Le&536870912)!==0?t=!1:(Qi=t=!0,(a===2||a===9||a===3||a===6)&&(a=Rn.current,a!==null&&a.tag===13&&(a.flags|=16384))),Op(i,t)):kr(i)}function kr(t){var i=t;do{if((i.flags&32768)!==0){Op(i,Qi);return}t=i.return;var s=LS(i.alternate,i,Ri);if(s!==null){Ie=s;return}if(i=i.sibling,i!==null){Ie=i;return}Ie=i=t}while(i!==null);pt===0&&(pt=5)}function Op(t,i){do{var s=kS(t.alternate,t);if(s!==null){s.flags&=32767,Ie=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){Ie=t;return}Ie=t=s}while(t!==null);pt=6,Ie=null}function Vp(t,i,s,a,h,y,E,T,R){t.cancelPendingCommit=null;do qr();while(wt!==0);if((Be&6)!==0)throw Error(l(327));if(i!==null){if(i===t.current)throw Error(l(177));if(y=i.lanes|i.childLanes,y|=ru,nt(t,s,y,E,T,R),t===je&&(Ie=je=null,Le=0),ul=i,ji=t,Mi=s,mc=y,gc=h,Dp=a,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,KS($t,function(){return Kp(),null})):(t.callbackNode=null,t.callbackPriority=0),a=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||a){a=z.T,z.T=null,h=te.p,te.p=2,E=Be,Be|=4;try{qS(t,i,s)}finally{Be=E,te.p=h,z.T=a}}wt=1,Bp(),Fp(),Yp()}}function Bp(){if(wt===1){wt=0;var t=ji,i=ul,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=z.T,z.T=null;var a=te.p;te.p=2;var h=Be;Be|=4;try{Cp(i,t);var y=Dc,E=Nd(t.containerInfo),T=y.focusedElem,R=y.selectionRange;if(E!==T&&T&&T.ownerDocument&&xd(T.ownerDocument.documentElement,T)){if(R!==null&&nu(T)){var q=R.start,K=R.end;if(K===void 0&&(K=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min(K,T.value.length);else{var Q=T.ownerDocument||document,H=Q&&Q.defaultView||window;if(H.getSelection){var V=H.getSelection(),ce=T.textContent.length,Se=Math.min(R.start,ce),Qe=R.end===void 0?Se:Math.min(R.end,ce);!V.extend&&Se>Qe&&(E=Qe,Qe=Se,Se=E);var I=bd(T,Se),w=bd(T,Qe);if(I&&w&&(V.rangeCount!==1||V.anchorNode!==I.node||V.anchorOffset!==I.offset||V.focusNode!==w.node||V.focusOffset!==w.offset)){var k=Q.createRange();k.setStart(I.node,I.offset),V.removeAllRanges(),Se>Qe?(V.addRange(k),V.extend(w.node,w.offset)):(k.setEnd(w.node,w.offset),V.addRange(k))}}}}for(Q=[],V=T;V=V.parentNode;)V.nodeType===1&&Q.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Q.length;T++){var $=Q[T];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}$r=!!wc,Dc=wc=null}finally{Be=h,te.p=a,z.T=s}}t.current=i,wt=2}}function Fp(){if(wt===2){wt=0;var t=ji,i=ul,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=z.T,z.T=null;var a=te.p;te.p=2;var h=Be;Be|=4;try{vp(t,i.alternate,i)}finally{Be=h,te.p=a,z.T=s}}wt=3}}function Yp(){if(wt===4||wt===3){wt=0,Tn();var t=ji,i=ul,s=Mi,a=Dp;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?wt=5:(wt=0,ul=ji=null,Jp(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Wi=null),Ke(s),i=i.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(Kn,i,void 0,(i.current.flags&128)===128)}catch{}if(a!==null){i=z.T,h=te.p,te.p=2,z.T=null;try{for(var y=t.onRecoverableError,E=0;E<a.length;E++){var T=a[E];y(T.value,{componentStack:T.stack})}}finally{z.T=i,te.p=h}}(Mi&3)!==0&&qr(),ai(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===yc?fs++:(fs=0,yc=t):fs=0,ds(0)}}function Jp(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Jl(i)))}function qr(){return Bp(),Fp(),Yp(),Kp()}function Kp(){if(wt!==5)return!1;var t=ji,i=mc;mc=0;var s=Ke(Mi),a=z.T,h=te.p;try{te.p=32>s?32:s,z.T=null,s=gc,gc=null;var y=ji,E=Mi;if(wt=0,ul=ji=null,Mi=0,(Be&6)!==0)throw Error(l(331));var T=Be;if(Be|=4,xp(y.current),Rp(y,y.current,E,s),Be=T,ds(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(Kn,y)}catch{}return!0}finally{te.p=h,z.T=a,Jp(t,i)}}function $p(t,i,s){i=Ln(s,i),i=Xu(t.stateNode,i,2),t=Ji(t,i,2),t!==null&&(P(t,2),ai(t))}function Je(t,i,s){if(t.tag===3)$p(t,t,s);else for(;i!==null;){if(i.tag===3){$p(i,t,s);break}else if(i.tag===1){var a=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Wi===null||!Wi.has(a))){t=Ln(s,t),s=Xh(2),a=Ji(i,s,2),a!==null&&(Qh(s,a,i,t),P(a,2),ai(a));break}}i=i.return}}function _c(t,i,s){var a=t.pingCache;if(a===null){a=t.pingCache=new PS;var h=new Set;a.set(i,h)}else h=a.get(i),h===void 0&&(h=new Set,a.set(i,h));h.has(s)||(dc=!0,h.add(s),t=FS.bind(null,t,i,s),i.then(t,t))}function FS(t,i,s){var a=t.pingCache;a!==null&&a.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,je===t&&(Le&s)===s&&(pt===4||pt===3&&(Le&62914560)===Le&&300>at()-wr?(Be&2)===0&&cl(t,0):hc|=s,al===Le&&(al=0)),ai(t)}function Xp(t,i){i===0&&(i=Lt()),t=_o(t,i),t!==null&&(P(t,i),ai(t))}function YS(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),Xp(t,s)}function JS(t,i){var s=0;switch(t.tag){case 31:case 13:var a=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:a=t.stateNode;break;case 22:a=t.stateNode._retryCache;break;default:throw Error(l(314))}a!==null&&a.delete(i),Xp(t,s)}function KS(t,i){return St(t,i)}var Gr=null,dl=null,Ec=!1,Hr=!1,Tc=!1,to=0;function ai(t){t!==dl&&t.next===null&&(dl===null?Gr=dl=t:dl=dl.next=t),Hr=!0,Ec||(Ec=!0,XS())}function ds(t,i){if(!Tc&&Hr){Tc=!0;do for(var s=!1,a=Gr;a!==null;){if(t!==0){var h=a.pendingLanes;if(h===0)var y=0;else{var E=a.suspendedLanes,T=a.pingedLanes;y=(1<<31-_e(42|t)+1)-1,y&=h&~(E&~T),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(s=!0,jp(a,y))}else y=Le,y=_t(a,a===je?y:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(y&3)===0||Qt(a,y)||(s=!0,jp(a,y));a=a.next}while(s);Tc=!1}}function $S(){Qp()}function Qp(){Hr=Ec=!1;var t=0;to!==0&&l_()&&(t=to);for(var i=at(),s=null,a=Gr;a!==null;){var h=a.next,y=Zp(a,i);y===0?(a.next=null,s===null?Gr=h:s.next=h,h===null&&(dl=s)):(s=a,(t!==0||(y&3)!==0)&&(Hr=!0)),a=h}wt!==0&&wt!==5||ds(t),to!==0&&(to=0)}function Zp(t,i){for(var s=t.suspendedLanes,a=t.pingedLanes,h=t.expirationTimes,y=t.pendingLanes&-62914561;0<y;){var E=31-_e(y),T=1<<E,R=h[E];R===-1?((T&s)===0||(T&a)!==0)&&(h[E]=Zt(T,i)):R<=i&&(t.expiredLanes|=T),y&=~T}if(i=je,s=Le,s=_t(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a=t.callbackNode,s===0||t===i&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return a!==null&&a!==null&&En(a),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Qt(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(a!==null&&En(a),Ke(s)){case 2:case 8:s=dn;break;case 32:s=$t;break;case 268435456:s=ui;break;default:s=$t}return a=Wp.bind(null,t),s=St(s,a),t.callbackPriority=i,t.callbackNode=s,i}return a!==null&&a!==null&&En(a),t.callbackPriority=2,t.callbackNode=null,2}function Wp(t,i){if(wt!==0&&wt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(qr()&&t.callbackNode!==s)return null;var a=Le;return a=_t(t,t===je?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a===0?null:(Up(t,a,i),Zp(t,at()),t.callbackNode!=null&&t.callbackNode===s?Wp.bind(null,t):null)}function jp(t,i){if(qr())return null;Up(t,i,!0)}function XS(){r_(function(){(Be&6)!==0?St(Ui,$S):Qp()})}function Cc(){if(to===0){var t=Zo;t===0&&(t=Ut,Ut<<=1,(Ut&261888)===0&&(Ut=256)),to=t}return to}function em(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Js(""+t)}function tm(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function QS(t,i,s,a,h){if(i==="submit"&&s&&s.stateNode===h){var y=em((h[zt]||null).action),E=a.submitter;E&&(i=(i=E[zt]||null)?em(i.formAction):E.getAttribute("formAction"),i!==null&&(y=i,E=null));var T=new Qs("action","action",null,a,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(to!==0){var R=E?tm(h,E):new FormData(h);Bu(s,{pending:!0,data:R,method:h.method,action:y},null,R)}}else typeof y=="function"&&(T.preventDefault(),R=E?tm(h,E):new FormData(h),Bu(s,{pending:!0,data:R,method:h.method,action:y},y,R))},currentTarget:h}]})}}for(var Ac=0;Ac<su.length;Ac++){var Rc=su[Ac],ZS=Rc.toLowerCase(),WS=Rc[0].toUpperCase()+Rc.slice(1);Qn(ZS,"on"+WS)}Qn(Id,"onAnimationEnd"),Qn(Ud,"onAnimationIteration"),Qn(Ld,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(pS,"onTransitionRun"),Qn(mS,"onTransitionStart"),Qn(gS,"onTransitionCancel"),Qn(kd,"onTransitionEnd"),Hi("onMouseEnter",["mouseout","mouseover"]),Hi("onMouseLeave",["mouseout","mouseover"]),Hi("onPointerEnter",["pointerout","pointerover"]),Hi("onPointerLeave",["pointerout","pointerover"]),$n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$n("onBeforeInput",["compositionend","keypress","textInput","paste"]),$n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hs));function nm(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var a=t[s],h=a.event;a=a.listeners;e:{var y=void 0;if(i)for(var E=a.length-1;0<=E;E--){var T=a[E],R=T.instance,q=T.currentTarget;if(T=T.listener,R!==y&&h.isPropagationStopped())break e;y=T,h.currentTarget=q;try{y(h)}catch(K){js(K)}h.currentTarget=null,y=R}else for(E=0;E<a.length;E++){if(T=a[E],R=T.instance,q=T.currentTarget,T=T.listener,R!==y&&h.isPropagationStopped())break e;y=T,h.currentTarget=q;try{y(h)}catch(K){js(K)}h.currentTarget=null,y=R}}}}function Ue(t,i){var s=i[wl];s===void 0&&(s=i[wl]=new Set);var a=t+"__bubble";s.has(a)||(im(i,t,2,!1),s.add(a))}function Mc(t,i,s){var a=0;i&&(a|=4),im(s,t,a,i)}var Pr="_reactListening"+Math.random().toString(36).slice(2);function bc(t){if(!t[Pr]){t[Pr]=!0,Bs.forEach(function(s){s!=="selectionchange"&&(jS.has(s)||Mc(s,!1,t),Mc(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Pr]||(i[Pr]=!0,Mc("selectionchange",!1,i))}}function im(t,i,s,a){switch(Im(i)){case 2:var h=b_;break;case 8:h=x_;break;default:h=Vc}s=h.bind(null,i,s,t),h=void 0,!Ka||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),a?h!==void 0?t.addEventListener(i,s,{capture:!0,passive:h}):t.addEventListener(i,s,!0):h!==void 0?t.addEventListener(i,s,{passive:h}):t.addEventListener(i,s,!1)}function xc(t,i,s,a,h){var y=a;if((i&1)===0&&(i&2)===0&&a!==null)e:for(;;){if(a===null)return;var E=a.tag;if(E===3||E===4){var T=a.stateNode.containerInfo;if(T===h)break;if(E===4)for(E=a.return;E!==null;){var R=E.tag;if((R===3||R===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;T!==null;){if(E=ki(T),E===null)return;if(R=E.tag,R===5||R===6||R===26||R===27){a=y=E;continue e}T=T.parentNode}}a=a.return}ad(function(){var q=y,K=Ya(s),Q=[];e:{var H=qd.get(t);if(H!==void 0){var V=Qs,ce=t;switch(t){case"keypress":if($s(s)===0)break e;case"keydown":case"keyup":V=Jv;break;case"focusin":ce="focus",V=Za;break;case"focusout":ce="blur",V=Za;break;case"beforeblur":case"afterblur":V=Za;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=fd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=Lv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=Xv;break;case Id:case Ud:case Ld:V=Gv;break;case kd:V=Zv;break;case"scroll":case"scrollend":V=Iv;break;case"wheel":V=jv;break;case"copy":case"cut":case"paste":V=Pv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=hd;break;case"toggle":case"beforetoggle":V=tS}var Se=(i&4)!==0,Qe=!Se&&(t==="scroll"||t==="scrollend"),I=Se?H!==null?H+"Capture":null:H;Se=[];for(var w=q,k;w!==null;){var $=w;if(k=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||k===null||I===null||($=kl(w,I),$!=null&&Se.push(ps(w,$,k))),Qe)break;w=w.return}0<Se.length&&(H=new V(H,ce,null,s,K),Q.push({event:H,listeners:Se}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",V=t==="mouseout"||t==="pointerout",H&&s!==Fa&&(ce=s.relatedTarget||s.fromElement)&&(ki(ce)||ce[fe]))break e;if((V||H)&&(H=K.window===K?K:(H=K.ownerDocument)?H.defaultView||H.parentWindow:window,V?(ce=s.relatedTarget||s.toElement,V=q,ce=ce?ki(ce):null,ce!==null&&(Qe=u(ce),Se=ce.tag,ce!==Qe||Se!==5&&Se!==27&&Se!==6)&&(ce=null)):(V=null,ce=q),V!==ce)){if(Se=fd,$="onMouseLeave",I="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(Se=hd,$="onPointerLeave",I="onPointerEnter",w="pointer"),Qe=V==null?H:qi(V),k=ce==null?H:qi(ce),H=new Se($,w+"leave",V,s,K),H.target=Qe,H.relatedTarget=k,$=null,ki(K)===q&&(Se=new Se(I,w+"enter",ce,s,K),Se.target=k,Se.relatedTarget=Qe,$=Se),Qe=$,V&&ce)t:{for(Se=e_,I=V,w=ce,k=0,$=I;$;$=Se($))k++;$=0;for(var me=w;me;me=Se(me))$++;for(;0<k-$;)I=Se(I),k--;for(;0<$-k;)w=Se(w),$--;for(;k--;){if(I===w||w!==null&&I===w.alternate){Se=I;break t}I=Se(I),w=Se(w)}Se=null}else Se=null;V!==null&&om(Q,H,V,Se,!1),ce!==null&&Qe!==null&&om(Q,Qe,ce,Se,!0)}}e:{if(H=q?qi(q):window,V=H.nodeName&&H.nodeName.toLowerCase(),V==="select"||V==="input"&&H.type==="file")var Pe=Ed;else if(Sd(H))if(Td)Pe=fS;else{Pe=uS;var de=aS}else V=H.nodeName,!V||V.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&Ba(q.elementType)&&(Pe=Ed):Pe=cS;if(Pe&&(Pe=Pe(t,q))){_d(Q,Pe,s,K);break e}de&&de(t,H,q),t==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&Va(H,"number",H.value)}switch(de=q?qi(q):window,t){case"focusin":(Sd(de)||de.contentEditable==="true")&&(Bo=de,iu=q,Bl=null);break;case"focusout":Bl=iu=Bo=null;break;case"mousedown":ou=!0;break;case"contextmenu":case"mouseup":case"dragend":ou=!1,wd(Q,s,K);break;case"selectionchange":if(hS)break;case"keydown":case"keyup":wd(Q,s,K)}var xe;if(ja)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Vo?yd(t,s)&&(ke="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(ke="onCompositionStart");ke&&(pd&&s.locale!=="ko"&&(Vo||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Vo&&(xe=ud()):(Pi=K,$a="value"in Pi?Pi.value:Pi.textContent,Vo=!0)),de=zr(q,ke),0<de.length&&(ke=new dd(ke,t,null,s,K),Q.push({event:ke,listeners:de}),xe?ke.data=xe:(xe=vd(s),xe!==null&&(ke.data=xe)))),(xe=iS?oS(t,s):lS(t,s))&&(ke=zr(q,"onBeforeInput"),0<ke.length&&(de=new dd("onBeforeInput","beforeinput",null,s,K),Q.push({event:de,listeners:ke}),de.data=xe)),QS(Q,t,q,s,K)}nm(Q,i)})}function ps(t,i,s){return{instance:t,listener:i,currentTarget:s}}function zr(t,i){for(var s=i+"Capture",a=[];t!==null;){var h=t,y=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||y===null||(h=kl(t,s),h!=null&&a.unshift(ps(t,h,y)),h=kl(t,i),h!=null&&a.push(ps(t,h,y))),t.tag===3)return a;t=t.return}return[]}function e_(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function om(t,i,s,a,h){for(var y=i._reactName,E=[];s!==null&&s!==a;){var T=s,R=T.alternate,q=T.stateNode;if(T=T.tag,R!==null&&R===a)break;T!==5&&T!==26&&T!==27||q===null||(R=q,h?(q=kl(s,y),q!=null&&E.unshift(ps(s,q,R))):h||(q=kl(s,y),q!=null&&E.push(ps(s,q,R)))),s=s.return}E.length!==0&&t.push({event:i,listeners:E})}var t_=/\r\n?/g,n_=/\u0000|\uFFFD/g;function lm(t){return(typeof t=="string"?t:""+t).replace(t_,`
`).replace(n_,"")}function sm(t,i){return i=lm(i),lm(t)===i}function Xe(t,i,s,a,h,y){switch(s){case"children":typeof a=="string"?i==="body"||i==="textarea"&&a===""||Po(t,a):(typeof a=="number"||typeof a=="bigint")&&i!=="body"&&Po(t,""+a);break;case"className":F(t,"class",a);break;case"tabIndex":F(t,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":F(t,s,a);break;case"style":sd(t,a,y);break;case"data":if(i!=="object"){F(t,"data",a);break}case"src":case"href":if(a===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(s);break}a=Js(""+a),t.setAttribute(s,a);break;case"action":case"formAction":if(typeof a=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(s==="formAction"?(i!=="input"&&Xe(t,i,"name",h.name,h,null),Xe(t,i,"formEncType",h.formEncType,h,null),Xe(t,i,"formMethod",h.formMethod,h,null),Xe(t,i,"formTarget",h.formTarget,h,null)):(Xe(t,i,"encType",h.encType,h,null),Xe(t,i,"method",h.method,h,null),Xe(t,i,"target",h.target,h,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(s);break}a=Js(""+a),t.setAttribute(s,a);break;case"onClick":a!=null&&(t.onclick=fi);break;case"onScroll":a!=null&&Ue("scroll",t);break;case"onScrollEnd":a!=null&&Ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(l(61));if(s=a.__html,s!=null){if(h.children!=null)throw Error(l(60));t.innerHTML=s}}break;case"multiple":t.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":t.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){t.removeAttribute("xlink:href");break}s=Js(""+a),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(s,""+a):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":a===!0?t.setAttribute(s,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(s,a):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?t.setAttribute(s,a):t.removeAttribute(s);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?t.removeAttribute(s):t.setAttribute(s,a);break;case"popover":Ue("beforetoggle",t),Ue("toggle",t),L(t,"popover",a);break;case"xlinkActuate":O(t,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":O(t,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":O(t,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":O(t,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":O(t,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":O(t,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":O(t,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":O(t,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":O(t,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":L(t,"is",a);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=wv.get(s)||s,L(t,s,a))}}function Nc(t,i,s,a,h,y){switch(s){case"style":sd(t,a,y);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(l(61));if(s=a.__html,s!=null){if(h.children!=null)throw Error(l(60));t.innerHTML=s}}break;case"children":typeof a=="string"?Po(t,a):(typeof a=="number"||typeof a=="bigint")&&Po(t,""+a);break;case"onScroll":a!=null&&Ue("scroll",t);break;case"onScrollEnd":a!=null&&Ue("scrollend",t);break;case"onClick":a!=null&&(t.onclick=fi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ul.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),y=t[zt]||null,y=y!=null?y[s]:null,typeof y=="function"&&t.removeEventListener(i,y,h),typeof a=="function")){typeof y!="function"&&y!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,a,h);break e}s in t?t[s]=a:a===!0?t.setAttribute(s,""):L(t,s,a)}}}function Yt(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",t),Ue("load",t);var a=!1,h=!1,y;for(y in s)if(s.hasOwnProperty(y)){var E=s[y];if(E!=null)switch(y){case"src":a=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:Xe(t,i,y,E,s,null)}}h&&Xe(t,i,"srcSet",s.srcSet,s,null),a&&Xe(t,i,"src",s.src,s,null);return;case"input":Ue("invalid",t);var T=y=E=h=null,R=null,q=null;for(a in s)if(s.hasOwnProperty(a)){var K=s[a];if(K!=null)switch(a){case"name":h=K;break;case"type":E=K;break;case"checked":R=K;break;case"defaultChecked":q=K;break;case"value":y=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(l(137,i));break;default:Xe(t,i,a,K,s,null)}}nd(t,y,T,R,q,E,h,!1);return;case"select":Ue("invalid",t),a=E=y=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":y=T;break;case"defaultValue":E=T;break;case"multiple":a=T;default:Xe(t,i,h,T,s,null)}i=y,s=E,t.multiple=!!a,i!=null?Ho(t,!!a,i,!1):s!=null&&Ho(t,!!a,s,!0);return;case"textarea":Ue("invalid",t),y=h=a=null;for(E in s)if(s.hasOwnProperty(E)&&(T=s[E],T!=null))switch(E){case"value":a=T;break;case"defaultValue":h=T;break;case"children":y=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(l(91));break;default:Xe(t,i,E,T,s,null)}od(t,a,h,y);return;case"option":for(R in s)if(s.hasOwnProperty(R)&&(a=s[R],a!=null))switch(R){case"selected":t.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Xe(t,i,R,a,s,null)}return;case"dialog":Ue("beforetoggle",t),Ue("toggle",t),Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":Ue("load",t);break;case"video":case"audio":for(a=0;a<hs.length;a++)Ue(hs[a],t);break;case"image":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"embed":case"source":case"link":Ue("error",t),Ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in s)if(s.hasOwnProperty(q)&&(a=s[q],a!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:Xe(t,i,q,a,s,null)}return;default:if(Ba(i)){for(K in s)s.hasOwnProperty(K)&&(a=s[K],a!==void 0&&Nc(t,i,K,a,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(a=s[T],a!=null&&Xe(t,i,T,a,s,null))}function i_(t,i,s,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,y=null,E=null,T=null,R=null,q=null,K=null;for(V in s){var Q=s[V];if(s.hasOwnProperty(V)&&Q!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":R=Q;default:a.hasOwnProperty(V)||Xe(t,i,V,null,a,Q)}}for(var H in a){var V=a[H];if(Q=s[H],a.hasOwnProperty(H)&&(V!=null||Q!=null))switch(H){case"type":y=V;break;case"name":h=V;break;case"checked":q=V;break;case"defaultChecked":K=V;break;case"value":E=V;break;case"defaultValue":T=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(l(137,i));break;default:V!==Q&&Xe(t,i,H,V,a,Q)}}Oa(t,E,T,R,q,K,y,h);return;case"select":V=E=T=H=null;for(y in s)if(R=s[y],s.hasOwnProperty(y)&&R!=null)switch(y){case"value":break;case"multiple":V=R;default:a.hasOwnProperty(y)||Xe(t,i,y,null,a,R)}for(h in a)if(y=a[h],R=s[h],a.hasOwnProperty(h)&&(y!=null||R!=null))switch(h){case"value":H=y;break;case"defaultValue":T=y;break;case"multiple":E=y;default:y!==R&&Xe(t,i,h,y,a,R)}i=T,s=E,a=V,H!=null?Ho(t,!!s,H,!1):!!a!=!!s&&(i!=null?Ho(t,!!s,i,!0):Ho(t,!!s,s?[]:"",!1));return;case"textarea":V=H=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!a.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Xe(t,i,T,null,a,h)}for(E in a)if(h=a[E],y=s[E],a.hasOwnProperty(E)&&(h!=null||y!=null))switch(E){case"value":H=h;break;case"defaultValue":V=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(l(91));break;default:h!==y&&Xe(t,i,E,h,a,y)}id(t,H,V);return;case"option":for(var ce in s)if(H=s[ce],s.hasOwnProperty(ce)&&H!=null&&!a.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:Xe(t,i,ce,null,a,H)}for(R in a)if(H=a[R],V=s[R],a.hasOwnProperty(R)&&H!==V&&(H!=null||V!=null))switch(R){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Xe(t,i,R,H,a,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in s)H=s[Se],s.hasOwnProperty(Se)&&H!=null&&!a.hasOwnProperty(Se)&&Xe(t,i,Se,null,a,H);for(q in a)if(H=a[q],V=s[q],a.hasOwnProperty(q)&&H!==V&&(H!=null||V!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(l(137,i));break;default:Xe(t,i,q,H,a,V)}return;default:if(Ba(i)){for(var Qe in s)H=s[Qe],s.hasOwnProperty(Qe)&&H!==void 0&&!a.hasOwnProperty(Qe)&&Nc(t,i,Qe,void 0,a,H);for(K in a)H=a[K],V=s[K],!a.hasOwnProperty(K)||H===V||H===void 0&&V===void 0||Nc(t,i,K,H,a,V);return}}for(var I in s)H=s[I],s.hasOwnProperty(I)&&H!=null&&!a.hasOwnProperty(I)&&Xe(t,i,I,null,a,H);for(Q in a)H=a[Q],V=s[Q],!a.hasOwnProperty(Q)||H===V||H==null&&V==null||Xe(t,i,Q,H,a,V)}function rm(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function o_(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,s=performance.getEntriesByType("resource"),a=0;a<s.length;a++){var h=s[a],y=h.transferSize,E=h.initiatorType,T=h.duration;if(y&&T&&rm(E)){for(E=0,T=h.responseEnd,a+=1;a<s.length;a++){var R=s[a],q=R.startTime;if(q>T)break;var K=R.transferSize,Q=R.initiatorType;K&&rm(Q)&&(R=R.responseEnd,E+=K*(R<T?1:(T-q)/(R-q)))}if(--a,i+=8*(y+E)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var wc=null,Dc=null;function Or(t){return t.nodeType===9?t:t.ownerDocument}function am(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function um(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Ic(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Uc=null;function l_(){var t=window.event;return t&&t.type==="popstate"?t===Uc?!1:(Uc=t,!0):(Uc=null,!1)}var cm=typeof setTimeout=="function"?setTimeout:void 0,s_=typeof clearTimeout=="function"?clearTimeout:void 0,fm=typeof Promise=="function"?Promise:void 0,r_=typeof queueMicrotask=="function"?queueMicrotask:typeof fm<"u"?function(t){return fm.resolve(null).then(t).catch(a_)}:cm;function a_(t){setTimeout(function(){throw t})}function no(t){return t==="head"}function dm(t,i){var s=i,a=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(a===0){t.removeChild(h),gl(i);return}a--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")a++;else if(s==="html")ms(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,ms(s);for(var y=s.firstChild;y;){var E=y.nextSibling,T=y.nodeName;y[mo]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&y.rel.toLowerCase()==="stylesheet"||s.removeChild(y),y=E}}else s==="body"&&ms(t.ownerDocument.body);s=h}while(s);gl(i)}function hm(t,i){var s=t;t=0;do{var a=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=a}while(s)}function Lc(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Lc(s),Il(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function u_(t,i,s,a){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!a&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(a){if(!t[mo])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(y=t.getAttribute("rel"),y==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(y!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(y=t.getAttribute("src"),(y!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&y&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var y=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===y)return t}else return t;if(t=Pn(t.nextSibling),t===null)break}return null}function c_(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Pn(t.nextSibling),t===null))return null;return t}function pm(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Pn(t.nextSibling),t===null))return null;return t}function kc(t){return t.data==="$?"||t.data==="$~"}function qc(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function f_(t,i){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||s.readyState!=="loading")i();else{var a=function(){i(),s.removeEventListener("DOMContentLoaded",a)};s.addEventListener("DOMContentLoaded",a),t._reactRetry=a}}function Pn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Gc=null;function mm(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(i===0)return Pn(t.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}t=t.nextSibling}return null}function gm(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return t;i--}else s!=="/$"&&s!=="/&"||i++}t=t.previousSibling}return null}function ym(t,i,s){switch(i=Or(s),t){case"html":if(t=i.documentElement,!t)throw Error(l(452));return t;case"head":if(t=i.head,!t)throw Error(l(453));return t;case"body":if(t=i.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function ms(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Il(t)}var zn=new Map,vm=new Set;function Vr(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var bi=te.d;te.d={f:d_,r:h_,D:p_,C:m_,L:g_,m:y_,X:S_,S:v_,M:__};function d_(){var t=bi.f(),i=Ur();return t||i}function h_(t){var i=ci(t);i!==null&&i.tag===5&&i.type==="form"?kh(i):bi.r(t)}var hl=typeof document>"u"?null:document;function Sm(t,i,s){var a=hl;if(a&&typeof i=="string"&&i){var h=In(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),vm.has(h)||(vm.add(h),t={rel:t,crossOrigin:s,href:i},a.querySelector(h)===null&&(i=a.createElement("link"),Yt(i,"link",t),Tt(i),a.head.appendChild(i)))}}function p_(t){bi.D(t),Sm("dns-prefetch",t,null)}function m_(t,i){bi.C(t,i),Sm("preconnect",t,i)}function g_(t,i,s){bi.L(t,i,s);var a=hl;if(a&&t&&i){var h='link[rel="preload"][as="'+In(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+In(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+In(s.imageSizes)+'"]')):h+='[href="'+In(t)+'"]';var y=h;switch(i){case"style":y=pl(t);break;case"script":y=ml(t)}zn.has(y)||(t=S({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),zn.set(y,t),a.querySelector(h)!==null||i==="style"&&a.querySelector(gs(y))||i==="script"&&a.querySelector(ys(y))||(i=a.createElement("link"),Yt(i,"link",t),Tt(i),a.head.appendChild(i)))}}function y_(t,i){bi.m(t,i);var s=hl;if(s&&t){var a=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+In(a)+'"][href="'+In(t)+'"]',y=h;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=ml(t)}if(!zn.has(y)&&(t=S({rel:"modulepreload",href:t},i),zn.set(y,t),s.querySelector(h)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ys(y)))return}a=s.createElement("link"),Yt(a,"link",t),Tt(a),s.head.appendChild(a)}}}function v_(t,i,s){bi.S(t,i,s);var a=hl;if(a&&t){var h=Gi(a).hoistableStyles,y=pl(t);i=i||"default";var E=h.get(y);if(!E){var T={loading:0,preload:null};if(E=a.querySelector(gs(y)))T.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},s),(s=zn.get(y))&&Hc(t,s);var R=E=a.createElement("link");Tt(R),Yt(R,"link",t),R._p=new Promise(function(q,K){R.onload=q,R.onerror=K}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Br(E,i,a)}E={type:"stylesheet",instance:E,count:1,state:T},h.set(y,E)}}}function S_(t,i){bi.X(t,i);var s=hl;if(s&&t){var a=Gi(s).hoistableScripts,h=ml(t),y=a.get(h);y||(y=s.querySelector(ys(h)),y||(t=S({src:t,async:!0},i),(i=zn.get(h))&&Pc(t,i),y=s.createElement("script"),Tt(y),Yt(y,"link",t),s.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},a.set(h,y))}}function __(t,i){bi.M(t,i);var s=hl;if(s&&t){var a=Gi(s).hoistableScripts,h=ml(t),y=a.get(h);y||(y=s.querySelector(ys(h)),y||(t=S({src:t,async:!0,type:"module"},i),(i=zn.get(h))&&Pc(t,i),y=s.createElement("script"),Tt(y),Yt(y,"link",t),s.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},a.set(h,y))}}function _m(t,i,s,a){var h=(h=ye.current)?Vr(h):null;if(!h)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=pl(s.href),s=Gi(h).hoistableStyles,a=s.get(i),a||(a={type:"style",instance:null,count:0,state:null},s.set(i,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=pl(s.href);var y=Gi(h).hoistableStyles,E=y.get(t);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(t,E),(y=h.querySelector(gs(t)))&&!y._p&&(E.instance=y,E.state.loading=5),zn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},zn.set(t,s),y||E_(h,t,s,E.state))),i&&a===null)throw Error(l(528,""));return E}if(i&&a!==null)throw Error(l(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ml(s),s=Gi(h).hoistableScripts,a=s.get(i),a||(a={type:"script",instance:null,count:0,state:null},s.set(i,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function pl(t){return'href="'+In(t)+'"'}function gs(t){return'link[rel="stylesheet"]['+t+"]"}function Em(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function E_(t,i,s,a){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?a.loading=1:(i=t.createElement("link"),a.preload=i,i.addEventListener("load",function(){return a.loading|=1}),i.addEventListener("error",function(){return a.loading|=2}),Yt(i,"link",s),Tt(i),t.head.appendChild(i))}function ml(t){return'[src="'+In(t)+'"]'}function ys(t){return"script[async]"+t}function Tm(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var a=t.querySelector('style[data-href~="'+In(s.href)+'"]');if(a)return i.instance=a,Tt(a),a;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return a=(t.ownerDocument||t).createElement("style"),Tt(a),Yt(a,"style",h),Br(a,s.precedence,t),i.instance=a;case"stylesheet":h=pl(s.href);var y=t.querySelector(gs(h));if(y)return i.state.loading|=4,i.instance=y,Tt(y),y;a=Em(s),(h=zn.get(h))&&Hc(a,h),y=(t.ownerDocument||t).createElement("link"),Tt(y);var E=y;return E._p=new Promise(function(T,R){E.onload=T,E.onerror=R}),Yt(y,"link",a),i.state.loading|=4,Br(y,s.precedence,t),i.instance=y;case"script":return y=ml(s.src),(h=t.querySelector(ys(y)))?(i.instance=h,Tt(h),h):(a=s,(h=zn.get(y))&&(a=S({},s),Pc(a,h)),t=t.ownerDocument||t,h=t.createElement("script"),Tt(h),Yt(h,"link",a),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(l(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(a=i.instance,i.state.loading|=4,Br(a,s.precedence,t));return i.instance}function Br(t,i,s){for(var a=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=a.length?a[a.length-1]:null,y=h,E=0;E<a.length;E++){var T=a[E];if(T.dataset.precedence===i)y=T;else if(y!==h)break}y?y.parentNode.insertBefore(t,y.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function Hc(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Pc(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Fr=null;function Cm(t,i,s){if(Fr===null){var a=new Map,h=Fr=new Map;h.set(s,a)}else h=Fr,a=h.get(s),a||(a=new Map,h.set(s,a));if(a.has(t))return a;for(a.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var y=s[h];if(!(y[mo]||y[Et]||t==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(i)||"";E=t+E;var T=a.get(E);T?T.push(y):a.set(E,[y])}}return a}function Am(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function T_(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Rm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function C_(t,i,s,a){if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=pl(a.href),y=i.querySelector(gs(h));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Yr.bind(t),i.then(t,t)),s.state.loading|=4,s.instance=y,Tt(y);return}y=i.ownerDocument||i,a=Em(a),(h=zn.get(h))&&Hc(a,h),y=y.createElement("link"),Tt(y);var E=y;E._p=new Promise(function(T,R){E.onload=T,E.onerror=R}),Yt(y,"link",a),s.instance=y}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Yr.bind(t),i.addEventListener("load",s),i.addEventListener("error",s))}}var zc=0;function A_(t,i){return t.stylesheets&&t.count===0&&Kr(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var a=setTimeout(function(){if(t.stylesheets&&Kr(t,t.stylesheets),t.unsuspend){var y=t.unsuspend;t.unsuspend=null,y()}},6e4+i);0<t.imgBytes&&zc===0&&(zc=62500*o_());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Kr(t,t.stylesheets),t.unsuspend)){var y=t.unsuspend;t.unsuspend=null,y()}},(t.imgBytes>zc?50:800)+i);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(a),clearTimeout(h)}}:null}function Yr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kr(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Jr=null;function Kr(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Jr=new Map,i.forEach(R_,t),Jr=null,Yr.call(t))}function R_(t,i){if(!(i.state.loading&4)){var s=Jr.get(t);if(s)var a=s.get(null);else{s=new Map,Jr.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<h.length;y++){var E=h[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(s.set(E.dataset.precedence,E),a=E)}a&&s.set(null,a)}h=i.instance,E=h.getAttribute("data-precedence"),y=s.get(E)||a,y===a&&s.set(null,h),s.set(E,h),this.count++,a=Yr.bind(this),h.addEventListener("load",a),h.addEventListener("error",a),y?y.parentNode.insertBefore(h,y.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var vs={$$typeof:U,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function M_(t,i,s,a,h,y,E,T,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wt(0),this.hiddenUpdates=Wt(null),this.identifierPrefix=a,this.onUncaughtError=h,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Mm(t,i,s,a,h,y,E,T,R,q,K,Q){return t=new M_(t,i,s,E,R,q,K,Q,T),i=1,y===!0&&(i|=24),y=An(3,null,null,i),t.current=y,y.stateNode=t,i=Su(),i.refCount++,t.pooledCache=i,i.refCount++,y.memoizedState={element:a,isDehydrated:s,cache:i},Cu(y),t}function bm(t){return t?(t=Jo,t):Jo}function xm(t,i,s,a,h,y){h=bm(h),a.context===null?a.context=h:a.pendingContext=h,a=Yi(i),a.payload={element:s},y=y===void 0?null:y,y!==null&&(a.callback=y),s=Ji(t,a,i),s!==null&&(_n(s,t,i),Ql(s,t,i))}function Nm(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function Oc(t,i){Nm(t,i),(t=t.alternate)&&Nm(t,i)}function wm(t){if(t.tag===13||t.tag===31){var i=_o(t,67108864);i!==null&&_n(i,t,67108864),Oc(t,67108864)}}function Dm(t){if(t.tag===13||t.tag===31){var i=Nn();i=sn(i);var s=_o(t,i);s!==null&&_n(s,t,i),Oc(t,i)}}var $r=!0;function b_(t,i,s,a){var h=z.T;z.T=null;var y=te.p;try{te.p=2,Vc(t,i,s,a)}finally{te.p=y,z.T=h}}function x_(t,i,s,a){var h=z.T;z.T=null;var y=te.p;try{te.p=8,Vc(t,i,s,a)}finally{te.p=y,z.T=h}}function Vc(t,i,s,a){if($r){var h=Bc(a);if(h===null)xc(t,i,a,Xr,s),Um(t,a);else if(w_(h,t,i,s,a))a.stopPropagation();else if(Um(t,a),i&4&&-1<N_.indexOf(t)){for(;h!==null;){var y=ci(h);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=ct(y.pendingLanes);if(E!==0){var T=y;for(T.pendingLanes|=2,T.entangledLanes|=2;E;){var R=1<<31-_e(E);T.entanglements[1]|=R,E&=~R}ai(y),(Be&6)===0&&(Dr=at()+500,ds(0))}}break;case 31:case 13:T=_o(y,2),T!==null&&_n(T,y,2),Ur(),Oc(y,2)}if(y=Bc(a),y===null&&xc(t,i,a,Xr,s),y===h)break;h=y}h!==null&&a.stopPropagation()}else xc(t,i,a,null,s)}}function Bc(t){return t=Ya(t),Fc(t)}var Xr=null;function Fc(t){if(Xr=null,t=ki(t),t!==null){var i=u(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=f(i),t!==null)return t;t=null}else if(s===31){if(t=p(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Xr=t,null}function Im(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(po()){case Ui:return 2;case dn:return 8;case $t:case Jn:return 32;case ui:return 268435456;default:return 32}default:return 32}}var Yc=!1,io=null,oo=null,lo=null,Ss=new Map,_s=new Map,so=[],N_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Um(t,i){switch(t){case"focusin":case"focusout":io=null;break;case"dragenter":case"dragleave":oo=null;break;case"mouseover":case"mouseout":lo=null;break;case"pointerover":case"pointerout":Ss.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":_s.delete(i.pointerId)}}function Es(t,i,s,a,h,y){return t===null||t.nativeEvent!==y?(t={blockedOn:i,domEventName:s,eventSystemFlags:a,nativeEvent:y,targetContainers:[h]},i!==null&&(i=ci(i),i!==null&&wm(i)),t):(t.eventSystemFlags|=a,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function w_(t,i,s,a,h){switch(i){case"focusin":return io=Es(io,t,i,s,a,h),!0;case"dragenter":return oo=Es(oo,t,i,s,a,h),!0;case"mouseover":return lo=Es(lo,t,i,s,a,h),!0;case"pointerover":var y=h.pointerId;return Ss.set(y,Es(Ss.get(y)||null,t,i,s,a,h)),!0;case"gotpointercapture":return y=h.pointerId,_s.set(y,Es(_s.get(y)||null,t,i,s,a,h)),!0}return!1}function Lm(t){var i=ki(t.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=f(s),i!==null){t.blockedOn=i,oi(t.priority,function(){Dm(s)});return}}else if(i===31){if(i=p(s),i!==null){t.blockedOn=i,oi(t.priority,function(){Dm(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qr(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=Bc(t.nativeEvent);if(s===null){s=t.nativeEvent;var a=new s.constructor(s.type,s);Fa=a,s.target.dispatchEvent(a),Fa=null}else return i=ci(s),i!==null&&wm(i),t.blockedOn=s,!1;i.shift()}return!0}function km(t,i,s){Qr(t)&&s.delete(i)}function D_(){Yc=!1,io!==null&&Qr(io)&&(io=null),oo!==null&&Qr(oo)&&(oo=null),lo!==null&&Qr(lo)&&(lo=null),Ss.forEach(km),_s.forEach(km)}function Zr(t,i){t.blockedOn===i&&(t.blockedOn=null,Yc||(Yc=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,D_)))}var Wr=null;function qm(t){Wr!==t&&(Wr=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Wr===t&&(Wr=null);for(var i=0;i<t.length;i+=3){var s=t[i],a=t[i+1],h=t[i+2];if(typeof a!="function"){if(Fc(a||s)===null)continue;break}var y=ci(s);y!==null&&(t.splice(i,3),i-=3,Bu(y,{pending:!0,data:h,method:s.method,action:a},a,h))}}))}function gl(t){function i(R){return Zr(R,t)}io!==null&&Zr(io,t),oo!==null&&Zr(oo,t),lo!==null&&Zr(lo,t),Ss.forEach(i),_s.forEach(i);for(var s=0;s<so.length;s++){var a=so[s];a.blockedOn===t&&(a.blockedOn=null)}for(;0<so.length&&(s=so[0],s.blockedOn===null);)Lm(s),s.blockedOn===null&&so.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(a=0;a<s.length;a+=3){var h=s[a],y=s[a+1],E=h[zt]||null;if(typeof y=="function")E||qm(s);else if(E){var T=null;if(y&&y.hasAttribute("formAction")){if(h=y,E=y[zt]||null)T=E.formAction;else if(Fc(h)!==null)continue}else T=E.action;typeof T=="function"?s[a+1]=T:(s.splice(a,3),a-=3),qm(s)}}}function Gm(){function t(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(E){return h=E})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),a||setTimeout(s,20)}function s(){if(!a&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){a=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Jc(t){this._internalRoot=t}jr.prototype.render=Jc.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(l(409));var s=i.current,a=Nn();xm(s,a,t,i,null,null)},jr.prototype.unmount=Jc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;xm(t.current,2,null,t,null,null),Ur(),i[fe]=null}};function jr(t){this._internalRoot=t}jr.prototype.unstable_scheduleHydration=function(t){if(t){var i=dt();t={blockedOn:null,target:t,priority:i};for(var s=0;s<so.length&&i!==0&&i<so[s].priority;s++);so.splice(s,0,t),s===0&&Lm(t)}};var Hm=e.version;if(Hm!=="19.2.3")throw Error(l(527,Hm,"19.2.3"));te.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=m(i),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var I_={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ea=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ea.isDisabled&&ea.supportsFiber)try{Kn=ea.inject(I_),Nt=ea}catch{}}return Cs.createRoot=function(t,i){if(!r(t))throw Error(l(299));var s=!1,a="",h=Yh,y=Jh,E=Kh;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(a=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError)),i=Mm(t,1,!1,null,null,s,a,null,h,y,E,Gm),t[fe]=i.current,bc(t),new Jc(i)},Cs.hydrateRoot=function(t,i,s){if(!r(t))throw Error(l(299));var a=!1,h="",y=Yh,E=Jh,T=Kh,R=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),i=Mm(t,1,!0,i,s??null,a,h,R,y,E,T,Gm),i.context=bm(null),s=i.current,a=Nn(),a=sn(a),h=Yi(a),h.callback=null,Ji(s,h,a),s=a,i.current.lanes=s,P(i,s),ai(i),t[fe]=i.current,bc(t),new jr(i)},Cs.version="19.2.3",Cs}var $m;function B_(){if($m)return Xc.exports;$m=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Xc.exports=V_(),Xc.exports}var F_=B_();const Y_=Z0(F_);function J_(n){return n!==null?{comment:n,variations:[]}:{variations:[]}}function K_(n,e,o,l,r){const u={move:n,variations:r};return e&&(u.suffix=e),o&&(u.nag=o),l!==null&&(u.comment=l),u}function $_(...n){const[e,...o]=n;let l=e;for(const r of o)r!==null&&(l.variations=[r,...r.variations],r.variations=[],l=r);return e}function X_(n,e){if(e.marker&&e.marker.comment){let o=e.root;for(;;){const l=o.variations[0];if(!l){o.comment=e.marker.comment;break}o=l}}return{headers:n,root:e.root,result:(e.marker&&e.marker.result)??void 0}}function Q_(n,e){function o(){this.constructor=n}o.prototype=e.prototype,n.prototype=new o}function Cl(n,e,o,l){var r=Error.call(this,n);return Object.setPrototypeOf&&Object.setPrototypeOf(r,Cl.prototype),r.expected=e,r.found=o,r.location=l,r.name="SyntaxError",r}Q_(Cl,Error);function jc(n,e,o){return o=o||" ",n.length>e?n:(e-=n.length,o+=o.repeat(e),n+o.slice(0,e))}Cl.prototype.format=function(n){var e="Error: "+this.message;if(this.location){var o=null,l;for(l=0;l<n.length;l++)if(n[l].source===this.location.source){o=n[l].text.split(/\r\n|\n|\r/g);break}var r=this.location.start,u=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(r):r,f=this.location.source+":"+u.line+":"+u.column;if(o){var p=this.location.end,g=jc("",u.line.toString().length," "),m=o[r.line-1],v=r.line===p.line?p.column:m.length+1,S=v-r.column||1;e+=`
 --> `+f+`
`+g+` |
`+u.line+" | "+m+`
`+g+" | "+jc("",r.column-1," ")+jc("",S,"^")}else e+=`
 at `+f}return e};Cl.buildMessage=function(n,e){var o={literal:function(m){return'"'+r(m.text)+'"'},class:function(m){var v=m.parts.map(function(S){return Array.isArray(S)?u(S[0])+"-"+u(S[1]):u(S)});return"["+(m.inverted?"^":"")+v.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(m){return m.description}};function l(m){return m.charCodeAt(0).toString(16).toUpperCase()}function r(m){return m.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(v){return"\\x0"+l(v)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(v){return"\\x"+l(v)})}function u(m){return m.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(v){return"\\x0"+l(v)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(v){return"\\x"+l(v)})}function f(m){return o[m.type](m)}function p(m){var v=m.map(f),S,_;if(v.sort(),v.length>0){for(S=1,_=1;S<v.length;S++)v[S-1]!==v[S]&&(v[_]=v[S],_++);v.length=_}switch(v.length){case 1:return v[0];case 2:return v[0]+" or "+v[1];default:return v.slice(0,-1).join(", ")+", or "+v[v.length-1]}}function g(m){return m?'"'+r(m)+'"':"end of input"}return"Expected "+p(n)+" but "+g(e)+" found."};function Z_(n,e){e=e!==void 0?e:{};var o={},l=e.grammarSource,r={pgn:Vs},u=Vs,f="[",p='"',g="]",m=".",v="O-O-O",S="O-O",_="0-0-0",C="0-0",A="$",x="{",b="}",D=";",B="(",U=")",X="1-0",Z="0-1",W="1/2-1/2",J="*",j=/^[a-zA-Z]/,ee=/^[^"]/,oe=/^[0-9]/,re=/^[.]/,ve=/^[a-zA-Z1-8\-=]/,he=/^[+#]/,Re=/^[!?]/,Fe=/^[^}]/,z=/^[^\r\n]/,te=/^[ \t\r\n]/,pe=it("tag pair"),Me=Ke("[",!1),we=Ke('"',!1),N=Ke("]",!1),Y=it("tag name"),ie=dt([["a","z"],["A","Z"]],!1,!1),le=it("tag value"),ae=dt(['"'],!0,!1),ye=it("move number"),Ne=dt([["0","9"]],!1,!1),Ge=Ke(".",!1),He=dt(["."],!1,!1),Ze=it("standard algebraic notation"),xt=Ke("O-O-O",!1),nn=Ke("O-O",!1),fn=Ke("0-0-0",!1),rt=Ke("0-0",!1),Kt=dt([["a","z"],["A","Z"],["1","8"],"-","="],!1,!1),vt=dt(["+","#"],!1,!1),Fn=it("suffix annotation"),Yn=dt(["!","?"],!1,!1),on=it("NAG"),St=Ke("$",!1),En=it("brace comment"),ii=Ke("{",!1),Tn=dt(["}"],!0,!1),at=Ke("}",!1),po=it("rest of line comment"),Ui=Ke(";",!1),dn=dt(["\r",`
`],!0,!1),$t=it("variation"),Jn=Ke("(",!1),ui=Ke(")",!1),hn=it("game termination marker"),Li=Ke("1-0",!1),Kn=Ke("0-1",!1),Nt=Ke("1/2-1/2",!1),De=Ke("*",!1),_e=it("whitespace"),tt=dt([" ","	","\r",`
`],!1,!1),ln=function(L,F){return X_(L,F)},Xt=function(L){return Object.fromEntries(L)},Ut=function(L,F){return[L,F]},pn=function(L,F){return{root:L,marker:F}},We=function(L,F){return $_(J_(L),...F.flat())},ct=function(L,F,O,ue,ge){return K_(L,F,O,ue,ge)},_t=function(L){return L},Qt=function(L){return L.replace(/[\r\n]+/g," ")},Zt=function(L){return L.trim()},Lt=function(L){return L},Wt=function(L,F){return{result:L,comment:F}},P=e.peg$currPos|0,nt=[{line:1,column:1}],ft=P,kt=e.peg$maxFailExpected||[],ne=e.peg$silentFails|0,sn;if(e.startRule){if(!(e.startRule in r))throw new Error(`Can't start parsing from rule "`+e.startRule+'".');u=r[e.startRule]}function Ke(L,F){return{type:"literal",text:L,ignoreCase:F}}function dt(L,F,O){return{type:"class",parts:L,inverted:F,ignoreCase:O}}function oi(){return{type:"end"}}function it(L){return{type:"other",description:L}}function Et(L){var F=nt[L],O;if(F)return F;if(L>=nt.length)O=nt.length-1;else for(O=L;!nt[--O];);for(F=nt[O],F={line:F.line,column:F.column};O<L;)n.charCodeAt(O)===10?(F.line++,F.column=1):F.column++,O++;return nt[L]=F,F}function zt(L,F,O){var ue=Et(L),ge=Et(F),Ve={source:l,start:{offset:L,line:ue.line,column:ue.column},end:{offset:F,line:ge.line,column:ge.column}};return Ve}function fe(L){P<ft||(P>ft&&(ft=P,kt=[]),kt.push(L))}function wl(L,F,O){return new Cl(Cl.buildMessage(L,F),L,F,O)}function Vs(){var L,F,O;return L=P,F=Pa(),O=ki(),L=ln(F,O),L}function Pa(){var L,F,O;for(L=P,F=[],O=Dl();O!==o;)F.push(O),O=Dl();return O=Ot(),L=Xt(F),L}function Dl(){var L,F,O,ue,ge,Ve,Xn;return ne++,L=P,Ot(),n.charCodeAt(P)===91?(F=f,P++):(F=o,ne===0&&fe(Me)),F!==o?(Ot(),O=mo(),O!==o?(Ot(),n.charCodeAt(P)===34?(ue=p,P++):(ue=o,ne===0&&fe(we)),ue!==o?(ge=Il(),n.charCodeAt(P)===34?(Ve=p,P++):(Ve=o,ne===0&&fe(we)),Ve!==o?(Ot(),n.charCodeAt(P)===93?(Xn=g,P++):(Xn=o,ne===0&&fe(N)),Xn!==o?L=Ut(O,ge):(P=L,L=o)):(P=L,L=o)):(P=L,L=o)):(P=L,L=o)):(P=L,L=o),ne--,L===o&&ne===0&&fe(pe),L}function mo(){var L,F,O;if(ne++,L=P,F=[],O=n.charAt(P),j.test(O)?P++:(O=o,ne===0&&fe(ie)),O!==o)for(;O!==o;)F.push(O),O=n.charAt(P),j.test(O)?P++:(O=o,ne===0&&fe(ie));else F=o;return F!==o?L=n.substring(L,P):L=F,ne--,L===o&&(F=o,ne===0&&fe(Y)),L}function Il(){var L,F,O;for(ne++,L=P,F=[],O=n.charAt(P),ee.test(O)?P++:(O=o,ne===0&&fe(ae));O!==o;)F.push(O),O=n.charAt(P),ee.test(O)?P++:(O=o,ne===0&&fe(ae));return L=n.substring(L,P),ne--,F=o,ne===0&&fe(le),L}function ki(){var L,F,O;return L=P,F=ci(),Ot(),O=Fs(),O===o&&(O=null),Ot(),L=pn(F,O),L}function ci(){var L,F,O,ue;for(L=P,F=$n(),F===o&&(F=null),O=[],ue=qi();ue!==o;)O.push(ue),ue=qi();return L=We(F,O),L}function qi(){var L,F,O,ue,ge,Ve,Xn,go;if(L=P,Ot(),Gi(),Ot(),F=Tt(),F!==o){for(O=Bs(),O===o&&(O=null),ue=[],ge=Ul();ge!==o;)ue.push(ge),ge=Ul();for(ge=Ot(),Ve=$n(),Ve===o&&(Ve=null),Xn=[],go=Ll();go!==o;)Xn.push(go),go=Ll();L=ct(F,O,ue,Ve,Xn)}else P=L,L=o;return L}function Gi(){var L,F,O,ue,ge,Ve;for(ne++,L=P,F=[],O=n.charAt(P),oe.test(O)?P++:(O=o,ne===0&&fe(Ne));O!==o;)F.push(O),O=n.charAt(P),oe.test(O)?P++:(O=o,ne===0&&fe(Ne));if(n.charCodeAt(P)===46?(O=m,P++):(O=o,ne===0&&fe(Ge)),O!==o){for(ue=Ot(),ge=[],Ve=n.charAt(P),re.test(Ve)?P++:(Ve=o,ne===0&&fe(He));Ve!==o;)ge.push(Ve),Ve=n.charAt(P),re.test(Ve)?P++:(Ve=o,ne===0&&fe(He));F=[F,O,ue,ge],L=F}else P=L,L=o;return ne--,L===o&&(F=o,ne===0&&fe(ye)),L}function Tt(){var L,F,O,ue,ge,Ve;if(ne++,L=P,F=P,n.substr(P,5)===v?(O=v,P+=5):(O=o,ne===0&&fe(xt)),O===o&&(n.substr(P,3)===S?(O=S,P+=3):(O=o,ne===0&&fe(nn)),O===o&&(n.substr(P,5)===_?(O=_,P+=5):(O=o,ne===0&&fe(fn)),O===o&&(n.substr(P,3)===C?(O=C,P+=3):(O=o,ne===0&&fe(rt)),O===o))))if(O=P,ue=n.charAt(P),j.test(ue)?P++:(ue=o,ne===0&&fe(ie)),ue!==o){if(ge=[],Ve=n.charAt(P),ve.test(Ve)?P++:(Ve=o,ne===0&&fe(Kt)),Ve!==o)for(;Ve!==o;)ge.push(Ve),Ve=n.charAt(P),ve.test(Ve)?P++:(Ve=o,ne===0&&fe(Kt));else ge=o;ge!==o?(ue=[ue,ge],O=ue):(P=O,O=o)}else P=O,O=o;return O!==o?(ue=n.charAt(P),he.test(ue)?P++:(ue=o,ne===0&&fe(vt)),ue===o&&(ue=null),O=[O,ue],F=O):(P=F,F=o),F!==o?L=n.substring(L,P):L=F,ne--,L===o&&(F=o,ne===0&&fe(Ze)),L}function Bs(){var L,F,O;for(ne++,L=P,F=[],O=n.charAt(P),Re.test(O)?P++:(O=o,ne===0&&fe(Yn));O!==o;)F.push(O),F.length>=2?O=o:(O=n.charAt(P),Re.test(O)?P++:(O=o,ne===0&&fe(Yn)));return F.length<1?(P=L,L=o):L=F,ne--,L===o&&(F=o,ne===0&&fe(Fn)),L}function Ul(){var L,F,O,ue,ge;if(ne++,L=P,Ot(),n.charCodeAt(P)===36?(F=A,P++):(F=o,ne===0&&fe(St)),F!==o){if(O=P,ue=[],ge=n.charAt(P),oe.test(ge)?P++:(ge=o,ne===0&&fe(Ne)),ge!==o)for(;ge!==o;)ue.push(ge),ge=n.charAt(P),oe.test(ge)?P++:(ge=o,ne===0&&fe(Ne));else ue=o;ue!==o?O=n.substring(O,P):O=ue,O!==o?L=_t(O):(P=L,L=o)}else P=L,L=o;return ne--,L===o&&ne===0&&fe(on),L}function $n(){var L;return L=Hi(),L===o&&(L=za()),L}function Hi(){var L,F,O,ue,ge;if(ne++,L=P,n.charCodeAt(P)===123?(F=x,P++):(F=o,ne===0&&fe(ii)),F!==o){for(O=P,ue=[],ge=n.charAt(P),Fe.test(ge)?P++:(ge=o,ne===0&&fe(Tn));ge!==o;)ue.push(ge),ge=n.charAt(P),Fe.test(ge)?P++:(ge=o,ne===0&&fe(Tn));O=n.substring(O,P),n.charCodeAt(P)===125?(ue=b,P++):(ue=o,ne===0&&fe(at)),ue!==o?L=Qt(O):(P=L,L=o)}else P=L,L=o;return ne--,L===o&&(F=o,ne===0&&fe(En)),L}function za(){var L,F,O,ue,ge;if(ne++,L=P,n.charCodeAt(P)===59?(F=D,P++):(F=o,ne===0&&fe(Ui)),F!==o){for(O=P,ue=[],ge=n.charAt(P),z.test(ge)?P++:(ge=o,ne===0&&fe(dn));ge!==o;)ue.push(ge),ge=n.charAt(P),z.test(ge)?P++:(ge=o,ne===0&&fe(dn));O=n.substring(O,P),L=Zt(O)}else P=L,L=o;return ne--,L===o&&(F=o,ne===0&&fe(po)),L}function Ll(){var L,F,O,ue;return ne++,L=P,Ot(),n.charCodeAt(P)===40?(F=B,P++):(F=o,ne===0&&fe(Jn)),F!==o?(O=ci(),O!==o?(Ot(),n.charCodeAt(P)===41?(ue=U,P++):(ue=o,ne===0&&fe(ui)),ue!==o?L=Lt(O):(P=L,L=o)):(P=L,L=o)):(P=L,L=o),ne--,L===o&&ne===0&&fe($t),L}function Fs(){var L,F,O;return ne++,L=P,n.substr(P,3)===X?(F=X,P+=3):(F=o,ne===0&&fe(Li)),F===o&&(n.substr(P,3)===Z?(F=Z,P+=3):(F=o,ne===0&&fe(Kn)),F===o&&(n.substr(P,7)===W?(F=W,P+=7):(F=o,ne===0&&fe(Nt)),F===o&&(n.charCodeAt(P)===42?(F=J,P++):(F=o,ne===0&&fe(De))))),F!==o?(Ot(),O=$n(),O===o&&(O=null),L=Wt(F,O)):(P=L,L=o),ne--,L===o&&(F=o,ne===0&&fe(hn)),L}function Ot(){var L,F;for(ne++,L=[],F=n.charAt(P),te.test(F)?P++:(F=o,ne===0&&fe(tt));F!==o;)L.push(F),F=n.charAt(P),te.test(F)?P++:(F=o,ne===0&&fe(tt));return ne--,F=o,ne===0&&fe(_e),L}if(sn=u(),e.peg$library)return{peg$result:sn,peg$currPos:P,peg$FAILED:o,peg$maxFailExpected:kt,peg$maxFailPos:ft};if(sn!==o&&P===n.length)return sn;throw sn!==o&&P<n.length&&fe(oi()),wl(kt,ft<n.length?n.charAt(ft):null,ft<n.length?zt(ft,ft+1):zt(ft,ft))}/**
 * @license
 * Copyright (c) 2025, Jeff Hlywa (jhlywa@gmail.com)
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */const ca=0xffffffffffffffffn;function ef(n,e){return(n<<e|n>>64n-e)&0xffffffffffffffffn}function Xm(n,e){return n*e&ca}function W_(n){return function(){let e=BigInt(n&ca),o=BigInt(n>>64n&ca);const l=Xm(ef(Xm(e,5n),7n),9n);return o^=e,e=(ef(e,24n)^o^o<<16n)&ca,o=ef(o,37n),n=o<<64n|e,l}}const Ma=W_(0xa187eb39cdcaed8f31c4b365b102e01en),j_=Array.from({length:2},()=>Array.from({length:6},()=>Array.from({length:128},()=>Ma()))),eE=Array.from({length:8},()=>Ma()),tE=Array.from({length:16},()=>Ma()),tf=Ma(),en="w",wn="b",bt="p",mf="n",fa="b",bs="r",co="q",Dt="k",nf="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class ta{constructor(e,o){st(this,"color");st(this,"from");st(this,"to");st(this,"piece");st(this,"captured");st(this,"promotion");st(this,"flags");st(this,"san");st(this,"lan");st(this,"before");st(this,"after");const{color:l,piece:r,from:u,to:f,flags:p,captured:g,promotion:m}=o,v=Gt(u),S=Gt(f);this.color=l,this.piece=r,this.from=v,this.to=S,this.san=e._moveToSan(o,e._moves({legal:!0})),this.lan=v+S,this.before=e.fen(),e._makeMove(o),this.after=e.fen(),e._undoMove(),this.flags="";for(const _ in Te)Te[_]&p&&(this.flags+=Uo[_]);g&&(this.captured=g),m&&(this.promotion=m,this.lan+=m)}isCapture(){return this.flags.indexOf(Uo.CAPTURE)>-1}isPromotion(){return this.flags.indexOf(Uo.PROMOTION)>-1}isEnPassant(){return this.flags.indexOf(Uo.EP_CAPTURE)>-1}isKingsideCastle(){return this.flags.indexOf(Uo.KSIDE_CASTLE)>-1}isQueensideCastle(){return this.flags.indexOf(Uo.QSIDE_CASTLE)>-1}isBigPawn(){return this.flags.indexOf(Uo.BIG_PAWN)>-1}}const Jt=-1,Uo={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q",NULL_MOVE:"-"},Te={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64,NULL_MOVE:128},gf={Event:"?",Site:"?",Date:"????.??.??",Round:"?",White:"?",Black:"?",Result:"*"},nE={WhiteTitle:null,BlackTitle:null,WhiteElo:null,BlackElo:null,WhiteUSCF:null,BlackUSCF:null,WhiteNA:null,BlackNA:null,WhiteType:null,BlackType:null,EventDate:null,EventSponsor:null,Section:null,Stage:null,Board:null,Opening:null,Variation:null,SubVariation:null,ECO:null,NIC:null,Time:null,UTCTime:null,UTCDate:null,TimeControl:null,SetUp:null,FEN:null,Termination:null,Annotator:null,Mode:null,PlyCount:null},iE={...gf,...nE},Ee={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},of={b:[16,32,17,15],w:[-16,-32,-17,-15]},Qm={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},oE=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],lE=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],sE={p:1,n:2,b:4,r:8,q:16,k:32},rE="pnbrqkPNBRQK",Zm=[mf,fa,bs,co],aE=7,uE=6,cE=1,fE=0,na={[Dt]:Te.KSIDE_CASTLE,[co]:Te.QSIDE_CASTLE},ao={w:[{square:Ee.a1,flag:Te.QSIDE_CASTLE},{square:Ee.h1,flag:Te.KSIDE_CASTLE}],b:[{square:Ee.a8,flag:Te.QSIDE_CASTLE},{square:Ee.h8,flag:Te.KSIDE_CASTLE}]},dE={b:cE,w:uE},lf="--";function qo(n){return n>>4}function Us(n){return n&15}function j0(n){return"0123456789".indexOf(n)!==-1}function Gt(n){const e=Us(n),o=qo(n);return"abcdefgh".substring(e,e+1)+"87654321".substring(o,o+1)}function As(n){return n===en?wn:en}function hE(n){const e=n.split(/\s+/);if(e.length!==6)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const o=parseInt(e[5],10);if(isNaN(o)||o<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const l=parseInt(e[4],10);if(isNaN(l)||l<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(e[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(e[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(e[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const r=e[0].split("/");if(r.length!==8)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let f=0;f<r.length;f++){let p=0,g=!1;for(let m=0;m<r[f].length;m++)if(j0(r[f][m])){if(g)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};p+=parseInt(r[f][m],10),g=!0}else{if(!/^[prnbqkPRNBQK]$/.test(r[f][m]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};p+=1,g=!1}if(p!==8)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if(e[3][1]=="3"&&e[1]=="w"||e[3][1]=="6"&&e[1]=="b")return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const u=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:f,regex:p}of u){if(!p.test(e[0]))return{ok:!1,error:`Invalid FEN: missing ${f} king`};if((e[0].match(p)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${f} kings`}}return Array.from(r[0]+r[7]).some(f=>f.toUpperCase()==="P")?{ok:!1,error:"Invalid FEN: some pawns are on the edge rows"}:{ok:!0}}function pE(n,e){const o=n.from,l=n.to,r=n.piece;let u=0,f=0,p=0;for(let g=0,m=e.length;g<m;g++){const v=e[g].from,S=e[g].to,_=e[g].piece;r===_&&o!==v&&l===S&&(u++,qo(o)===qo(v)&&f++,Us(o)===Us(v)&&p++)}return u>0?f>0&&p>0?Gt(o):p>0?Gt(o).charAt(1):Gt(o).charAt(0):""}function uo(n,e,o,l,r,u=void 0,f=Te.NORMAL){const p=qo(l);if(r===bt&&(p===aE||p===fE))for(let g=0;g<Zm.length;g++){const m=Zm[g];n.push({color:e,from:o,to:l,piece:r,captured:u,promotion:m,flags:f|Te.PROMOTION})}else n.push({color:e,from:o,to:l,piece:r,captured:u,flags:f})}function Wm(n){let e=n.charAt(0);return e>="a"&&e<="h"?n.match(/[a-h]\d.*[a-h]\d/)?void 0:bt:(e=e.toLowerCase(),e==="o"?Dt:e)}function sf(n){return n.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}class ia{constructor(e=nf,{skipValidation:o=!1}={}){st(this,"_board",new Array(128));st(this,"_turn",en);st(this,"_header",{});st(this,"_kings",{w:Jt,b:Jt});st(this,"_epSquare",-1);st(this,"_halfMoves",0);st(this,"_moveNumber",0);st(this,"_history",[]);st(this,"_comments",{});st(this,"_castling",{w:0,b:0});st(this,"_hash",0n);st(this,"_positionCount",new Map);this.load(e,{skipValidation:o})}clear({preserveHeaders:e=!1}={}){this._board=new Array(128),this._kings={w:Jt,b:Jt},this._turn=en,this._castling={w:0,b:0},this._epSquare=Jt,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=e?this._header:{...iE},this._hash=this._computeHash(),this._positionCount=new Map,this._header.SetUp=null,this._header.FEN=null}load(e,{skipValidation:o=!1,preserveHeaders:l=!1}={}){let r=e.split(/\s+/);if(r.length>=2&&r.length<6){const p=["-","-","0","1"];e=r.concat(p.slice(-(6-r.length))).join(" ")}if(r=e.split(/\s+/),!o){const{ok:p,error:g}=hE(e);if(!p)throw new Error(g)}const u=r[0];let f=0;this.clear({preserveHeaders:l});for(let p=0;p<u.length;p++){const g=u.charAt(p);if(g==="/")f+=8;else if(j0(g))f+=parseInt(g,10);else{const m=g<"a"?en:wn;this._put({type:g.toLowerCase(),color:m},Gt(f)),f++}}this._turn=r[1],r[2].indexOf("K")>-1&&(this._castling.w|=Te.KSIDE_CASTLE),r[2].indexOf("Q")>-1&&(this._castling.w|=Te.QSIDE_CASTLE),r[2].indexOf("k")>-1&&(this._castling.b|=Te.KSIDE_CASTLE),r[2].indexOf("q")>-1&&(this._castling.b|=Te.QSIDE_CASTLE),this._epSquare=r[3]==="-"?Jt:Ee[r[3]],this._halfMoves=parseInt(r[4],10),this._moveNumber=parseInt(r[5],10),this._hash=this._computeHash(),this._updateSetup(e),this._incPositionCount()}fen({forceEnpassantSquare:e=!1}={}){var f,p;let o=0,l="";for(let g=Ee.a8;g<=Ee.h1;g++){if(this._board[g]){o>0&&(l+=o,o=0);const{color:m,type:v}=this._board[g];l+=m===en?v.toUpperCase():v.toLowerCase()}else o++;g+1&136&&(o>0&&(l+=o),g!==Ee.h1&&(l+="/"),o=0,g+=8)}let r="";this._castling[en]&Te.KSIDE_CASTLE&&(r+="K"),this._castling[en]&Te.QSIDE_CASTLE&&(r+="Q"),this._castling[wn]&Te.KSIDE_CASTLE&&(r+="k"),this._castling[wn]&Te.QSIDE_CASTLE&&(r+="q"),r=r||"-";let u="-";if(this._epSquare!==Jt)if(e)u=Gt(this._epSquare);else{const g=this._epSquare+(this._turn===en?16:-16),m=[g+1,g-1];for(const v of m){if(v&136)continue;const S=this._turn;if(((f=this._board[v])==null?void 0:f.color)===S&&((p=this._board[v])==null?void 0:p.type)===bt){this._makeMove({color:S,from:v,to:this._epSquare,piece:bt,captured:bt,flags:Te.EP_CAPTURE});const _=!this._isKingAttacked(S);if(this._undoMove(),_){u=Gt(this._epSquare);break}}}}return[l,this._turn,r,u,this._halfMoves,this._moveNumber].join(" ")}_pieceKey(e){if(!this._board[e])return 0n;const{color:o,type:l}=this._board[e],r={w:0,b:1}[o],u={p:0,n:1,b:2,r:3,q:4,k:5}[l];return j_[r][u][e]}_epKey(){return this._epSquare===Jt?0n:eE[this._epSquare&7]}_castlingKey(){const e=this._castling.w>>5|this._castling.b>>3;return tE[e]}_computeHash(){let e=0n;for(let o=Ee.a8;o<=Ee.h1;o++){if(o&136){o+=7;continue}this._board[o]&&(e^=this._pieceKey(o))}return e^=this._epKey(),e^=this._castlingKey(),this._turn==="b"&&(e^=tf),e}_updateSetup(e){this._history.length>0||(e!==nf?(this._header.SetUp="1",this._header.FEN=e):(this._header.SetUp=null,this._header.FEN=null))}reset(){this.load(nf)}get(e){return this._board[Ee[e]]}findPiece(e){var l;const o=[];for(let r=Ee.a8;r<=Ee.h1;r++){if(r&136){r+=7;continue}!this._board[r]||((l=this._board[r])==null?void 0:l.color)!==e.color||this._board[r].color===e.color&&this._board[r].type===e.type&&o.push(Gt(r))}return o}put({type:e,color:o},l){return this._put({type:e,color:o},l)?(this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0):!1}_set(e,o){this._hash^=this._pieceKey(e),this._board[e]=o,this._hash^=this._pieceKey(e)}_put({type:e,color:o},l){if(rE.indexOf(e.toLowerCase())===-1||!(l in Ee))return!1;const r=Ee[l];if(e==Dt&&!(this._kings[o]==Jt||this._kings[o]==r))return!1;const u=this._board[r];return u&&u.type===Dt&&(this._kings[u.color]=Jt),this._set(r,{type:e,color:o}),e===Dt&&(this._kings[o]=r),!0}_clear(e){this._hash^=this._pieceKey(e),delete this._board[e]}remove(e){const o=this.get(e);return this._clear(Ee[e]),o&&o.type===Dt&&(this._kings[o.color]=Jt),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),o}_updateCastlingRights(){var l,r,u,f,p,g,m,v,S,_,C,A;this._hash^=this._castlingKey();const e=((l=this._board[Ee.e1])==null?void 0:l.type)===Dt&&((r=this._board[Ee.e1])==null?void 0:r.color)===en,o=((u=this._board[Ee.e8])==null?void 0:u.type)===Dt&&((f=this._board[Ee.e8])==null?void 0:f.color)===wn;(!e||((p=this._board[Ee.a1])==null?void 0:p.type)!==bs||((g=this._board[Ee.a1])==null?void 0:g.color)!==en)&&(this._castling.w&=-65),(!e||((m=this._board[Ee.h1])==null?void 0:m.type)!==bs||((v=this._board[Ee.h1])==null?void 0:v.color)!==en)&&(this._castling.w&=-33),(!o||((S=this._board[Ee.a8])==null?void 0:S.type)!==bs||((_=this._board[Ee.a8])==null?void 0:_.color)!==wn)&&(this._castling.b&=-65),(!o||((C=this._board[Ee.h8])==null?void 0:C.type)!==bs||((A=this._board[Ee.h8])==null?void 0:A.color)!==wn)&&(this._castling.b&=-33),this._hash^=this._castlingKey()}_updateEnPassantSquare(){var u,f;if(this._epSquare===Jt)return;const e=this._epSquare+(this._turn===en?-16:16),o=this._epSquare+(this._turn===en?16:-16),l=[o+1,o-1];if(this._board[e]!==null||this._board[this._epSquare]!==null||((u=this._board[o])==null?void 0:u.color)!==As(this._turn)||((f=this._board[o])==null?void 0:f.type)!==bt){this._hash^=this._epKey(),this._epSquare=Jt;return}const r=p=>{var g,m;return!(p&136)&&((g=this._board[p])==null?void 0:g.color)===this._turn&&((m=this._board[p])==null?void 0:m.type)===bt};l.some(r)||(this._hash^=this._epKey(),this._epSquare=Jt)}_attacked(e,o,l){const r=[];for(let u=Ee.a8;u<=Ee.h1;u++){if(u&136){u+=7;continue}if(this._board[u]===void 0||this._board[u].color!==e)continue;const f=this._board[u],p=u-o;if(p===0)continue;const g=p+119;if(oE[g]&sE[f.type]){if(f.type===bt){if(p>0&&f.color===en||p<=0&&f.color===wn)if(l)r.push(Gt(u));else return!0;continue}if(f.type==="n"||f.type==="k")if(l){r.push(Gt(u));continue}else return!0;const m=lE[g];let v=u+m,S=!1;for(;v!==o;){if(this._board[v]!=null){S=!0;break}v+=m}if(!S)if(l){r.push(Gt(u));continue}else return!0}}return l?r:!1}attackers(e,o){return o?this._attacked(o,Ee[e],!0):this._attacked(this._turn,Ee[e],!0)}_isKingAttacked(e){const o=this._kings[e];return o===-1?!1:this._attacked(As(e),o)}hash(){return this._hash.toString(16)}isAttacked(e,o){return this._attacked(o,Ee[e])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&this._moves().length===0}isStalemate(){return!this.isCheck()&&this._moves().length===0}isInsufficientMaterial(){const e={b:0,n:0,r:0,q:0,k:0,p:0},o=[];let l=0,r=0;for(let u=Ee.a8;u<=Ee.h1;u++){if(r=(r+1)%2,u&136){u+=7;continue}const f=this._board[u];f&&(e[f.type]=f.type in e?e[f.type]+1:1,f.type===fa&&o.push(r),l++)}if(l===2)return!0;if(l===3&&(e[fa]===1||e[mf]===1))return!0;if(l===e[fa]+2){let u=0;const f=o.length;for(let p=0;p<f;p++)u+=o[p];if(u===0||u===f)return!0}return!1}isThreefoldRepetition(){return this._getPositionCount(this._hash)>=3}isDrawByFiftyMoves(){return this._halfMoves>=100}isDraw(){return this.isDrawByFiftyMoves()||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isDraw()}moves({verbose:e=!1,square:o=void 0,piece:l=void 0}={}){const r=this._moves({square:o,piece:l});return e?r.map(u=>new ta(this,u)):r.map(u=>this._moveToSan(u,r))}_moves({legal:e=!0,piece:o=void 0,square:l=void 0}={}){var C;const r=l?l.toLowerCase():void 0,u=o==null?void 0:o.toLowerCase(),f=[],p=this._turn,g=As(p);let m=Ee.a8,v=Ee.h1,S=!1;if(r)if(r in Ee)m=v=Ee[r],S=!0;else return[];for(let A=m;A<=v;A++){if(A&136){A+=7;continue}if(!this._board[A]||this._board[A].color===g)continue;const{type:x}=this._board[A];let b;if(x===bt){if(u&&u!==x)continue;b=A+of[p][0],this._board[b]||(uo(f,p,A,b,bt),b=A+of[p][1],dE[p]===qo(A)&&!this._board[b]&&uo(f,p,A,b,bt,void 0,Te.BIG_PAWN));for(let D=2;D<4;D++)b=A+of[p][D],!(b&136)&&(((C=this._board[b])==null?void 0:C.color)===g?uo(f,p,A,b,bt,this._board[b].type,Te.CAPTURE):b===this._epSquare&&uo(f,p,A,b,bt,bt,Te.EP_CAPTURE))}else{if(u&&u!==x)continue;for(let D=0,B=Qm[x].length;D<B;D++){const U=Qm[x][D];for(b=A;b+=U,!(b&136);){if(!this._board[b])uo(f,p,A,b,x);else{if(this._board[b].color===p)break;uo(f,p,A,b,x,this._board[b].type,Te.CAPTURE);break}if(x===mf||x===Dt)break}}}}if((u===void 0||u===Dt)&&(!S||v===this._kings[p])){if(this._castling[p]&Te.KSIDE_CASTLE){const A=this._kings[p],x=A+2;!this._board[A+1]&&!this._board[x]&&!this._attacked(g,this._kings[p])&&!this._attacked(g,A+1)&&!this._attacked(g,x)&&uo(f,p,this._kings[p],x,Dt,void 0,Te.KSIDE_CASTLE)}if(this._castling[p]&Te.QSIDE_CASTLE){const A=this._kings[p],x=A-2;!this._board[A-1]&&!this._board[A-2]&&!this._board[A-3]&&!this._attacked(g,this._kings[p])&&!this._attacked(g,A-1)&&!this._attacked(g,x)&&uo(f,p,this._kings[p],x,Dt,void 0,Te.QSIDE_CASTLE)}}if(!e||this._kings[p]===-1)return f;const _=[];for(let A=0,x=f.length;A<x;A++)this._makeMove(f[A]),this._isKingAttacked(p)||_.push(f[A]),this._undoMove();return _}move(e,{strict:o=!1}={}){let l=null;if(typeof e=="string")l=this._moveFromSan(e,o);else if(e===null)l=this._moveFromSan(lf,o);else if(typeof e=="object"){const u=this._moves();for(let f=0,p=u.length;f<p;f++)if(e.from===Gt(u[f].from)&&e.to===Gt(u[f].to)&&(!("promotion"in u[f])||e.promotion===u[f].promotion)){l=u[f];break}}if(!l)throw typeof e=="string"?new Error(`Invalid move: ${e}`):new Error(`Invalid move: ${JSON.stringify(e)}`);if(this.isCheck()&&l.flags&Te.NULL_MOVE)throw new Error("Null move not allowed when in check");const r=new ta(this,l);return this._makeMove(l),this._incPositionCount(),r}_push(e){this._history.push({move:e,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_movePiece(e,o){this._hash^=this._pieceKey(e),this._board[o]=this._board[e],delete this._board[e],this._hash^=this._pieceKey(o)}_makeMove(e){var r,u,f,p;const o=this._turn,l=As(o);if(this._push(e),e.flags&Te.NULL_MOVE){o===wn&&this._moveNumber++,this._halfMoves++,this._turn=l,this._epSquare=Jt;return}if(this._hash^=this._epKey(),this._hash^=this._castlingKey(),e.captured&&(this._hash^=this._pieceKey(e.to)),this._movePiece(e.from,e.to),e.flags&Te.EP_CAPTURE&&(this._turn===wn?this._clear(e.to-16):this._clear(e.to+16)),e.promotion&&(this._clear(e.to),this._set(e.to,{type:e.promotion,color:o})),this._board[e.to].type===Dt){if(this._kings[o]=e.to,e.flags&Te.KSIDE_CASTLE){const g=e.to-1,m=e.to+1;this._movePiece(m,g)}else if(e.flags&Te.QSIDE_CASTLE){const g=e.to+1,m=e.to-2;this._movePiece(m,g)}this._castling[o]=0}if(this._castling[o]){for(let g=0,m=ao[o].length;g<m;g++)if(e.from===ao[o][g].square&&this._castling[o]&ao[o][g].flag){this._castling[o]^=ao[o][g].flag;break}}if(this._castling[l]){for(let g=0,m=ao[l].length;g<m;g++)if(e.to===ao[l][g].square&&this._castling[l]&ao[l][g].flag){this._castling[l]^=ao[l][g].flag;break}}if(this._hash^=this._castlingKey(),e.flags&Te.BIG_PAWN){let g;o===wn?g=e.to-16:g=e.to+16,!(e.to-1&136)&&((r=this._board[e.to-1])==null?void 0:r.type)===bt&&((u=this._board[e.to-1])==null?void 0:u.color)===l||!(e.to+1&136)&&((f=this._board[e.to+1])==null?void 0:f.type)===bt&&((p=this._board[e.to+1])==null?void 0:p.color)===l?(this._epSquare=g,this._hash^=this._epKey()):this._epSquare=Jt}else this._epSquare=Jt;e.piece===bt?this._halfMoves=0:e.flags&(Te.CAPTURE|Te.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,o===wn&&this._moveNumber++,this._turn=l,this._hash^=tf}undo(){const e=this._hash,o=this._undoMove();if(o){const l=new ta(this,o);return this._decPositionCount(e),l}return null}_undoMove(){const e=this._history.pop();if(e===void 0)return null;this._hash^=this._epKey(),this._hash^=this._castlingKey();const o=e.move;this._kings=e.kings,this._turn=e.turn,this._castling=e.castling,this._epSquare=e.epSquare,this._halfMoves=e.halfMoves,this._moveNumber=e.moveNumber,this._hash^=this._epKey(),this._hash^=this._castlingKey(),this._hash^=tf;const l=this._turn,r=As(l);if(o.flags&Te.NULL_MOVE)return o;if(this._movePiece(o.to,o.from),o.piece&&(this._clear(o.from),this._set(o.from,{type:o.piece,color:l})),o.captured)if(o.flags&Te.EP_CAPTURE){let u;l===wn?u=o.to-16:u=o.to+16,this._set(u,{type:bt,color:r})}else this._set(o.to,{type:o.captured,color:r});if(o.flags&(Te.KSIDE_CASTLE|Te.QSIDE_CASTLE)){let u,f;o.flags&Te.KSIDE_CASTLE?(u=o.to+1,f=o.to-1):(u=o.to-2,f=o.to+1),this._movePiece(f,u)}return o}pgn({newline:e=`
`,maxWidth:o=0}={}){const l=[];let r=!1;for(const _ in this._header)this._header[_]&&l.push(`[${_} "${this._header[_]}"]`+e),r=!0;r&&this._history.length&&l.push(e);const u=_=>{const C=this._comments[this.fen()];if(typeof C<"u"){const A=_.length>0?" ":"";_=`${_}${A}{${C}}`}return _},f=[];for(;this._history.length>0;)f.push(this._undoMove());const p=[];let g="";for(f.length===0&&p.push(u(""));f.length>0;){g=u(g);const _=f.pop();if(!_)break;if(!this._history.length&&_.color==="b"){const C=`${this._moveNumber}. ...`;g=g?`${g} ${C}`:C}else _.color==="w"&&(g.length&&p.push(g),g=this._moveNumber+".");g=g+" "+this._moveToSan(_,this._moves({legal:!0})),this._makeMove(_)}if(g.length&&p.push(u(g)),p.push(this._header.Result||"*"),o===0)return l.join("")+p.join(" ");const m=function(){return l.length>0&&l[l.length-1]===" "?(l.pop(),!0):!1},v=function(_,C){for(const A of C.split(" "))if(A){if(_+A.length>o){for(;m();)_--;l.push(e),_=0}l.push(A),_+=A.length,l.push(" "),_++}return m()&&_--,_};let S=0;for(let _=0;_<p.length;_++){if(S+p[_].length>o&&p[_].includes("{")){S=v(S,p[_]);continue}S+p[_].length>o&&_!==0?(l[l.length-1]===" "&&l.pop(),l.push(e),S=0):_!==0&&(l.push(" "),S++),l.push(p[_]),S+=p[_].length}return l.join("")}header(...e){for(let o=0;o<e.length;o+=2)typeof e[o]=="string"&&typeof e[o+1]=="string"&&(this._header[e[o]]=e[o+1]);return this._header}setHeader(e,o){return this._header[e]=o??gf[e]??null,this.getHeaders()}removeHeader(e){return e in this._header?(this._header[e]=gf[e]||null,!0):!1}getHeaders(){const e={};for(const[o,l]of Object.entries(this._header))l!==null&&(e[o]=l);return e}loadPgn(e,{strict:o=!1,newlineChar:l=`\r?
`}={}){l!==`\r?
`&&(e=e.replace(new RegExp(l,"g"),`
`));const r=Z_(e);this.reset();const u=r.headers;let f="";for(const m in u)m.toLowerCase()==="fen"&&(f=u[m]),this.header(m,u[m]);if(!o)f&&this.load(f,{preserveHeaders:!0});else if(u.SetUp==="1"){if(!("FEN"in u))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(u.FEN,{preserveHeaders:!0})}let p=r.root;for(;p;){if(p.move){const m=this._moveFromSan(p.move,o);if(m==null)throw new Error(`Invalid move in PGN: ${p.move}`);this._makeMove(m),this._incPositionCount()}p.comment!==void 0&&(this._comments[this.fen()]=p.comment),p=p.variations[0]}const g=r.result;g&&Object.keys(this._header).length&&this._header.Result!==g&&this.setHeader("Result",g)}_moveToSan(e,o){let l="";if(e.flags&Te.KSIDE_CASTLE)l="O-O";else if(e.flags&Te.QSIDE_CASTLE)l="O-O-O";else{if(e.flags&Te.NULL_MOVE)return lf;if(e.piece!==bt){const r=pE(e,o);l+=e.piece.toUpperCase()+r}e.flags&(Te.CAPTURE|Te.EP_CAPTURE)&&(e.piece===bt&&(l+=Gt(e.from)[0]),l+="x"),l+=Gt(e.to),e.promotion&&(l+="="+e.promotion.toUpperCase())}return this._makeMove(e),this.isCheck()&&(this.isCheckmate()?l+="#":l+="+"),this._undoMove(),l}_moveFromSan(e,o=!1){let l=sf(e);if(o||(l==="0-0"?l="O-O":l==="0-0-0"&&(l="O-O-O")),l==lf)return{color:this._turn,from:0,to:0,piece:"k",flags:Te.NULL_MOVE};let r=Wm(l),u=this._moves({legal:!0,piece:r});for(let _=0,C=u.length;_<C;_++)if(l===sf(this._moveToSan(u[_],u)))return u[_];if(o)return null;let f,p,g,m,v,S=!1;if(p=l.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),p?(f=p[1],g=p[2],m=p[3],v=p[4],g.length==1&&(S=!0)):(p=l.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),p&&(f=p[1],g=p[2],m=p[3],v=p[4],g.length==1&&(S=!0))),r=Wm(l),u=this._moves({legal:!0,piece:f||r}),!m)return null;for(let _=0,C=u.length;_<C;_++)if(g){if((!f||f.toLowerCase()==u[_].piece)&&Ee[g]==u[_].from&&Ee[m]==u[_].to&&(!v||v.toLowerCase()==u[_].promotion))return u[_];if(S){const A=Gt(u[_].from);if((!f||f.toLowerCase()==u[_].piece)&&Ee[m]==u[_].to&&(g==A[0]||g==A[1])&&(!v||v.toLowerCase()==u[_].promotion))return u[_]}}else if(l===sf(this._moveToSan(u[_],u)).replace("x",""))return u[_];return null}ascii(){let e=`   +------------------------+
`;for(let o=Ee.a8;o<=Ee.h1;o++){if(Us(o)===0&&(e+=" "+"87654321"[qo(o)]+" |"),this._board[o]){const l=this._board[o].type,u=this._board[o].color===en?l.toUpperCase():l.toLowerCase();e+=" "+u+" "}else e+=" . ";o+1&136&&(e+=`|
`,o+=8)}return e+=`   +------------------------+
`,e+="     a  b  c  d  e  f  g  h",e}perft(e){const o=this._moves({legal:!1});let l=0;const r=this._turn;for(let u=0,f=o.length;u<f;u++)this._makeMove(o[u]),this._isKingAttacked(r)||(e-1>0?l+=this.perft(e-1):l++),this._undoMove();return l}setTurn(e){return this._turn==e?!1:(this.move("--"),!0)}turn(){return this._turn}board(){const e=[];let o=[];for(let l=Ee.a8;l<=Ee.h1;l++)this._board[l]==null?o.push(null):o.push({square:Gt(l),type:this._board[l].type,color:this._board[l].color}),l+1&136&&(e.push(o),o=[],l+=8);return e}squareColor(e){if(e in Ee){const o=Ee[e];return(qo(o)+Us(o))%2===0?"light":"dark"}return null}history({verbose:e=!1}={}){const o=[],l=[];for(;this._history.length>0;)o.push(this._undoMove());for(;;){const r=o.pop();if(!r)break;e?l.push(new ta(this,r)):l.push(this._moveToSan(r,this._moves())),this._makeMove(r)}return l}_getPositionCount(e){return this._positionCount.get(e)??0}_incPositionCount(){this._positionCount.set(this._hash,(this._positionCount.get(this._hash)??0)+1)}_decPositionCount(e){const o=this._positionCount.get(e)??0;o===1?this._positionCount.delete(e):this._positionCount.set(e,o-1)}_pruneComments(){const e=[],o={},l=r=>{r in this._comments&&(o[r]=this._comments[r])};for(;this._history.length>0;)e.push(this._undoMove());for(l(this.fen());;){const r=e.pop();if(!r)break;this._makeMove(r),l(this.fen())}this._comments=o}getComment(){return this._comments[this.fen()]}setComment(e){this._comments[this.fen()]=e.replace("{","[").replace("}","]")}deleteComment(){return this.removeComment()}removeComment(){const e=this._comments[this.fen()];return delete this._comments[this.fen()],e}getComments(){return this._pruneComments(),Object.keys(this._comments).map(e=>({fen:e,comment:this._comments[e]}))}deleteComments(){return this.removeComments()}removeComments(){return this._pruneComments(),Object.keys(this._comments).map(e=>{const o=this._comments[e];return delete this._comments[e],{fen:e,comment:o}})}setCastlingRights(e,o){for(const r of[Dt,co])o[r]!==void 0&&(o[r]?this._castling[e]|=na[r]:this._castling[e]&=~na[r]);this._updateCastlingRights();const l=this.getCastlingRights(e);return(o[Dt]===void 0||o[Dt]===l[Dt])&&(o[co]===void 0||o[co]===l[co])}getCastlingRights(e){return{[Dt]:(this._castling[e]&na[Dt])!==0,[co]:(this._castling[e]&na[co])!==0}}moveNumber(){return this._moveNumber}}var xs=W0();const ba=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Al(n){const e=Object.prototype.toString.call(n);return e==="[object Window]"||e==="[object global]"}function qf(n){return"nodeType"in n}function cn(n){var e,o;return n?Al(n)?n:qf(n)&&(e=(o=n.ownerDocument)==null?void 0:o.defaultView)!=null?e:window:window}function Gf(n){const{Document:e}=cn(n);return n instanceof e}function Hs(n){return Al(n)?!1:n instanceof cn(n).HTMLElement}function ey(n){return n instanceof cn(n).SVGElement}function Rl(n){return n?Al(n)?n.document:qf(n)?Gf(n)?n:Hs(n)||ey(n)?n.ownerDocument:document:document:document}const xi=ba?G.useLayoutEffect:G.useEffect;function xa(n){const e=G.useRef(n);return xi(()=>{e.current=n}),G.useCallback(function(){for(var o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];return e.current==null?void 0:e.current(...l)},[])}function mE(){const n=G.useRef(null),e=G.useCallback((l,r)=>{n.current=setInterval(l,r)},[]),o=G.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[e,o]}function Ls(n,e){e===void 0&&(e=[n]);const o=G.useRef(n);return xi(()=>{o.current!==n&&(o.current=n)},e),o}function Ps(n,e){const o=G.useRef();return G.useMemo(()=>{const l=n(o.current);return o.current=l,l},[...e])}function ma(n){const e=xa(n),o=G.useRef(null),l=G.useCallback(r=>{r!==o.current&&(e==null||e(r,o.current)),o.current=r},[]);return[o,l]}function ga(n){const e=G.useRef();return G.useEffect(()=>{e.current=n},[n]),e.current}let rf={};function Na(n,e){return G.useMemo(()=>{if(e)return e;const o=rf[n]==null?0:rf[n]+1;return rf[n]=o,n+"-"+o},[n,e])}function ty(n){return function(e){for(var o=arguments.length,l=new Array(o>1?o-1:0),r=1;r<o;r++)l[r-1]=arguments[r];return l.reduce((u,f)=>{const p=Object.entries(f);for(const[g,m]of p){const v=u[g];v!=null&&(u[g]=v+n*m)}return u},{...e})}}const _l=ty(1),ya=ty(-1);function gE(n){return"clientX"in n&&"clientY"in n}function Hf(n){if(!n)return!1;const{KeyboardEvent:e}=cn(n.target);return e&&n instanceof e}function yE(n){if(!n)return!1;const{TouchEvent:e}=cn(n.target);return e&&n instanceof e}function ks(n){if(yE(n)){if(n.touches&&n.touches.length){const{clientX:e,clientY:o}=n.touches[0];return{x:e,y:o}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:e,clientY:o}=n.changedTouches[0];return{x:e,y:o}}}return gE(n)?{x:n.clientX,y:n.clientY}:null}const qs=Object.freeze({Translate:{toString(n){if(!n)return;const{x:e,y:o}=n;return"translate3d("+(e?Math.round(e):0)+"px, "+(o?Math.round(o):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:e,scaleY:o}=n;return"scaleX("+e+") scaleY("+o+")"}},Transform:{toString(n){if(n)return[qs.Translate.toString(n),qs.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:e,duration:o,easing:l}=n;return e+" "+o+"ms "+l}}}),jm="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function vE(n){return n.matches(jm)?n:n.querySelector(jm)}const SE={display:"none"};function _E(n){let{id:e,value:o}=n;return mt.createElement("div",{id:e,style:SE},o)}function EE(n){let{id:e,announcement:o,ariaLiveType:l="assertive"}=n;const r={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return mt.createElement("div",{id:e,style:r,role:"status","aria-live":l,"aria-atomic":!0},o)}function TE(){const[n,e]=G.useState("");return{announce:G.useCallback(l=>{l!=null&&e(l)},[]),announcement:n}}const ny=G.createContext(null);function CE(n){const e=G.useContext(ny);G.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(n)},[n,e])}function AE(){const[n]=G.useState(()=>new Set),e=G.useCallback(l=>(n.add(l),()=>n.delete(l)),[n]);return[G.useCallback(l=>{let{type:r,event:u}=l;n.forEach(f=>{var p;return(p=f[r])==null?void 0:p.call(f,u)})},[n]),e]}const RE={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},ME={onDragStart(n){let{active:e}=n;return"Picked up draggable item "+e.id+"."},onDragOver(n){let{active:e,over:o}=n;return o?"Draggable item "+e.id+" was moved over droppable area "+o.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(n){let{active:e,over:o}=n;return o?"Draggable item "+e.id+" was dropped over droppable area "+o.id:"Draggable item "+e.id+" was dropped."},onDragCancel(n){let{active:e}=n;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function bE(n){let{announcements:e=ME,container:o,hiddenTextDescribedById:l,screenReaderInstructions:r=RE}=n;const{announce:u,announcement:f}=TE(),p=Na("DndLiveRegion"),[g,m]=G.useState(!1);if(G.useEffect(()=>{m(!0)},[]),CE(G.useMemo(()=>({onDragStart(S){let{active:_}=S;u(e.onDragStart({active:_}))},onDragMove(S){let{active:_,over:C}=S;e.onDragMove&&u(e.onDragMove({active:_,over:C}))},onDragOver(S){let{active:_,over:C}=S;u(e.onDragOver({active:_,over:C}))},onDragEnd(S){let{active:_,over:C}=S;u(e.onDragEnd({active:_,over:C}))},onDragCancel(S){let{active:_,over:C}=S;u(e.onDragCancel({active:_,over:C}))}}),[u,e])),!g)return null;const v=mt.createElement(mt.Fragment,null,mt.createElement(_E,{id:l,value:r.draggable}),mt.createElement(EE,{id:p,announcement:f}));return o?xs.createPortal(v,o):v}var It;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(It||(It={}));function va(){}function oa(n,e){return G.useMemo(()=>({sensor:n,options:e??{}}),[n,e])}function xE(){for(var n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];return G.useMemo(()=>[...e].filter(l=>l!=null),[...e])}const ti=Object.freeze({x:0,y:0});function NE(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function wE(n,e){const o=ks(n);if(!o)return"0 0";const l={x:(o.x-e.left)/e.width*100,y:(o.y-e.top)/e.height*100};return l.x+"% "+l.y+"%"}function DE(n,e){let{data:{value:o}}=n,{data:{value:l}}=e;return o-l}function IE(n,e){let{data:{value:o}}=n,{data:{value:l}}=e;return l-o}function UE(n){let{left:e,top:o,height:l,width:r}=n;return[{x:e,y:o},{x:e+r,y:o},{x:e,y:o+l},{x:e+r,y:o+l}]}function LE(n,e){if(!n||n.length===0)return null;const[o]=n;return o[e]}function kE(n,e){const o=Math.max(e.top,n.top),l=Math.max(e.left,n.left),r=Math.min(e.left+e.width,n.left+n.width),u=Math.min(e.top+e.height,n.top+n.height),f=r-l,p=u-o;if(l<r&&o<u){const g=e.width*e.height,m=n.width*n.height,v=f*p,S=v/(g+m-v);return Number(S.toFixed(4))}return 0}const iy=n=>{let{collisionRect:e,droppableRects:o,droppableContainers:l}=n;const r=[];for(const u of l){const{id:f}=u,p=o.get(f);if(p){const g=kE(p,e);g>0&&r.push({id:f,data:{droppableContainer:u,value:g}})}}return r.sort(IE)};function qE(n,e){const{top:o,left:l,bottom:r,right:u}=e;return o<=n.y&&n.y<=r&&l<=n.x&&n.x<=u}const GE=n=>{let{droppableContainers:e,droppableRects:o,pointerCoordinates:l}=n;if(!l)return[];const r=[];for(const u of e){const{id:f}=u,p=o.get(f);if(p&&qE(l,p)){const m=UE(p).reduce((S,_)=>S+NE(l,_),0),v=Number((m/4).toFixed(4));r.push({id:f,data:{droppableContainer:u,value:v}})}}return r.sort(DE)};function HE(n,e,o){return{...n,scaleX:e&&o?e.width/o.width:1,scaleY:e&&o?e.height/o.height:1}}function oy(n,e){return n&&e?{x:n.left-e.left,y:n.top-e.top}:ti}function PE(n){return function(o){for(var l=arguments.length,r=new Array(l>1?l-1:0),u=1;u<l;u++)r[u-1]=arguments[u];return r.reduce((f,p)=>({...f,top:f.top+n*p.y,bottom:f.bottom+n*p.y,left:f.left+n*p.x,right:f.right+n*p.x}),{...o})}}const zE=PE(1);function ly(n){if(n.startsWith("matrix3d(")){const e=n.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(n.startsWith("matrix(")){const e=n.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function OE(n,e,o){const l=ly(e);if(!l)return n;const{scaleX:r,scaleY:u,x:f,y:p}=l,g=n.left-f-(1-r)*parseFloat(o),m=n.top-p-(1-u)*parseFloat(o.slice(o.indexOf(" ")+1)),v=r?n.width/r:n.width,S=u?n.height/u:n.height;return{width:v,height:S,top:m,right:g+v,bottom:m+S,left:g}}const VE={ignoreTransform:!1};function zs(n,e){e===void 0&&(e=VE);let o=n.getBoundingClientRect();if(e.ignoreTransform){const{transform:m,transformOrigin:v}=cn(n).getComputedStyle(n);m&&(o=OE(o,m,v))}const{top:l,left:r,width:u,height:f,bottom:p,right:g}=o;return{top:l,left:r,width:u,height:f,bottom:p,right:g}}function eg(n){return zs(n,{ignoreTransform:!0})}function BE(n){const e=n.innerWidth,o=n.innerHeight;return{top:0,left:0,right:e,bottom:o,width:e,height:o}}function FE(n,e){return e===void 0&&(e=cn(n).getComputedStyle(n)),e.position==="fixed"}function YE(n,e){e===void 0&&(e=cn(n).getComputedStyle(n));const o=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(r=>{const u=e[r];return typeof u=="string"?o.test(u):!1})}function Pf(n,e){const o=[];function l(r){if(e!=null&&o.length>=e||!r)return o;if(Gf(r)&&r.scrollingElement!=null&&!o.includes(r.scrollingElement))return o.push(r.scrollingElement),o;if(!Hs(r)||ey(r)||o.includes(r))return o;const u=cn(n).getComputedStyle(r);return r!==n&&YE(r,u)&&o.push(r),FE(r,u)?o:l(r.parentNode)}return n?l(n):o}function sy(n){const[e]=Pf(n,1);return e??null}function af(n){return!ba||!n?null:Al(n)?n:qf(n)?Gf(n)||n===Rl(n).scrollingElement?window:Hs(n)?n:null:null}function ry(n){return Al(n)?n.scrollX:n.scrollLeft}function ay(n){return Al(n)?n.scrollY:n.scrollTop}function yf(n){return{x:ry(n),y:ay(n)}}var Ht;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(Ht||(Ht={}));function uy(n){return!ba||!n?!1:n===document.scrollingElement}function cy(n){const e={x:0,y:0},o=uy(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},l={x:n.scrollWidth-o.width,y:n.scrollHeight-o.height},r=n.scrollTop<=e.y,u=n.scrollLeft<=e.x,f=n.scrollTop>=l.y,p=n.scrollLeft>=l.x;return{isTop:r,isLeft:u,isBottom:f,isRight:p,maxScroll:l,minScroll:e}}const JE={x:.2,y:.2};function KE(n,e,o,l,r){let{top:u,left:f,right:p,bottom:g}=o;l===void 0&&(l=10),r===void 0&&(r=JE);const{isTop:m,isBottom:v,isLeft:S,isRight:_}=cy(n),C={x:0,y:0},A={x:0,y:0},x={height:e.height*r.y,width:e.width*r.x};return!m&&u<=e.top+x.height?(C.y=Ht.Backward,A.y=l*Math.abs((e.top+x.height-u)/x.height)):!v&&g>=e.bottom-x.height&&(C.y=Ht.Forward,A.y=l*Math.abs((e.bottom-x.height-g)/x.height)),!_&&p>=e.right-x.width?(C.x=Ht.Forward,A.x=l*Math.abs((e.right-x.width-p)/x.width)):!S&&f<=e.left+x.width&&(C.x=Ht.Backward,A.x=l*Math.abs((e.left+x.width-f)/x.width)),{direction:C,speed:A}}function $E(n){if(n===document.scrollingElement){const{innerWidth:u,innerHeight:f}=window;return{top:0,left:0,right:u,bottom:f,width:u,height:f}}const{top:e,left:o,right:l,bottom:r}=n.getBoundingClientRect();return{top:e,left:o,right:l,bottom:r,width:n.clientWidth,height:n.clientHeight}}function fy(n){return n.reduce((e,o)=>_l(e,yf(o)),ti)}function XE(n){return n.reduce((e,o)=>e+ry(o),0)}function QE(n){return n.reduce((e,o)=>e+ay(o),0)}function dy(n,e){if(e===void 0&&(e=zs),!n)return;const{top:o,left:l,bottom:r,right:u}=e(n);sy(n)&&(r<=0||u<=0||o>=window.innerHeight||l>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const ZE=[["x",["left","right"],XE],["y",["top","bottom"],QE]];class zf{constructor(e,o){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const l=Pf(o),r=fy(l);this.rect={...e},this.width=e.width,this.height=e.height;for(const[u,f,p]of ZE)for(const g of f)Object.defineProperty(this,g,{get:()=>{const m=p(l),v=r[u]-m;return this.rect[g]+v},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ws{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(o=>{var l;return(l=this.target)==null?void 0:l.removeEventListener(...o)})},this.target=e}add(e,o,l){var r;(r=this.target)==null||r.addEventListener(e,o,l),this.listeners.push([e,o,l])}}function WE(n){const{EventTarget:e}=cn(n);return n instanceof e?n:Rl(n)}function uf(n,e){const o=Math.abs(n.x),l=Math.abs(n.y);return typeof e=="number"?Math.sqrt(o**2+l**2)>e:"x"in e&&"y"in e?o>e.x&&l>e.y:"x"in e?o>e.x:"y"in e?l>e.y:!1}var On;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(On||(On={}));function tg(n){n.preventDefault()}function jE(n){n.stopPropagation()}var et;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})(et||(et={}));const hy={start:[et.Space,et.Enter],cancel:[et.Esc],end:[et.Space,et.Enter,et.Tab]},eT=(n,e)=>{let{currentCoordinates:o}=e;switch(n.code){case et.Right:return{...o,x:o.x+25};case et.Left:return{...o,x:o.x-25};case et.Down:return{...o,y:o.y+25};case et.Up:return{...o,y:o.y-25}}};class Of{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:o}}=e;this.props=e,this.listeners=new ws(Rl(o)),this.windowListeners=new ws(cn(o)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(On.Resize,this.handleCancel),this.windowListeners.add(On.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(On.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:o}=this.props,l=e.node.current;l&&dy(l),o(ti)}handleKeyDown(e){if(Hf(e)){const{active:o,context:l,options:r}=this.props,{keyboardCodes:u=hy,coordinateGetter:f=eT,scrollBehavior:p="smooth"}=r,{code:g}=e;if(u.end.includes(g)){this.handleEnd(e);return}if(u.cancel.includes(g)){this.handleCancel(e);return}const{collisionRect:m}=l.current,v=m?{x:m.left,y:m.top}:ti;this.referenceCoordinates||(this.referenceCoordinates=v);const S=f(e,{active:o,context:l.current,currentCoordinates:v});if(S){const _=ya(S,v),C={x:0,y:0},{scrollableAncestors:A}=l.current;for(const x of A){const b=e.code,{isTop:D,isRight:B,isLeft:U,isBottom:X,maxScroll:Z,minScroll:W}=cy(x),J=$E(x),j={x:Math.min(b===et.Right?J.right-J.width/2:J.right,Math.max(b===et.Right?J.left:J.left+J.width/2,S.x)),y:Math.min(b===et.Down?J.bottom-J.height/2:J.bottom,Math.max(b===et.Down?J.top:J.top+J.height/2,S.y))},ee=b===et.Right&&!B||b===et.Left&&!U,oe=b===et.Down&&!X||b===et.Up&&!D;if(ee&&j.x!==S.x){const re=x.scrollLeft+_.x,ve=b===et.Right&&re<=Z.x||b===et.Left&&re>=W.x;if(ve&&!_.y){x.scrollTo({left:re,behavior:p});return}ve?C.x=x.scrollLeft-re:C.x=b===et.Right?x.scrollLeft-Z.x:x.scrollLeft-W.x,C.x&&x.scrollBy({left:-C.x,behavior:p});break}else if(oe&&j.y!==S.y){const re=x.scrollTop+_.y,ve=b===et.Down&&re<=Z.y||b===et.Up&&re>=W.y;if(ve&&!_.x){x.scrollTo({top:re,behavior:p});return}ve?C.y=x.scrollTop-re:C.y=b===et.Down?x.scrollTop-Z.y:x.scrollTop-W.y,C.y&&x.scrollBy({top:-C.y,behavior:p});break}}this.handleMove(e,_l(ya(S,this.referenceCoordinates),C))}}}handleMove(e,o){const{onMove:l}=this.props;e.preventDefault(),l(o)}handleEnd(e){const{onEnd:o}=this.props;e.preventDefault(),this.detach(),o()}handleCancel(e){const{onCancel:o}=this.props;e.preventDefault(),this.detach(),o()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Of.activators=[{eventName:"onKeyDown",handler:(n,e,o)=>{let{keyboardCodes:l=hy,onActivation:r}=e,{active:u}=o;const{code:f}=n.nativeEvent;if(l.start.includes(f)){const p=u.activatorNode.current;return p&&n.target!==p?!1:(n.preventDefault(),r==null||r({event:n.nativeEvent}),!0)}return!1}}];function ng(n){return!!(n&&"distance"in n)}function ig(n){return!!(n&&"delay"in n)}class Vf{constructor(e,o,l){var r;l===void 0&&(l=WE(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=o;const{event:u}=e,{target:f}=u;this.props=e,this.events=o,this.document=Rl(f),this.documentListeners=new ws(this.document),this.listeners=new ws(l),this.windowListeners=new ws(cn(f)),this.initialCoordinates=(r=ks(u))!=null?r:ti,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:o,bypassActivationConstraint:l}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(On.Resize,this.handleCancel),this.windowListeners.add(On.DragStart,tg),this.windowListeners.add(On.VisibilityChange,this.handleCancel),this.windowListeners.add(On.ContextMenu,tg),this.documentListeners.add(On.Keydown,this.handleKeydown),o){if(l!=null&&l({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(ig(o)){this.timeoutId=setTimeout(this.handleStart,o.delay),this.handlePending(o);return}if(ng(o)){this.handlePending(o);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,o){const{active:l,onPending:r}=this.props;r(l,e,this.initialCoordinates,o)}handleStart(){const{initialCoordinates:e}=this,{onStart:o}=this.props;e&&(this.activated=!0,this.documentListeners.add(On.Click,jE,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(On.SelectionChange,this.removeTextSelection),o(e))}handleMove(e){var o;const{activated:l,initialCoordinates:r,props:u}=this,{onMove:f,options:{activationConstraint:p}}=u;if(!r)return;const g=(o=ks(e))!=null?o:ti,m=ya(r,g);if(!l&&p){if(ng(p)){if(p.tolerance!=null&&uf(m,p.tolerance))return this.handleCancel();if(uf(m,p.distance))return this.handleStart()}if(ig(p)&&uf(m,p.tolerance))return this.handleCancel();this.handlePending(p,m);return}e.cancelable&&e.preventDefault(),f(g)}handleEnd(){const{onAbort:e,onEnd:o}=this.props;this.detach(),this.activated||e(this.props.active),o()}handleCancel(){const{onAbort:e,onCancel:o}=this.props;this.detach(),this.activated||e(this.props.active),o()}handleKeydown(e){e.code===et.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const tT={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Bf extends Vf{constructor(e){const{event:o}=e,l=Rl(o.target);super(e,tT,l)}}Bf.activators=[{eventName:"onPointerDown",handler:(n,e)=>{let{nativeEvent:o}=n,{onActivation:l}=e;return!o.isPrimary||o.button!==0?!1:(l==null||l({event:o}),!0)}}];const nT={move:{name:"mousemove"},end:{name:"mouseup"}};var vf;(function(n){n[n.RightClick=2]="RightClick"})(vf||(vf={}));class py extends Vf{constructor(e){super(e,nT,Rl(e.event.target))}}py.activators=[{eventName:"onMouseDown",handler:(n,e)=>{let{nativeEvent:o}=n,{onActivation:l}=e;return o.button===vf.RightClick?!1:(l==null||l({event:o}),!0)}}];const cf={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class my extends Vf{constructor(e){super(e,cf)}static setup(){return window.addEventListener(cf.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(cf.move.name,e)};function e(){}}}my.activators=[{eventName:"onTouchStart",handler:(n,e)=>{let{nativeEvent:o}=n,{onActivation:l}=e;const{touches:r}=o;return r.length>1?!1:(l==null||l({event:o}),!0)}}];var Ds;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(Ds||(Ds={}));var Sa;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(Sa||(Sa={}));function iT(n){let{acceleration:e,activator:o=Ds.Pointer,canScroll:l,draggingRect:r,enabled:u,interval:f=5,order:p=Sa.TreeOrder,pointerCoordinates:g,scrollableAncestors:m,scrollableAncestorRects:v,delta:S,threshold:_}=n;const C=lT({delta:S,disabled:!u}),[A,x]=mE(),b=G.useRef({x:0,y:0}),D=G.useRef({x:0,y:0}),B=G.useMemo(()=>{switch(o){case Ds.Pointer:return g?{top:g.y,bottom:g.y,left:g.x,right:g.x}:null;case Ds.DraggableRect:return r}},[o,r,g]),U=G.useRef(null),X=G.useCallback(()=>{const W=U.current;if(!W)return;const J=b.current.x*D.current.x,j=b.current.y*D.current.y;W.scrollBy(J,j)},[]),Z=G.useMemo(()=>p===Sa.TreeOrder?[...m].reverse():m,[p,m]);G.useEffect(()=>{if(!u||!m.length||!B){x();return}for(const W of Z){if((l==null?void 0:l(W))===!1)continue;const J=m.indexOf(W),j=v[J];if(!j)continue;const{direction:ee,speed:oe}=KE(W,j,B,e,_);for(const re of["x","y"])C[re][ee[re]]||(oe[re]=0,ee[re]=0);if(oe.x>0||oe.y>0){x(),U.current=W,A(X,f),b.current=oe,D.current=ee;return}}b.current={x:0,y:0},D.current={x:0,y:0},x()},[e,X,l,x,u,f,JSON.stringify(B),JSON.stringify(C),A,m,Z,v,JSON.stringify(_)])}const oT={x:{[Ht.Backward]:!1,[Ht.Forward]:!1},y:{[Ht.Backward]:!1,[Ht.Forward]:!1}};function lT(n){let{delta:e,disabled:o}=n;const l=ga(e);return Ps(r=>{if(o||!l||!r)return oT;const u={x:Math.sign(e.x-l.x),y:Math.sign(e.y-l.y)};return{x:{[Ht.Backward]:r.x[Ht.Backward]||u.x===-1,[Ht.Forward]:r.x[Ht.Forward]||u.x===1},y:{[Ht.Backward]:r.y[Ht.Backward]||u.y===-1,[Ht.Forward]:r.y[Ht.Forward]||u.y===1}}},[o,e,l])}function sT(n,e){const o=e!=null?n.get(e):void 0,l=o?o.node.current:null;return Ps(r=>{var u;return e==null?null:(u=l??r)!=null?u:null},[l,e])}function rT(n,e){return G.useMemo(()=>n.reduce((o,l)=>{const{sensor:r}=l,u=r.activators.map(f=>({eventName:f.eventName,handler:e(f.handler,l)}));return[...o,...u]},[]),[n,e])}var Gs;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(Gs||(Gs={}));var Sf;(function(n){n.Optimized="optimized"})(Sf||(Sf={}));const og=new Map;function aT(n,e){let{dragging:o,dependencies:l,config:r}=e;const[u,f]=G.useState(null),{frequency:p,measure:g,strategy:m}=r,v=G.useRef(n),S=b(),_=Ls(S),C=G.useCallback(function(D){D===void 0&&(D=[]),!_.current&&f(B=>B===null?D:B.concat(D.filter(U=>!B.includes(U))))},[_]),A=G.useRef(null),x=Ps(D=>{if(S&&!o)return og;if(!D||D===og||v.current!==n||u!=null){const B=new Map;for(let U of n){if(!U)continue;if(u&&u.length>0&&!u.includes(U.id)&&U.rect.current){B.set(U.id,U.rect.current);continue}const X=U.node.current,Z=X?new zf(g(X),X):null;U.rect.current=Z,Z&&B.set(U.id,Z)}return B}return D},[n,u,o,S,g]);return G.useEffect(()=>{v.current=n},[n]),G.useEffect(()=>{S||C()},[o,S]),G.useEffect(()=>{u&&u.length>0&&f(null)},[JSON.stringify(u)]),G.useEffect(()=>{S||typeof p!="number"||A.current!==null||(A.current=setTimeout(()=>{C(),A.current=null},p))},[p,S,C,...l]),{droppableRects:x,measureDroppableContainers:C,measuringScheduled:u!=null};function b(){switch(m){case Gs.Always:return!1;case Gs.BeforeDragging:return o;default:return!o}}}function Ff(n,e){return Ps(o=>n?o||(typeof e=="function"?e(n):n):null,[e,n])}function uT(n,e){return Ff(n,e)}function cT(n){let{callback:e,disabled:o}=n;const l=xa(e),r=G.useMemo(()=>{if(o||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:u}=window;return new u(l)},[l,o]);return G.useEffect(()=>()=>r==null?void 0:r.disconnect(),[r]),r}function wa(n){let{callback:e,disabled:o}=n;const l=xa(e),r=G.useMemo(()=>{if(o||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:u}=window;return new u(l)},[o]);return G.useEffect(()=>()=>r==null?void 0:r.disconnect(),[r]),r}function fT(n){return new zf(zs(n),n)}function lg(n,e,o){e===void 0&&(e=fT);const[l,r]=G.useState(null);function u(){r(g=>{if(!n)return null;if(n.isConnected===!1){var m;return(m=g??o)!=null?m:null}const v=e(n);return JSON.stringify(g)===JSON.stringify(v)?g:v})}const f=cT({callback(g){if(n)for(const m of g){const{type:v,target:S}=m;if(v==="childList"&&S instanceof HTMLElement&&S.contains(n)){u();break}}}}),p=wa({callback:u});return xi(()=>{u(),n?(p==null||p.observe(n),f==null||f.observe(document.body,{childList:!0,subtree:!0})):(p==null||p.disconnect(),f==null||f.disconnect())},[n]),l}function dT(n){const e=Ff(n);return oy(n,e)}const sg=[];function hT(n){const e=G.useRef(n),o=Ps(l=>n?l&&l!==sg&&n&&e.current&&n.parentNode===e.current.parentNode?l:Pf(n):sg,[n]);return G.useEffect(()=>{e.current=n},[n]),o}function pT(n){const[e,o]=G.useState(null),l=G.useRef(n),r=G.useCallback(u=>{const f=af(u.target);f&&o(p=>p?(p.set(f,yf(f)),new Map(p)):null)},[]);return G.useEffect(()=>{const u=l.current;if(n!==u){f(u);const p=n.map(g=>{const m=af(g);return m?(m.addEventListener("scroll",r,{passive:!0}),[m,yf(m)]):null}).filter(g=>g!=null);o(p.length?new Map(p):null),l.current=n}return()=>{f(n),f(u)};function f(p){p.forEach(g=>{const m=af(g);m==null||m.removeEventListener("scroll",r)})}},[r,n]),G.useMemo(()=>n.length?e?Array.from(e.values()).reduce((u,f)=>_l(u,f),ti):fy(n):ti,[n,e])}function rg(n,e){e===void 0&&(e=[]);const o=G.useRef(null);return G.useEffect(()=>{o.current=null},e),G.useEffect(()=>{const l=n!==ti;l&&!o.current&&(o.current=n),!l&&o.current&&(o.current=null)},[n]),o.current?ya(n,o.current):ti}function mT(n){G.useEffect(()=>{if(!ba)return;const e=n.map(o=>{let{sensor:l}=o;return l.setup==null?void 0:l.setup()});return()=>{for(const o of e)o==null||o()}},n.map(e=>{let{sensor:o}=e;return o}))}function gT(n,e){return G.useMemo(()=>n.reduce((o,l)=>{let{eventName:r,handler:u}=l;return o[r]=f=>{u(f,e)},o},{}),[n,e])}function gy(n){return G.useMemo(()=>n?BE(n):null,[n])}const ag=[];function yT(n,e){e===void 0&&(e=zs);const[o]=n,l=gy(o?cn(o):null),[r,u]=G.useState(ag);function f(){u(()=>n.length?n.map(g=>uy(g)?l:new zf(e(g),g)):ag)}const p=wa({callback:f});return xi(()=>{p==null||p.disconnect(),f(),n.forEach(g=>p==null?void 0:p.observe(g))},[n]),r}function yy(n){if(!n)return null;if(n.children.length>1)return n;const e=n.children[0];return Hs(e)?e:n}function vT(n){let{measure:e}=n;const[o,l]=G.useState(null),r=G.useCallback(m=>{for(const{target:v}of m)if(Hs(v)){l(S=>{const _=e(v);return S?{...S,width:_.width,height:_.height}:_});break}},[e]),u=wa({callback:r}),f=G.useCallback(m=>{const v=yy(m);u==null||u.disconnect(),v&&(u==null||u.observe(v)),l(v?e(v):null)},[e,u]),[p,g]=ma(f);return G.useMemo(()=>({nodeRef:p,rect:o,setRef:g}),[o,p,g])}const ST=[{sensor:Bf,options:{}},{sensor:Of,options:{}}],_T={current:{}},da={draggable:{measure:eg},droppable:{measure:eg,strategy:Gs.WhileDragging,frequency:Sf.Optimized},dragOverlay:{measure:zs}};class Is extends Map{get(e){var o;return e!=null&&(o=super.get(e))!=null?o:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:o}=e;return!o})}getNodeFor(e){var o,l;return(o=(l=this.get(e))==null?void 0:l.node.current)!=null?o:void 0}}const ET={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Is,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:va},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:da,measureDroppableContainers:va,windowRect:null,measuringScheduled:!1},vy={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:va,draggableNodes:new Map,over:null,measureDroppableContainers:va},Os=G.createContext(vy),Sy=G.createContext(ET);function TT(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Is}}}function CT(n,e){switch(e.type){case It.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case It.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:e.coordinates.x-n.draggable.initialCoordinates.x,y:e.coordinates.y-n.draggable.initialCoordinates.y}}};case It.DragEnd:case It.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case It.RegisterDroppable:{const{element:o}=e,{id:l}=o,r=new Is(n.droppable.containers);return r.set(l,o),{...n,droppable:{...n.droppable,containers:r}}}case It.SetDroppableDisabled:{const{id:o,key:l,disabled:r}=e,u=n.droppable.containers.get(o);if(!u||l!==u.key)return n;const f=new Is(n.droppable.containers);return f.set(o,{...u,disabled:r}),{...n,droppable:{...n.droppable,containers:f}}}case It.UnregisterDroppable:{const{id:o,key:l}=e,r=n.droppable.containers.get(o);if(!r||l!==r.key)return n;const u=new Is(n.droppable.containers);return u.delete(o),{...n,droppable:{...n.droppable,containers:u}}}default:return n}}function AT(n){let{disabled:e}=n;const{active:o,activatorEvent:l,draggableNodes:r}=G.useContext(Os),u=ga(l),f=ga(o==null?void 0:o.id);return G.useEffect(()=>{if(!e&&!l&&u&&f!=null){if(!Hf(u)||document.activeElement===u.target)return;const p=r.get(f);if(!p)return;const{activatorNode:g,node:m}=p;if(!g.current&&!m.current)return;requestAnimationFrame(()=>{for(const v of[g.current,m.current]){if(!v)continue;const S=vE(v);if(S){S.focus();break}}})}},[l,e,r,f,u]),null}function _y(n,e){let{transform:o,...l}=e;return n!=null&&n.length?n.reduce((r,u)=>u({transform:r,...l}),o):o}function RT(n){return G.useMemo(()=>({draggable:{...da.draggable,...n==null?void 0:n.draggable},droppable:{...da.droppable,...n==null?void 0:n.droppable},dragOverlay:{...da.dragOverlay,...n==null?void 0:n.dragOverlay}}),[n==null?void 0:n.draggable,n==null?void 0:n.droppable,n==null?void 0:n.dragOverlay])}function MT(n){let{activeNode:e,measure:o,initialRect:l,config:r=!0}=n;const u=G.useRef(!1),{x:f,y:p}=typeof r=="boolean"?{x:r,y:r}:r;xi(()=>{if(!f&&!p||!e){u.current=!1;return}if(u.current||!l)return;const m=e==null?void 0:e.node.current;if(!m||m.isConnected===!1)return;const v=o(m),S=oy(v,l);if(f||(S.x=0),p||(S.y=0),u.current=!0,Math.abs(S.x)>0||Math.abs(S.y)>0){const _=sy(m);_&&_.scrollBy({top:S.y,left:S.x})}},[e,f,p,l,o])}const Da=G.createContext({...ti,scaleX:1,scaleY:1});var fo;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(fo||(fo={}));const bT=G.memo(function(e){var o,l,r,u;let{id:f,accessibility:p,autoScroll:g=!0,children:m,sensors:v=ST,collisionDetection:S=iy,measuring:_,modifiers:C,...A}=e;const x=G.useReducer(CT,void 0,TT),[b,D]=x,[B,U]=AE(),[X,Z]=G.useState(fo.Uninitialized),W=X===fo.Initialized,{draggable:{active:J,nodes:j,translate:ee},droppable:{containers:oe}}=b,re=J!=null?j.get(J):null,ve=G.useRef({initial:null,translated:null}),he=G.useMemo(()=>{var We;return J!=null?{id:J,data:(We=re==null?void 0:re.data)!=null?We:_T,rect:ve}:null},[J,re]),Re=G.useRef(null),[Fe,z]=G.useState(null),[te,pe]=G.useState(null),Me=Ls(A,Object.values(A)),we=Na("DndDescribedBy",f),N=G.useMemo(()=>oe.getEnabled(),[oe]),Y=RT(_),{droppableRects:ie,measureDroppableContainers:le,measuringScheduled:ae}=aT(N,{dragging:W,dependencies:[ee.x,ee.y],config:Y.droppable}),ye=sT(j,J),Ne=G.useMemo(()=>te?ks(te):null,[te]),Ge=pn(),He=uT(ye,Y.draggable.measure);MT({activeNode:J!=null?j.get(J):null,config:Ge.layoutShiftCompensation,initialRect:He,measure:Y.draggable.measure});const Ze=lg(ye,Y.draggable.measure,He),xt=lg(ye?ye.parentElement:null),nn=G.useRef({activatorEvent:null,active:null,activeNode:ye,collisionRect:null,collisions:null,droppableRects:ie,draggableNodes:j,draggingNode:null,draggingNodeRect:null,droppableContainers:oe,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),fn=oe.getNodeFor((o=nn.current.over)==null?void 0:o.id),rt=vT({measure:Y.dragOverlay.measure}),Kt=(l=rt.nodeRef.current)!=null?l:ye,vt=W?(r=rt.rect)!=null?r:Ze:null,Fn=!!(rt.nodeRef.current&&rt.rect),Yn=dT(Fn?null:Ze),on=gy(Kt?cn(Kt):null),St=hT(W?fn??ye:null),En=yT(St),ii=_y(C,{transform:{x:ee.x-Yn.x,y:ee.y-Yn.y,scaleX:1,scaleY:1},activatorEvent:te,active:he,activeNodeRect:Ze,containerNodeRect:xt,draggingNodeRect:vt,over:nn.current.over,overlayNodeRect:rt.rect,scrollableAncestors:St,scrollableAncestorRects:En,windowRect:on}),Tn=Ne?_l(Ne,ee):null,at=pT(St),po=rg(at),Ui=rg(at,[Ze]),dn=_l(ii,po),$t=vt?zE(vt,ii):null,Jn=he&&$t?S({active:he,collisionRect:$t,droppableRects:ie,droppableContainers:N,pointerCoordinates:Tn}):null,ui=LE(Jn,"id"),[hn,Li]=G.useState(null),Kn=Fn?ii:_l(ii,Ui),Nt=HE(Kn,(u=hn==null?void 0:hn.rect)!=null?u:null,Ze),De=G.useRef(null),_e=G.useCallback((We,ct)=>{let{sensor:_t,options:Qt}=ct;if(Re.current==null)return;const Zt=j.get(Re.current);if(!Zt)return;const Lt=We.nativeEvent,Wt=new _t({active:Re.current,activeNode:Zt,event:Lt,options:Qt,context:nn,onAbort(nt){if(!j.get(nt))return;const{onDragAbort:kt}=Me.current,ne={id:nt};kt==null||kt(ne),B({type:"onDragAbort",event:ne})},onPending(nt,ft,kt,ne){if(!j.get(nt))return;const{onDragPending:Ke}=Me.current,dt={id:nt,constraint:ft,initialCoordinates:kt,offset:ne};Ke==null||Ke(dt),B({type:"onDragPending",event:dt})},onStart(nt){const ft=Re.current;if(ft==null)return;const kt=j.get(ft);if(!kt)return;const{onDragStart:ne}=Me.current,sn={activatorEvent:Lt,active:{id:ft,data:kt.data,rect:ve}};xs.unstable_batchedUpdates(()=>{ne==null||ne(sn),Z(fo.Initializing),D({type:It.DragStart,initialCoordinates:nt,active:ft}),B({type:"onDragStart",event:sn}),z(De.current),pe(Lt)})},onMove(nt){D({type:It.DragMove,coordinates:nt})},onEnd:P(It.DragEnd),onCancel:P(It.DragCancel)});De.current=Wt;function P(nt){return async function(){const{active:kt,collisions:ne,over:sn,scrollAdjustedTranslate:Ke}=nn.current;let dt=null;if(kt&&Ke){const{cancelDrop:oi}=Me.current;dt={activatorEvent:Lt,active:kt,collisions:ne,delta:Ke,over:sn},nt===It.DragEnd&&typeof oi=="function"&&await Promise.resolve(oi(dt))&&(nt=It.DragCancel)}Re.current=null,xs.unstable_batchedUpdates(()=>{D({type:nt}),Z(fo.Uninitialized),Li(null),z(null),pe(null),De.current=null;const oi=nt===It.DragEnd?"onDragEnd":"onDragCancel";if(dt){const it=Me.current[oi];it==null||it(dt),B({type:oi,event:dt})}})}}},[j]),tt=G.useCallback((We,ct)=>(_t,Qt)=>{const Zt=_t.nativeEvent,Lt=j.get(Qt);if(Re.current!==null||!Lt||Zt.dndKit||Zt.defaultPrevented)return;const Wt={active:Lt};We(_t,ct.options,Wt)===!0&&(Zt.dndKit={capturedBy:ct.sensor},Re.current=Qt,_e(_t,ct))},[j,_e]),ln=rT(v,tt);mT(v),xi(()=>{Ze&&X===fo.Initializing&&Z(fo.Initialized)},[Ze,X]),G.useEffect(()=>{const{onDragMove:We}=Me.current,{active:ct,activatorEvent:_t,collisions:Qt,over:Zt}=nn.current;if(!ct||!_t)return;const Lt={active:ct,activatorEvent:_t,collisions:Qt,delta:{x:dn.x,y:dn.y},over:Zt};xs.unstable_batchedUpdates(()=>{We==null||We(Lt),B({type:"onDragMove",event:Lt})})},[dn.x,dn.y]),G.useEffect(()=>{const{active:We,activatorEvent:ct,collisions:_t,droppableContainers:Qt,scrollAdjustedTranslate:Zt}=nn.current;if(!We||Re.current==null||!ct||!Zt)return;const{onDragOver:Lt}=Me.current,Wt=Qt.get(ui),P=Wt&&Wt.rect.current?{id:Wt.id,rect:Wt.rect.current,data:Wt.data,disabled:Wt.disabled}:null,nt={active:We,activatorEvent:ct,collisions:_t,delta:{x:Zt.x,y:Zt.y},over:P};xs.unstable_batchedUpdates(()=>{Li(P),Lt==null||Lt(nt),B({type:"onDragOver",event:nt})})},[ui]),xi(()=>{nn.current={activatorEvent:te,active:he,activeNode:ye,collisionRect:$t,collisions:Jn,droppableRects:ie,draggableNodes:j,draggingNode:Kt,draggingNodeRect:vt,droppableContainers:oe,over:hn,scrollableAncestors:St,scrollAdjustedTranslate:dn},ve.current={initial:vt,translated:$t}},[he,ye,Jn,$t,j,Kt,vt,ie,oe,hn,St,dn]),iT({...Ge,delta:ee,draggingRect:$t,pointerCoordinates:Tn,scrollableAncestors:St,scrollableAncestorRects:En});const Xt=G.useMemo(()=>({active:he,activeNode:ye,activeNodeRect:Ze,activatorEvent:te,collisions:Jn,containerNodeRect:xt,dragOverlay:rt,draggableNodes:j,droppableContainers:oe,droppableRects:ie,over:hn,measureDroppableContainers:le,scrollableAncestors:St,scrollableAncestorRects:En,measuringConfiguration:Y,measuringScheduled:ae,windowRect:on}),[he,ye,Ze,te,Jn,xt,rt,j,oe,ie,hn,le,St,En,Y,ae,on]),Ut=G.useMemo(()=>({activatorEvent:te,activators:ln,active:he,activeNodeRect:Ze,ariaDescribedById:{draggable:we},dispatch:D,draggableNodes:j,over:hn,measureDroppableContainers:le}),[te,ln,he,Ze,D,we,j,hn,le]);return mt.createElement(ny.Provider,{value:U},mt.createElement(Os.Provider,{value:Ut},mt.createElement(Sy.Provider,{value:Xt},mt.createElement(Da.Provider,{value:Nt},m)),mt.createElement(AT,{disabled:(p==null?void 0:p.restoreFocus)===!1})),mt.createElement(bE,{...p,hiddenTextDescribedById:we}));function pn(){const We=(Fe==null?void 0:Fe.autoScrollEnabled)===!1,ct=typeof g=="object"?g.enabled===!1:g===!1,_t=W&&!We&&!ct;return typeof g=="object"?{...g,enabled:_t}:{enabled:_t}}}),xT=G.createContext(null),ug="button",NT="Draggable";function wT(n){let{id:e,data:o,disabled:l=!1,attributes:r}=n;const u=Na(NT),{activators:f,activatorEvent:p,active:g,activeNodeRect:m,ariaDescribedById:v,draggableNodes:S,over:_}=G.useContext(Os),{role:C=ug,roleDescription:A="draggable",tabIndex:x=0}=r??{},b=(g==null?void 0:g.id)===e,D=G.useContext(b?Da:xT),[B,U]=ma(),[X,Z]=ma(),W=gT(f,e),J=Ls(o);xi(()=>(S.set(e,{id:e,key:u,node:B,activatorNode:X,data:J}),()=>{const ee=S.get(e);ee&&ee.key===u&&S.delete(e)}),[S,e]);const j=G.useMemo(()=>({role:C,tabIndex:x,"aria-disabled":l,"aria-pressed":b&&C===ug?!0:void 0,"aria-roledescription":A,"aria-describedby":v.draggable}),[l,C,x,b,A,v.draggable]);return{active:g,activatorEvent:p,activeNodeRect:m,attributes:j,isDragging:b,listeners:l?void 0:W,node:B,over:_,setNodeRef:U,setActivatorNodeRef:Z,transform:D}}function DT(){return G.useContext(Sy)}const IT="Droppable",UT={timeout:25};function LT(n){let{data:e,disabled:o=!1,id:l,resizeObserverConfig:r}=n;const u=Na(IT),{active:f,dispatch:p,over:g,measureDroppableContainers:m}=G.useContext(Os),v=G.useRef({disabled:o}),S=G.useRef(!1),_=G.useRef(null),C=G.useRef(null),{disabled:A,updateMeasurementsFor:x,timeout:b}={...UT,...r},D=Ls(x??l),B=G.useCallback(()=>{if(!S.current){S.current=!0;return}C.current!=null&&clearTimeout(C.current),C.current=setTimeout(()=>{m(Array.isArray(D.current)?D.current:[D.current]),C.current=null},b)},[b]),U=wa({callback:B,disabled:A||!f}),X=G.useCallback((j,ee)=>{U&&(ee&&(U.unobserve(ee),S.current=!1),j&&U.observe(j))},[U]),[Z,W]=ma(X),J=Ls(e);return G.useEffect(()=>{!U||!Z.current||(U.disconnect(),S.current=!1,U.observe(Z.current))},[Z,U]),G.useEffect(()=>(p({type:It.RegisterDroppable,element:{id:l,key:u,disabled:o,node:Z,rect:_,data:J}}),()=>p({type:It.UnregisterDroppable,key:u,id:l})),[l]),G.useEffect(()=>{o!==v.current.disabled&&(p({type:It.SetDroppableDisabled,id:l,key:u,disabled:o}),v.current.disabled=o)},[l,u,o,p]),{active:f,rect:_,isOver:(g==null?void 0:g.id)===l,node:Z,over:g,setNodeRef:W}}function kT(n){let{animation:e,children:o}=n;const[l,r]=G.useState(null),[u,f]=G.useState(null),p=ga(o);return!o&&!l&&p&&r(p),xi(()=>{if(!u)return;const g=l==null?void 0:l.key,m=l==null?void 0:l.props.id;if(g==null||m==null){r(null);return}Promise.resolve(e(m,u)).then(()=>{r(null)})},[e,l,u]),mt.createElement(mt.Fragment,null,o,l?G.cloneElement(l,{ref:f}):null)}const qT={x:0,y:0,scaleX:1,scaleY:1};function GT(n){let{children:e}=n;return mt.createElement(Os.Provider,{value:vy},mt.createElement(Da.Provider,{value:qT},e))}const HT={position:"fixed",touchAction:"none"},PT=n=>Hf(n)?"transform 250ms ease":void 0,zT=G.forwardRef((n,e)=>{let{as:o,activatorEvent:l,adjustScale:r,children:u,className:f,rect:p,style:g,transform:m,transition:v=PT}=n;if(!p)return null;const S=r?m:{...m,scaleX:1,scaleY:1},_={...HT,width:p.width,height:p.height,top:p.top,left:p.left,transform:qs.Transform.toString(S),transformOrigin:r&&l?wE(l,p):void 0,transition:typeof v=="function"?v(l):v,...g};return mt.createElement(o,{className:f,style:_,ref:e},u)}),OT=n=>e=>{let{active:o,dragOverlay:l}=e;const r={},{styles:u,className:f}=n;if(u!=null&&u.active)for(const[p,g]of Object.entries(u.active))g!==void 0&&(r[p]=o.node.style.getPropertyValue(p),o.node.style.setProperty(p,g));if(u!=null&&u.dragOverlay)for(const[p,g]of Object.entries(u.dragOverlay))g!==void 0&&l.node.style.setProperty(p,g);return f!=null&&f.active&&o.node.classList.add(f.active),f!=null&&f.dragOverlay&&l.node.classList.add(f.dragOverlay),function(){for(const[g,m]of Object.entries(r))o.node.style.setProperty(g,m);f!=null&&f.active&&o.node.classList.remove(f.active)}},VT=n=>{let{transform:{initial:e,final:o}}=n;return[{transform:qs.Transform.toString(e)},{transform:qs.Transform.toString(o)}]},BT={duration:250,easing:"ease",keyframes:VT,sideEffects:OT({styles:{active:{opacity:"0"}}})};function FT(n){let{config:e,draggableNodes:o,droppableContainers:l,measuringConfiguration:r}=n;return xa((u,f)=>{if(e===null)return;const p=o.get(u);if(!p)return;const g=p.node.current;if(!g)return;const m=yy(f);if(!m)return;const{transform:v}=cn(f).getComputedStyle(f),S=ly(v);if(!S)return;const _=typeof e=="function"?e:YT(e);return dy(g,r.draggable.measure),_({active:{id:u,data:p.data,node:g,rect:r.draggable.measure(g)},draggableNodes:o,dragOverlay:{node:f,rect:r.dragOverlay.measure(m)},droppableContainers:l,measuringConfiguration:r,transform:S})})}function YT(n){const{duration:e,easing:o,sideEffects:l,keyframes:r}={...BT,...n};return u=>{let{active:f,dragOverlay:p,transform:g,...m}=u;if(!e)return;const v={x:p.rect.left-f.rect.left,y:p.rect.top-f.rect.top},S={scaleX:g.scaleX!==1?f.rect.width*g.scaleX/p.rect.width:1,scaleY:g.scaleY!==1?f.rect.height*g.scaleY/p.rect.height:1},_={x:g.x-v.x,y:g.y-v.y,...S},C=r({...m,active:f,dragOverlay:p,transform:{initial:g,final:_}}),[A]=C,x=C[C.length-1];if(JSON.stringify(A)===JSON.stringify(x))return;const b=l==null?void 0:l({active:f,dragOverlay:p,...m}),D=p.node.animate(C,{duration:e,easing:o,fill:"forwards"});return new Promise(B=>{D.onfinish=()=>{b==null||b(),B()}})}}let cg=0;function JT(n){return G.useMemo(()=>{if(n!=null)return cg++,cg},[n])}const KT=mt.memo(n=>{let{adjustScale:e=!1,children:o,dropAnimation:l,style:r,transition:u,modifiers:f,wrapperElement:p="div",className:g,zIndex:m=999}=n;const{activatorEvent:v,active:S,activeNodeRect:_,containerNodeRect:C,draggableNodes:A,droppableContainers:x,dragOverlay:b,over:D,measuringConfiguration:B,scrollableAncestors:U,scrollableAncestorRects:X,windowRect:Z}=DT(),W=G.useContext(Da),J=JT(S==null?void 0:S.id),j=_y(f,{activatorEvent:v,active:S,activeNodeRect:_,containerNodeRect:C,draggingNodeRect:b.rect,over:D,overlayNodeRect:b.rect,scrollableAncestors:U,scrollableAncestorRects:X,transform:W,windowRect:Z}),ee=Ff(_),oe=FT({config:l,draggableNodes:A,droppableContainers:x,measuringConfiguration:B}),re=ee?b.setRef:void 0;return mt.createElement(GT,null,mt.createElement(kT,{animation:oe},S&&J?mt.createElement(zT,{key:J,id:S.id,ref:re,as:p,activatorEvent:v,adjustScale:e,className:g,transition:u,rect:ee,style:{zIndex:m,...r},transform:j},o):null))}),$T=n=>{let{activatorEvent:e,draggingNodeRect:o,transform:l}=n;if(o&&e){const r=ks(e);if(!r)return l;const u=r.x-o.left,f=r.y-o.top;return{...l,x:l.x+u-o.width/2,y:l.y+f-o.height/2}}return l};function XT(n,e,o){const l=Array.from(Array(n),()=>new Array(e));for(let r=0;r<n;r++)for(let u=0;u<e;u++)l[r][u]={squareId:`${Yf(u,e,o)}${Ey(r,n,o)}`,isLightSquare:(r+u)%2===0};return l}function Ey(n,e,o){return o==="white"?(e-n).toString():(n+1).toString()}function Yf(n,e,o){return o==="white"?String.fromCharCode(97+n):String.fromCharCode(97+e-n-1)}function ko(n,e,o){return o==="white"?n.charCodeAt(0)-97:e-(n.charCodeAt(0)-97)-1}function _f(n,e,o){return o==="white"?e-Number(n):Number(n)-1}function ff(n,e,o){const l={},r=n.split(" ")[0].split("/");for(let u=0;u<r.length;u++){let f=0;for(const p of r[u])if(isNaN(Number(p))){const g=`${Yf(f,o,"white")}${Ey(u,e,"white")}`;l[g]={pieceType:QT(p)},f++}else f+=Number(p)}return l}function QT(n){return n.toLowerCase()===n?"b"+n.toUpperCase():"w"+n.toUpperCase()}function ZT(n,e,o,l){var u,f,p,g,m,v,S,_,C,A,x,b;const r={};for(const D in e){const B=[];if(((u=n[D])==null?void 0:u.pieceType)!==e[D].pieceType){for(const U in n)n[U].pieceType===e[D].pieceType&&U!==D&&n[U].pieceType!==((f=e[U])==null?void 0:f.pieceType)&&B.push(U);if(B.length===1)r[B[0]]=D;else{for(const U of B){const X=n[U].pieceType[1],Z=Math.abs(ko(((p=U.match(/^[a-z]+/))==null?void 0:p[0])??"",o,l)-ko(((g=D.match(/^[a-z]+/))==null?void 0:g[0])??"",o,l)),W=Math.abs(Number(((m=U.match(/\d+$/))==null?void 0:m[0])??"")-Number(((v=D.match(/\d+$/))==null?void 0:v[0])??"")),J=(ko(((S=U.match(/^[a-z]+/))==null?void 0:S[0])??"",o,l)+Number(((_=U.match(/\d+$/))==null?void 0:_[0])??""))%2===0,j=(ko(((C=D.match(/^[a-z]+/))==null?void 0:C[0])??"",o,l)+Number(((A=D.match(/\d+$/))==null?void 0:A[0])??""))%2===0;if(X==="P"&&((x=U.match(/^[a-z]+/))==null?void 0:x[0])===((b=D.match(/^[a-z]+/))==null?void 0:b[0])){r[U]=D;break}if(X==="N"&&(Z===2&&W===1||Z===1&&W===2)){r[U]=D;break}if(X==="B"&&Z===W&&J===j){r[U]=D;break}if(X==="R"&&(Z===0||W===0)){r[U]=D;break}if(X==="Q"&&(Z===0||W===0||Z===W)){r[U]=D;break}if(X==="K"&&Z<=1&&W<=1){r[U]=D;break}}if(!Object.values(r).includes(D)&&B.length>0){for(const U of B)if(!Object.keys(r).includes(U)){r[U]=D;break}}}}}return r}function WT(n,e,o,l){var u,f;const r={};for(const p in e)if(((u=n[p])==null?void 0:u.pieceType)!==e[p].pieceType)for(const g in n)((f=e[g])==null?void 0:f.pieceType)!==n[g].pieceType&&jT(n,e,g,p,o,l)&&(r[g]=p);return r}function jT(n,e,o,l,r,u){const f=n[o].pieceType,p=e[l].pieceType,g=new Set(["Q","R","B","N"]);let m,v;if(f[1]==="P"&&g.has(p[1]))m=o,v=l;else if(p[1]==="P"&&g.has(f[1]))m=l,v=o;else return!1;if(Math.abs(ko(m[0],u,"black")-ko(v[0],u,"black"))>1||f[0]!==p[0])return!1;const _=_f(m[1],r,"black"),C=_f(v[1],r,"black");return f[0]==="b"&&_===1&&C===0?!0:f[0]==="w"&&_===r-2&&C===r-1}function fg(n,e,o,l,r){var g,m;const u=e/o,f=ko(((g=r.match(/^[a-z]+/))==null?void 0:g[0])??"",o,n)*u+u/2,p=_f(((m=r.match(/\d+$/))==null?void 0:m[0])??"",l,n)*u+u/2;return{x:f,y:p}}const eC={wP:n=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:n==null?void 0:n.svgStyle,children:M.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:(n==null?void 0:n.fill)??"#ffffff",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})}),wR:n=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:n==null?void 0:n.svgStyle,children:M.jsxs("g",{style:{opacity:"1",fill:(n==null?void 0:n.fill)??"#ffffff",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[M.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),M.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),M.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14",style:{strokeLinecap:"butt"}}),M.jsx("path",{d:"M 34,14 L 31,17 L 14,17 L 11,14"}),M.jsx("path",{d:"M 31,17 L 31,29.5 L 14,29.5 L 14,17",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),M.jsx("path",{d:"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5"}),M.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]})}),wN:n=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:n==null?void 0:n.svgStyle,children:M.jsxs("g",{style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[M.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:(n==null?void 0:n.fill)??"#ffffff",stroke:"#000000"}}),M.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:(n==null?void 0:n.fill)??"#ffffff",stroke:"#000000"}}),M.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#000000",stroke:"#000000"}}),M.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#000000",stroke:"#000000"}})]})}),wB:n=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:n==null?void 0:n.svgStyle,children:M.jsxs("g",{style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[M.jsxs("g",{style:{fill:(n==null?void 0:n.fill)??"#ffffff",stroke:"#000000",strokeLinecap:"butt"},children:[M.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),M.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),M.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]}),M.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]})}),wQ:n=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:n==null?void 0:n.svgStyle,children:M.jsxs("g",{style:{fill:(n==null?void 0:n.fill)??"#ffffff",stroke:"#000000",strokeWidth:"1.5",strokeLinejoin:"round"},children:[M.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"}),M.jsx("path",{d:"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 11,36 11,36 C 9.5,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"}),M.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30",style:{fill:"none"}}),M.jsx("path",{d:"M 12,33.5 C 18,32.5 27,32.5 33,33.5",style:{fill:"none"}}),M.jsx("circle",{cx:"6",cy:"12",r:"2"}),M.jsx("circle",{cx:"14",cy:"9",r:"2"}),M.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),M.jsx("circle",{cx:"31",cy:"9",r:"2"}),M.jsx("circle",{cx:"39",cy:"12",r:"2"})]})}),wK:n=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:n==null?void 0:n.svgStyle,children:M.jsxs("g",{style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[M.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),M.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),M.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:(n==null?void 0:n.fill)??"#ffffff",stroke:"#000000",strokeLinecap:"butt",strokeLinejoin:"miter"}}),M.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:(n==null?void 0:n.fill)??"#ffffff",stroke:"#000000"}}),M.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30",style:{fill:"none",stroke:"#000000"}}),M.jsx("path",{d:"M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5",style:{fill:"none",stroke:"#000000"}}),M.jsx("path",{d:"M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#000000"}})]})}),bP:n=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:n==null?void 0:n.svgStyle,children:M.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:(n==null?void 0:n.fill)??"#000000",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})}),bR:n=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:n==null?void 0:n.svgStyle,children:M.jsxs("g",{style:{opacity:"1",fill:(n==null?void 0:n.fill)??"#000000",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[M.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),M.jsx("path",{d:"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z ",style:{strokeLinecap:"butt"}}),M.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),M.jsx("path",{d:"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z ",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),M.jsx("path",{d:"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z ",style:{strokeLinecap:"butt"}}),M.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z ",style:{strokeLinecap:"butt"}}),M.jsx("path",{d:"M 12,35.5 L 33,35.5 L 33,35.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),M.jsx("path",{d:"M 13,31.5 L 32,31.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),M.jsx("path",{d:"M 14,29.5 L 31,29.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),M.jsx("path",{d:"M 14,16.5 L 31,16.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),M.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}})]})}),bN:n=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:n==null?void 0:n.svgStyle,children:M.jsxs("g",{style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[M.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:(n==null?void 0:n.fill)??"#000000",stroke:"#000000"}}),M.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:(n==null?void 0:n.fill)??"#000000",stroke:"#000000"}}),M.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#ffffff",stroke:"#ffffff"}}),M.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#ffffff",stroke:"#ffffff"}}),M.jsx("path",{d:"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z ",style:{fill:"#ffffff",stroke:"none"}})]})}),bB:n=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:n==null?void 0:n.svgStyle,children:M.jsxs("g",{style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[M.jsxs("g",{style:{fill:(n==null?void 0:n.fill)??"#000000",stroke:"#000000",strokeLinecap:"butt"},children:[M.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),M.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),M.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]}),M.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#ffffff",strokeLinejoin:"miter"}})]})}),bQ:n=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:n==null?void 0:n.svgStyle,children:M.jsxs("g",{style:{fill:(n==null?void 0:n.fill)??"#000000",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},children:[M.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z",style:{strokeLinecap:"butt",fill:(n==null?void 0:n.fill)??"#000000"}}),M.jsx("path",{d:"m 9,26 c 0,2 1.5,2 2.5,4 1,1.5 1,1 0.5,3.5 -1.5,1 -1,2.5 -1,2.5 -1.5,1.5 0,2.5 0,2.5 6.5,1 16.5,1 23,0 0,0 1.5,-1 0,-2.5 0,0 0.5,-1.5 -1,-2.5 -0.5,-2.5 -0.5,-2 0.5,-3.5 1,-2 2.5,-2 2.5,-4 -8.5,-1.5 -18.5,-1.5 -27,0 z"}),M.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30"}),M.jsx("path",{d:"m 12,33.5 c 6,-1 15,-1 21,0"}),M.jsx("circle",{cx:"6",cy:"12",r:"2"}),M.jsx("circle",{cx:"14",cy:"9",r:"2"}),M.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),M.jsx("circle",{cx:"31",cy:"9",r:"2"}),M.jsx("circle",{cx:"39",cy:"12",r:"2"}),M.jsx("path",{d:"M 11,38.5 A 35,35 1 0 0 34,38.5",style:{fill:"none",stroke:"#000000",strokeLinecap:"butt"}}),M.jsxs("g",{style:{fill:"none",stroke:"#ffffff"},children:[M.jsx("path",{d:"M 11,29 A 35,35 1 0 1 34,29"}),M.jsx("path",{d:"M 12.5,31.5 L 32.5,31.5"}),M.jsx("path",{d:"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"}),M.jsx("path",{d:"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"})]})]})}),bK:n=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:n==null?void 0:n.svgStyle,children:M.jsxs("g",{style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[M.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"},id:"path6570"}),M.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:(n==null?void 0:n.fill)??"#000000",fillOpacity:"1",strokeLinecap:"butt",strokeLinejoin:"miter"}}),M.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:(n==null?void 0:n.fill)??"#000000",stroke:"#000000"}}),M.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),M.jsx("path",{d:"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.5,26.6 L 22.5,24.5 C 20,18 10.85,14 6.97,19.85 C 4.5,25.5 13,29.5 13,29.5",style:{fill:"none",stroke:"#ffffff"}}),M.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30 M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5 M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#ffffff"}})]})})};function Ty(n){return{display:"grid",gridTemplateColumns:`repeat(${n}, 1fr)`,overflow:"hidden",width:"100%",height:"100%",position:"relative"}}const Cy={aspectRatio:"1/1",display:"flex",justifyContent:"center",alignItems:"center",position:"relative"},Ay={backgroundColor:"#B58863"},Ry={backgroundColor:"#F0D9B5"},My={boxShadow:"inset 0px 0px 0px 1px black"},by={color:"#F0D9B5"},xy={color:"#B58863"},Ny={fontSize:"13px",position:"absolute",bottom:1,right:4,userSelect:"none"},wy={fontSize:"13px",position:"absolute",top:2,left:2,userSelect:"none"},Dy={transform:"scale(1.2)"},Iy={opacity:.5},tC={color:"#ffaa00",secondaryColor:"#4caf50",tertiaryColor:"#f44336",arrowLengthReducerDenominator:8,sameTargetArrowLengthReducerDenominator:4,arrowWidthDenominator:5,activeArrowWidthMultiplier:.9,opacity:.65,activeOpacity:.5};class nC extends Bf{constructor(o){super(o);st(this,"handleContextMenu",()=>{this.props&&typeof this.props.onCancel=="function"&&this.props.onCancel()});typeof window<"u"&&window.addEventListener("contextmenu",this.handleContextMenu,{passive:!1})}teardown(){typeof window<"u"&&window.removeEventListener("contextmenu",this.handleContextMenu)}}const Uy=G.createContext(null),Ml=()=>G.use(Uy);function iC({children:n,options:e}){const{id:o="chessboard",pieces:l=eC,position:r="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR",boardOrientation:u="white",chessboardRows:f=8,chessboardColumns:p=8,boardStyle:g=Ty(p),squareStyle:m=Cy,squareStyles:v={},darkSquareStyle:S=Ay,lightSquareStyle:_=Ry,dropSquareStyle:C=My,draggingPieceStyle:A=Dy,draggingPieceGhostStyle:x=Iy,darkSquareNotationStyle:b=by,lightSquareNotationStyle:D=xy,alphaNotationStyle:B=Ny,numericNotationStyle:U=wy,showNotation:X=!0,animationDurationInMs:Z=300,showAnimations:W=!0,allowDragging:J=!0,allowDragOffBoard:j=!0,allowAutoScroll:ee=!1,dragActivationDistance:oe=1,allowDrawingArrows:re=!0,arrows:ve=[],arrowOptions:he=tC,clearArrowsOnClick:Re=!0,clearArrowsOnPositionChange:Fe=!0,canDragPiece:z,onArrowsChange:te,onMouseOutSquare:pe,onMouseOverSquare:Me,onPieceClick:we,onPieceDrag:N,onPieceDrop:Y,onSquareClick:ie,onSquareMouseDown:le,onSquareMouseUp:ae,onSquareRightClick:ye,squareRenderer:Ne}=e||{},[Ge,He]=G.useState(null),[Ze,xt]=G.useState(typeof r=="string"?ff(r,f,p):r),[nn,fn]=G.useState({}),[rt,Kt]=G.useState(null),[vt,Fn]=G.useState(null),[Yn,on]=G.useState(null),[St,En]=G.useState([]),[ii,Tn]=G.useState(null),at=G.useRef(null),po=`dnd-${o}`;G.useEffect(()=>{const De=typeof r=="string"?ff(r,f,p):r;if(Fe&&$t(),!W){xt(De);return}const _e=ii;_e&&(xt(_e),Tn(null));const tt=ZT(_e??Ze,De,p,u),ln=Object.keys(tt).length>1;if(rt&&ln){const Ut={...Ze};delete Ut[rt.sourceSquare],Ut[rt.targetSquare]={pieceType:rt.piece},xt(Ut);const pn={...tt};delete pn[rt.sourceSquare],fn(pn);const We=setTimeout(()=>{xt(De),fn({}),Kt(null)},Z);at.current=We;return}if(rt){xt(De),Kt(null);return}if(Object.keys(tt).length===0){const Ut=WT(_e??Ze,De,f,p);if(Object.keys(Ut).length===1){fn(Ut),Tn(De);const pn=setTimeout(()=>{xt(De),fn({}),Tn(null)},Z);at.current=pn;return}}fn(tt),Tn(De);const Xt=setTimeout(()=>{xt(De),fn({}),Tn(null)},Z);return at.current=Xt,()=>{at.current&&clearTimeout(at.current)}},[r]),G.useEffect(()=>{xt(typeof r=="string"?ff(r,f,p):r)},[f,p,u]),G.useEffect(()=>{te==null||te({arrows:St})},[St]);const Ui=G.useMemo(()=>XT(f,p,u),[f,p,u]),dn=G.useCallback((De,_e)=>{if(!re)return;const tt=St.findIndex(Xt=>Xt.startSquare===vt&&Xt.endSquare===De);if(ve.some(Xt=>Xt.startSquare===vt&&Xt.endSquare===De)){Fn(null),on(null);return}if(vt&&vt!==De){const Xt=_e!=null&&_e.shiftKey?he.secondaryColor:_e!=null&&_e.ctrlKey?he.tertiaryColor:he.color;En(Ut=>tt===-1?[...Ut,{startSquare:vt,endSquare:De,color:Xt}]:Ut.filter((pn,We)=>We!==tt)),Fn(null),on(null)}},[re,ve,he.color,he.secondaryColor,he.tertiaryColor,St,vt,Yn]),$t=G.useCallback(()=>{Re&&(En([]),Fn(null),on(null))},[Re]),Jn=G.useCallback((De,_e)=>{const tt=_e!=null&&_e.shiftKey?he.secondaryColor:_e!=null&&_e.ctrlKey?he.tertiaryColor:he.color;on(De?{square:De,color:tt}:null)},[he]),ui=G.useCallback(()=>{He(null)},[]),hn=G.useCallback(function(_e){var ln;if(!Ge)return;const tt=(ln=_e.over)==null?void 0:ln.id.toString();if(!tt){Y==null||Y({piece:Ge,sourceSquare:Ge.position,targetSquare:null}),Kt({piece:Ge.pieceType,sourceSquare:Ge.position,targetSquare:""}),He(null);return}_e.over&&(Y!=null&&Y({piece:Ge,sourceSquare:Ge.position,targetSquare:tt})&&Kt({piece:Ge.pieceType,sourceSquare:Ge.position,targetSquare:tt}),He(null))},[Ge]),Li=G.useCallback(function({active:_e}){var ln;const tt=(ln=_e.data.current)==null?void 0:ln.isSparePiece;N==null||N({isSparePiece:tt,piece:tt?{pieceType:_e.id}:Ze[_e.id],square:tt?null:_e.id}),He({isSparePiece:tt,position:_e.id,pieceType:tt?_e.id:Ze[_e.id].pieceType})},[Ze]),Kn=xE(oa(nC,{activationConstraint:oe>0?{distance:oe}:void 0}),oa(Of),oa(my),oa(py));function Nt(De){return De.pointerCoordinates?GE(De):iy(De)}return M.jsx(Uy.Provider,{value:{id:o,pieces:l,boardOrientation:u,chessboardRows:f,chessboardColumns:p,boardStyle:g,squareStyle:m,squareStyles:v,darkSquareStyle:S,lightSquareStyle:_,dropSquareStyle:C,draggingPieceStyle:A,draggingPieceGhostStyle:x,darkSquareNotationStyle:b,lightSquareNotationStyle:D,alphaNotationStyle:B,numericNotationStyle:U,showNotation:X,animationDurationInMs:Z,showAnimations:W,allowDragging:J,allowDragOffBoard:j,allowDrawingArrows:re,arrows:ve,arrowOptions:he,canDragPiece:z,onMouseOutSquare:pe,onMouseOverSquare:Me,onPieceClick:we,onSquareClick:ie,onSquareMouseDown:le,onSquareMouseUp:ae,onSquareRightClick:ye,squareRenderer:Ne,board:Ui,isWrapped:!0,draggingPiece:Ge,currentPosition:Ze,positionDifferences:nn,newArrowStartSquare:vt,newArrowOverSquare:Yn,setNewArrowStartSquare:Fn,setNewArrowOverSquare:Jn,internalArrows:St,drawArrow:dn,clearArrows:$t},children:M.jsx(bT,{autoScroll:ee,collisionDetection:Nt,onDragStart:Li,onDragEnd:hn,onDragCancel:ui,sensors:Kn,id:po,children:n})})}function oC(){const{id:n,arrows:e,arrowOptions:o,boardOrientation:l,chessboardColumns:r,chessboardRows:u,internalArrows:f,newArrowStartSquare:p,newArrowOverSquare:g}=Ml(),m=2048,v=m*(u/r),S=p&&g&&p!==g.square?{startSquare:p,endSquare:g.square,color:g.color}:null,_=S?[...e,...f,S]:[...e,...f];return M.jsx("svg",{viewBox:`0 0 ${m} ${v}`,style:{position:"absolute",top:"0",right:"0",bottom:"0",left:"0",pointerEvents:"none",zIndex:"20"},children:_.map((C,A)=>{const x=fg(l,m,r,u,C.startSquare),b=fg(l,m,r,u,C.endSquare),D=m/r;let B=D/o.arrowLengthReducerDenominator;const U=S&&A===_.length-1;_.some(j=>j.startSquare!==C.startSquare&&j.endSquare===C.endSquare)&&!U&&(B=D/o.sameTargetArrowLengthReducerDenominator);const X=b.x-x.x,Z=b.y-x.y,W=Math.hypot(Z,X);let J;if(W===Math.hypot(1,2)*D){const j=Math.abs(X)<Math.abs(Z)?{x:x.x,y:b.y}:{x:b.x,y:x.y},ee=b.x-j.x,oe=b.y-j.y,re=D,ve={x:j.x+ee*(re-B)/re,y:j.y+oe*(re-B)/re};J=`M${x.x},${x.y} L${j.x},${j.y} L${ve.x},${ve.y}`}else{const j={x:x.x+X*(W-B)/W,y:x.y+Z*(W-B)/W};J=`M${x.x},${x.y} L${j.x},${j.y}`}return M.jsxs(G.Fragment,{children:[M.jsx("marker",{id:`${n}-arrowhead-${A}-${C.startSquare}-${C.endSquare}`,markerWidth:"2",markerHeight:"2.5",refX:"1.25",refY:"1.25",orient:"auto",children:M.jsx("polygon",{points:"0.3 0, 2 1.25, 0.3 2.5",fill:C.color})}),M.jsx("path",{d:J,fill:"none",opacity:U?o.activeOpacity:o.opacity,stroke:C.color,strokeWidth:U?o.activeArrowWidthMultiplier*(D/o.arrowWidthDenominator):D/o.arrowWidthDenominator,markerEnd:`url(#${n}-arrowhead-${A}-${C.startSquare}-${C.endSquare})`})]},`${n}-arrow-${C.startSquare}-${C.endSquare}${U?"-active":""}`)})})}function lC({children:n,isSparePiece:e=!1,pieceType:o,position:l}){const{allowDragging:r,canDragPiece:u}=Ml(),{setNodeRef:f,attributes:p,listeners:g}=wT({id:l,data:{isSparePiece:e,pieceType:o},disabled:!r||u&&!u({piece:{pieceType:o},isSparePiece:e,square:l})});return M.jsx("div",{ref:f,...p,...g,children:n})}function sC({children:n,squareId:e}){const{isOver:o,setNodeRef:l}=LT({id:e});return M.jsx("div",{ref:l,children:n({isOver:o})})}const dg=G.memo(function({clone:e,isSparePiece:o=!1,position:l,pieceType:r}){const{id:u,allowDragging:f,animationDurationInMs:p,boardOrientation:g,canDragPiece:m,draggingPiece:v,draggingPieceStyle:S,draggingPieceGhostStyle:_,pieces:C,positionDifferences:A,onPieceClick:x}=Ml(),[b,D]=G.useState({});let B=e?"grabbing":"grab";(!f||m&&!m({piece:{pieceType:r},isSparePiece:o,square:l}))&&(B="pointer"),G.useEffect(()=>{var X;if(A[l]){const Z=l,W=A[l],J=(X=document.querySelector(`#${u}-square-${Z}`))==null?void 0:X.getBoundingClientRect().width;if(!J)throw new Error("Square width not found");D({transform:`translate(${(g==="black"?-1:1)*(W.charCodeAt(0)-Z.charCodeAt(0))*J}px, ${(g==="black"?-1:1)*(Number(Z[1])-Number(W[1]))*J}px)`,transition:`transform ${p}ms`,position:"relative",zIndex:10})}else D({})},[A]);const U=C[r];return M.jsx("div",{id:`${u}-piece-${r}-${l}`,"data-piece":r,style:{...b,...e?{...Dy,...S}:{},...!e&&(v==null?void 0:v.position)===l?{...Iy,..._}:{},width:"100%",height:"100%",cursor:B,touchAction:"none"},onClick:()=>x==null?void 0:x({isSparePiece:o,piece:{pieceType:r},square:l}),children:M.jsx(U,{})})}),rC=G.memo(function({children:e,squareId:o,isLightSquare:l,isOver:r}){var ie,le;const[u,f]=G.useState(!1),{id:p,allowDrawingArrows:g,boardOrientation:m,chessboardColumns:v,chessboardRows:S,currentPosition:_,draggingPiece:C,squareStyle:A,squareStyles:x,darkSquareStyle:b,lightSquareStyle:D,dropSquareStyle:B,darkSquareNotationStyle:U,lightSquareNotationStyle:X,alphaNotationStyle:Z,numericNotationStyle:W,showNotation:J,onMouseOutSquare:j,onMouseOverSquare:ee,onSquareClick:oe,onSquareMouseDown:re,onSquareMouseUp:ve,onSquareRightClick:he,squareRenderer:Re,newArrowStartSquare:Fe,setNewArrowStartSquare:z,setNewArrowOverSquare:te,drawArrow:pe,clearArrows:Me}=Ml(),we=G.useRef(r);G.useEffect(()=>{r&&C?ee==null||ee({piece:_[o]??null,square:o}):!r&&C&&we.current&&(j==null||j({piece:_[o]??null,square:o})),we.current=r},[_,C,r,o]);const N=(ie=o.match(/^[a-z]+/))==null?void 0:ie[0],Y=(le=o.match(/\d+$/))==null?void 0:le[0];return M.jsxs("div",{id:`${p}-square-${o}`,style:{...Cy,...A,...l?{...Ry,...D}:{...Ay,...b},...r?{...My,...B}:{}},"data-column":N,"data-row":Y,"data-square":o,onClick:ae=>{ae.button===0&&(oe==null||oe({piece:_[o]??null,square:o}))},onTouchEnd:ae=>{ae.preventDefault(),oe==null||oe({piece:_[o]??null,square:o})},onContextMenu:ae=>{ae.preventDefault(),u||he==null||he({piece:_[o]??null,square:o}),f(!1)},onMouseDown:ae=>{ae.button===0&&Me(),ae.button===2&&g&&z(o),re==null||re({piece:_[o]??null,square:o},ae)},onMouseUp:ae=>{ae.button===2&&(g&&Fe&&Fe!==o?(f(!0),pe(o,{shiftKey:ae.shiftKey,ctrlKey:ae.ctrlKey})):Fe===o&&(z(null),te(null))),ve==null||ve({piece:_[o]??null,square:o},ae)},onMouseOver:ae=>{ae.buttons===2&&g&&Fe&&Fe!==o?te(o,{shiftKey:ae.shiftKey,ctrlKey:ae.ctrlKey}):Fe===o&&te(null),C||ee==null||ee({piece:_[o]??null,square:o})},onMouseLeave:()=>{C||j==null||j({piece:_[o]??null,square:o})},children:[J?M.jsxs("span",{style:l?{...xy,...X}:{...by,...U},children:[Y===(m==="white"?"1":S.toString())&&M.jsx("span",{style:{...Ny,...Z},children:N}),N===(m==="white"?"a":Yf(0,v,m))&&M.jsx("span",{style:{...wy,...W},children:Y})]}):null,(Re==null?void 0:Re({piece:_[o]??null,square:o,children:e}))||M.jsx("div",{style:{width:"100%",height:"100%",...x[o]},children:e})]})}),aC=(n,e)=>({transform:o})=>{const l=typeof document<"u"?document.getElementById(`${n}-board`):null;if(!l)return o;const r=l.getBoundingClientRect(),u=l.querySelector('[data-column="a"][data-row="1"]');if(!u)return o;const p=u.getBoundingClientRect().width/2,g=e.match(/^([a-zA-Z]+)(\d+)$/);if(!g)return o;const[,m,v]=g,S=l.querySelector(`[data-column="${m}"][data-row="${v}"]`);if(!S)return o;const _=S.getBoundingClientRect(),C=_.left+p-r.left,A=_.top+p-r.top,x=-C,b=r.width-C,D=-A,B=r.height-A,U=Math.min(Math.max(o.x,x),b),X=Math.min(Math.max(o.y,D),B);return{...o,x:U,y:X}};function hg(){const{allowDragOffBoard:n,board:e,boardStyle:o,chessboardColumns:l,currentPosition:r,draggingPiece:u,id:f}=Ml();return M.jsxs(M.Fragment,{children:[M.jsxs("div",{id:`${f}-board`,style:{...Ty(l),...o},children:[e.map(p=>p.map(g=>{const m=r[g.squareId];return M.jsx(sC,{squareId:g.squareId,children:({isOver:v})=>M.jsx(rC,{isOver:v,...g,children:m?M.jsx(lC,{isSparePiece:!1,position:g.squareId,pieceType:m.pieceType,children:M.jsx(dg,{...m,position:g.squareId})}):null})},g.squareId)})),M.jsx(oC,{})]}),M.jsx(KT,{dropAnimation:null,modifiers:[$T,...n?[]:[aC(f,(u==null?void 0:u.position)||"")]],children:u?M.jsx(dg,{clone:!0,position:u.position,pieceType:u.pieceType}):null})]})}function uC({options:n}){const{isWrapped:e}=Ml()??{isWrapped:!1};return e?M.jsx(hg,{}):M.jsx(iC,{options:n,children:M.jsx(hg,{})})}/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fC=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,o,l)=>l?l.toUpperCase():o.toLowerCase()),pg=n=>{const e=fC(n);return e.charAt(0).toUpperCase()+e.slice(1)},Ly=(...n)=>n.filter((e,o,l)=>!!e&&e.trim()!==""&&l.indexOf(e)===o).join(" ").trim(),dC=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=G.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:r="",children:u,iconNode:f,...p},g)=>G.createElement("svg",{ref:g,...hC,width:e,height:e,stroke:n,strokeWidth:l?Number(o)*24/Number(e):o,className:Ly("lucide",r),...!u&&!dC(p)&&{"aria-hidden":"true"},...p},[...f.map(([m,v])=>G.createElement(m,v)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=(n,e)=>{const o=G.forwardRef(({className:l,...r},u)=>G.createElement(pC,{ref:u,iconNode:e,className:Ly(`lucide-${cC(pg(n))}`,`lucide-${n}`,l),...r}));return o.displayName=pg(n),o};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],mg=wi("brain-circuit",mC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],yC=wi("chevron-left",gC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],SC=wi("history",vC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],gg=wi("info",_C);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],TC=wi("message-circle",EC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],AC=wi("rotate-ccw",CC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],df=wi("trophy",RC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],yg=wi("user",MC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],xC=wi("zap",bC);var NC={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let wC,DC;function IC(){return{geminiUrl:wC,vertexUrl:DC}}function UC(n,e,o,l){var r,u;if(!(n!=null&&n.baseUrl)){const f=IC();return e?(r=f.vertexUrl)!==null&&r!==void 0?r:o:(u=f.geminiUrl)!==null&&u!==void 0?u:l}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Di{}function se(n,e){const o=/\{([^}]+)\}/g;return n.replace(o,(l,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const u=e[r];return u!=null?String(u):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function d(n,e,o){for(let u=0;u<e.length-1;u++){const f=e[u];if(f.endsWith("[]")){const p=f.slice(0,-2);if(!(p in n))if(Array.isArray(o))n[p]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${f}`);if(Array.isArray(n[p])){const g=n[p];if(Array.isArray(o))for(let m=0;m<g.length;m++){const v=g[m];d(v,e.slice(u+1),o[m])}else for(const m of g)d(m,e.slice(u+1),o)}return}else if(f.endsWith("[0]")){const p=f.slice(0,-3);p in n||(n[p]=[{}]);const g=n[p];d(g[0],e.slice(u+1),o);return}(!n[f]||typeof n[f]!="object")&&(n[f]={}),n=n[f]}const l=e[e.length-1],r=n[l];if(r!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===r)return;if(typeof r=="object"&&typeof o=="object"&&r!==null&&o!==null)Object.assign(r,o);else throw new Error(`Cannot set value for an existing key. Key: ${l}`)}else l==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(n,o):n[l]=o}function c(n,e,o=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let l=0;l<e.length;l++){if(typeof n!="object"||n===null)return o;const r=e[l];if(r.endsWith("[]")){const u=r.slice(0,-2);if(u in n){const f=n[u];return Array.isArray(f)?f.map(p=>c(p,e.slice(l+1),o)):o}else return o}else n=n[r]}return n}catch(l){if(l instanceof TypeError)return o;throw l}}function LC(n,e){for(const[o,l]of Object.entries(e)){const r=o.split("."),u=l.split("."),f=new Set;let p=-1;for(let g=0;g<r.length;g++)if(r[g]==="*"){p=g;break}if(p!==-1&&u.length>p)for(let g=p;g<u.length;g++){const m=u[g];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&f.add(m)}Ef(n,r,u,0,f)}}function Ef(n,e,o,l,r){if(l>=e.length||typeof n!="object"||n===null)return;const u=e[l];if(u.endsWith("[]")){const f=u.slice(0,-2),p=n;if(f in p&&Array.isArray(p[f]))for(const g of p[f])Ef(g,e,o,l+1,r)}else if(u==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const f=n,p=Object.keys(f).filter(m=>!m.startsWith("_")&&!r.has(m)),g={};for(const m of p)g[m]=f[m];for(const[m,v]of Object.entries(g)){const S=[];for(const _ of o.slice(l))_==="*"?S.push(m):S.push(_);d(f,S,v)}for(const m of p)delete f[m]}}else{const f=n;u in f&&Ef(f[u],e,o,l+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jf(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kC(n){const e={},o=c(n,["operationName"]);o!=null&&d(e,["operationName"],o);const l=c(n,["resourceName"]);return l!=null&&d(e,["_url","resourceName"],l),e}function qC(n){const e={},o=c(n,["name"]);o!=null&&d(e,["name"],o);const l=c(n,["metadata"]);l!=null&&d(e,["metadata"],l);const r=c(n,["done"]);r!=null&&d(e,["done"],r);const u=c(n,["error"]);u!=null&&d(e,["error"],u);const f=c(n,["response","generateVideoResponse"]);return f!=null&&d(e,["response"],HC(f)),e}function GC(n){const e={},o=c(n,["name"]);o!=null&&d(e,["name"],o);const l=c(n,["metadata"]);l!=null&&d(e,["metadata"],l);const r=c(n,["done"]);r!=null&&d(e,["done"],r);const u=c(n,["error"]);u!=null&&d(e,["error"],u);const f=c(n,["response"]);return f!=null&&d(e,["response"],PC(f)),e}function HC(n){const e={},o=c(n,["generatedSamples"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>zC(f))),d(e,["generatedVideos"],u)}const l=c(n,["raiMediaFilteredCount"]);l!=null&&d(e,["raiMediaFilteredCount"],l);const r=c(n,["raiMediaFilteredReasons"]);return r!=null&&d(e,["raiMediaFilteredReasons"],r),e}function PC(n){const e={},o=c(n,["videos"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>OC(f))),d(e,["generatedVideos"],u)}const l=c(n,["raiMediaFilteredCount"]);l!=null&&d(e,["raiMediaFilteredCount"],l);const r=c(n,["raiMediaFilteredReasons"]);return r!=null&&d(e,["raiMediaFilteredReasons"],r),e}function zC(n){const e={},o=c(n,["video"]);return o!=null&&d(e,["video"],KC(o)),e}function OC(n){const e={},o=c(n,["_self"]);return o!=null&&d(e,["video"],$C(o)),e}function VC(n){const e={},o=c(n,["operationName"]);return o!=null&&d(e,["_url","operationName"],o),e}function BC(n){const e={},o=c(n,["operationName"]);return o!=null&&d(e,["_url","operationName"],o),e}function FC(n){const e={},o=c(n,["name"]);o!=null&&d(e,["name"],o);const l=c(n,["metadata"]);l!=null&&d(e,["metadata"],l);const r=c(n,["done"]);r!=null&&d(e,["done"],r);const u=c(n,["error"]);u!=null&&d(e,["error"],u);const f=c(n,["response"]);return f!=null&&d(e,["response"],YC(f)),e}function YC(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["parent"]);l!=null&&d(e,["parent"],l);const r=c(n,["documentName"]);return r!=null&&d(e,["documentName"],r),e}function ky(n){const e={},o=c(n,["name"]);o!=null&&d(e,["name"],o);const l=c(n,["metadata"]);l!=null&&d(e,["metadata"],l);const r=c(n,["done"]);r!=null&&d(e,["done"],r);const u=c(n,["error"]);u!=null&&d(e,["error"],u);const f=c(n,["response"]);return f!=null&&d(e,["response"],JC(f)),e}function JC(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["parent"]);l!=null&&d(e,["parent"],l);const r=c(n,["documentName"]);return r!=null&&d(e,["documentName"],r),e}function KC(n){const e={},o=c(n,["uri"]);o!=null&&d(e,["uri"],o);const l=c(n,["encodedVideo"]);l!=null&&d(e,["videoBytes"],Jf(l));const r=c(n,["encoding"]);return r!=null&&d(e,["mimeType"],r),e}function $C(n){const e={},o=c(n,["gcsUri"]);o!=null&&d(e,["uri"],o);const l=c(n,["bytesBase64Encoded"]);l!=null&&d(e,["videoBytes"],Jf(l));const r=c(n,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var vg;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(vg||(vg={}));var Sg;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Sg||(Sg={}));var _g;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(_g||(_g={}));var Dn;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Dn||(Dn={}));var Eg;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Eg||(Eg={}));var Tg;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Tg||(Tg={}));var Cg;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(Cg||(Cg={}));var Ag;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Ag||(Ag={}));var Rg;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Rg||(Rg={}));var Mg;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH",n.MINIMAL="MINIMAL"})(Mg||(Mg={}));var bg;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(bg||(bg={}));var xg;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(xg||(xg={}));var Ng;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Ng||(Ng={}));var wg;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE",n.IMAGE_RECITATION="IMAGE_RECITATION",n.IMAGE_OTHER="IMAGE_OTHER"})(wg||(wg={}));var Dg;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Dg||(Dg={}));var Ig;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Ig||(Ig={}));var Ug;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Ug||(Ug={}));var Lg;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(Lg||(Lg={}));var kg;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(kg||(kg={}));var _a;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(_a||(_a={}));var qg;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(qg||(qg={}));var Gg;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Gg||(Gg={}));var Hg;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Hg||(Hg={}));var Tf;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Tf||(Tf={}));var Pg;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Pg||(Pg={}));var zg;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",n.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(zg||(zg={}));var Og;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Og||(Og={}));var Vg;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(Vg||(Vg={}));var Bg;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Bg||(Bg={}));var Fg;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Fg||(Fg={}));var Yg;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(Yg||(Yg={}));var Jg;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Jg||(Jg={}));var Kg;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Kg||(Kg={}));var $g;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})($g||($g={}));var Xg;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Xg||(Xg={}));var Qg;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Qg||(Qg={}));var Zg;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Zg||(Zg={}));var Wg;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Wg||(Wg={}));var jg;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(jg||(jg={}));var e0;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(e0||(e0={}));var t0;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(t0||(t0={}));var n0;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(n0||(n0={}));var i0;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(i0||(i0={}));var o0;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(o0||(o0={}));var l0;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(l0||(l0={}));var s0;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(s0||(s0={}));var r0;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(r0||(r0={}));var a0;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(a0||(a0={}));var u0;(function(n){n.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",n.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",n.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(u0||(u0={}));var c0;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(c0||(c0={}));var f0;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(f0||(f0={}));var d0;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(d0||(d0={}));var h0;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(h0||(h0={}));var p0;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(p0||(p0={}));var m0;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(m0||(m0={}));var vl;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(vl||(vl={}));class Cf{constructor(e){const o={};for(const l of e.headers.entries())o[l[0]]=l[1];this.headers=o,this.responseInternal=e}json(){return this.responseInternal.json()}}class Rs{get text(){var e,o,l,r,u,f,p,g;if(((r=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",v=!1;const S=[];for(const _ of(g=(p=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)!==null&&g!==void 0?g:[]){for(const[C,A]of Object.entries(_))C!=="text"&&C!=="thought"&&C!=="thoughtSignature"&&(A!==null||A!==void 0)&&S.push(C);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;v=!0,m+=_.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?m:void 0}get data(){var e,o,l,r,u,f,p,g;if(((r=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const v=[];for(const S of(g=(p=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)!==null&&g!==void 0?g:[]){for(const[_,C]of Object.entries(S))_!=="inlineData"&&(C!==null||C!==void 0)&&v.push(_);S.inlineData&&typeof S.inlineData.data=="string"&&(m+=atob(S.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,o,l,r,u,f,p,g;if(((r=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(g=(p=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)===null||g===void 0?void 0:g.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var e,o,l,r,u,f,p,g,m;if(((r=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(g=(p=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)===null||g===void 0?void 0:g.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,o,l,r,u,f,p,g,m;if(((r=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(g=(p=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)===null||g===void 0?void 0:g.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.output}}class g0{}class y0{}class XC{}class QC{}class ZC{}class WC{}class v0{}class S0{}class _0{}class jC{}class Ea{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const l=new Ea;let r;const u=e;return o?r=GC(u):r=qC(u),Object.assign(l,r),l}}class E0{}class T0{}class C0{}class A0{}class e1{}class t1{}class n1{}class Kf{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const l=new Kf,u=FC(e);return Object.assign(l,u),l}}class i1{}class o1{}class l1{}class R0{}class s1{get text(){var e,o,l;let r="",u=!1;const f=[];for(const p of(l=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[g,m]of Object.entries(p))g!=="text"&&g!=="thought"&&m!==null&&f.push(g);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;u=!0,r+=p.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?r:void 0}get data(){var e,o,l;let r="";const u=[];for(const f of(l=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[p,g]of Object.entries(f))p!=="inlineData"&&g!==null&&u.push(p);f.inlineData&&typeof f.inlineData.data=="string"&&(r+=atob(f.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class r1{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class $f{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const l=new $f,u=ky(e);return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Oe(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const o=e.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function qy(n,e){const o=Oe(n,e);return o?o.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}`:o.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${o}`:o:""}function Gy(n){return Array.isArray(n)?n.map(e=>Ta(e)):[Ta(n)]}function Ta(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function Hy(n){const e=Ta(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Py(n){const e=Ta(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function M0(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function zy(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>M0(e)):[M0(n)]}function Af(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function b0(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function x0(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function tn(n){if(n==null)throw new Error("ContentUnion is required");return Af(n)?n:{role:"user",parts:zy(n)}}function Xf(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(o=>{const l=tn(o);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]});if(n.isVertexAI()){const o=tn(e);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(e)?e.map(o=>tn(o)):[tn(e)]}function Vn(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(b0(n)||x0(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[tn(n)]}const e=[],o=[],l=Af(n[0]);for(const r of n){const u=Af(r);if(u!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)e.push(r);else{if(b0(r)||x0(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(r)}}return l||e.push({role:"user",parts:zy(o)}),e}function a1(n,e){n.includes("null")&&(e.nullable=!0);const o=n.filter(l=>l!=="null");if(o.length===1)e.type=Object.values(Dn).includes(o[0].toUpperCase())?o[0].toUpperCase():Dn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const l of o)e.anyOf.push({type:Object.values(Dn).includes(l.toUpperCase())?l.toUpperCase():Dn.TYPE_UNSPECIFIED})}}function El(n){const e={},o=["items"],l=["anyOf"],r=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=n.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(e.nullable=!0,n=u[1]):u[1].type==="null"&&(e.nullable=!0,n=u[0])),n.type instanceof Array&&a1(n.type,e);for(const[f,p]of Object.entries(n))if(p!=null)if(f=="type"){if(p==="null")throw new Error("type: null can not be the only possible type for the field.");if(p instanceof Array)continue;e.type=Object.values(Dn).includes(p.toUpperCase())?p.toUpperCase():Dn.TYPE_UNSPECIFIED}else if(o.includes(f))e[f]=El(p);else if(l.includes(f)){const g=[];for(const m of p){if(m.type=="null"){e.nullable=!0;continue}g.push(El(m))}e[f]=g}else if(r.includes(f)){const g={};for(const[m,v]of Object.entries(p))g[m]=El(v);e[f]=g}else{if(f==="additionalProperties")continue;e[f]=p}return e}function Qf(n){return El(n)}function Zf(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function Wf(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function bl(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=El(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=El(e.response));return n}function xl(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const o of n)e.push(o);return e}function u1(n,e,o,l=1){const r=!e.startsWith(`${o}/`)&&e.split("/").length===l;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${o}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:r?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}/${e}`:e:r?`${o}/${e}`:e}function Ii(n,e){if(typeof e!="string")throw new Error("name must be a string");return u1(n,e,"cachedContents")}function Oy(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function ho(n){return Jf(n)}function c1(n){return n!=null&&typeof n=="object"&&"name"in n}function f1(n){return n!=null&&typeof n=="object"&&"video"in n}function d1(n){return n!=null&&typeof n=="object"&&"uri"in n}function Vy(n){var e;let o;if(c1(n)&&(o=n.name),!(d1(n)&&(o=n.uri,o===void 0))&&!(f1(n)&&(o=(e=n.video)===null||e===void 0?void 0:e.uri,o===void 0))){if(typeof n=="string"&&(o=n),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const r=o.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${o}`);o=r[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function By(n,e){let o;return n.isVertexAI()?o=e?"publishers/google/models":"models":o=e?"models":"tunedModels",o}function Fy(n){for(const e of["models","tunedModels","publisherModels"])if(h1(n,e))return n[e];return[]}function h1(n,e){return n!==null&&typeof n=="object"&&e in n}function p1(n,e={}){const o=n,l={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(l.responseJsonSchema=o.outputSchema),e.behavior&&(l.behavior=e.behavior),{functionDeclarations:[l]}}function m1(n,e={}){const o=[],l=new Set;for(const r of n){const u=r.name;if(l.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);l.add(u);const f=p1(r,e);f.functionDeclarations&&o.push(...f.functionDeclarations)}return{functionDeclarations:o}}function Yy(n,e){let o;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))o={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))o={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))o={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:e}}else o=e;const l=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,r=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(n.isVertexAI()){if(r>0||l!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(l>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function g1(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Jy(n){if(typeof n!="object"||n===null)return{};const e=n,o=e.inlinedResponses;if(typeof o!="object"||o===null)return n;const r=o.inlinedResponses;if(!Array.isArray(r)||r.length===0)return n;let u=!1;for(const f of r){if(typeof f!="object"||f===null)continue;const g=f.response;if(typeof g!="object"||g===null)continue;if(g.embedding!==void 0){u=!0;break}}return u&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Nl(n,e){const o=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Ky(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function y1(n){const e={},o=c(n,["responsesFile"]);o!=null&&d(e,["fileName"],o);const l=c(n,["inlinedResponses","inlinedResponses"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>Z1(f))),d(e,["inlinedResponses"],u)}const r=c(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["inlinedEmbedContentResponses"],u)}return e}function v1(n){const e={},o=c(n,["predictionsFormat"]);o!=null&&d(e,["format"],o);const l=c(n,["gcsDestination","outputUriPrefix"]);l!=null&&d(e,["gcsUri"],l);const r=c(n,["bigqueryDestination","outputUri"]);return r!=null&&d(e,["bigqueryUri"],r),e}function S1(n){const e={},o=c(n,["format"]);o!=null&&d(e,["predictionsFormat"],o);const l=c(n,["gcsUri"]);l!=null&&d(e,["gcsDestination","outputUriPrefix"],l);const r=c(n,["bigqueryUri"]);if(r!=null&&d(e,["bigqueryDestination","outputUri"],r),c(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function ha(n){const e={},o=c(n,["name"]);o!=null&&d(e,["name"],o);const l=c(n,["metadata","displayName"]);l!=null&&d(e,["displayName"],l);const r=c(n,["metadata","state"]);r!=null&&d(e,["state"],Ky(r));const u=c(n,["metadata","createTime"]);u!=null&&d(e,["createTime"],u);const f=c(n,["metadata","endTime"]);f!=null&&d(e,["endTime"],f);const p=c(n,["metadata","updateTime"]);p!=null&&d(e,["updateTime"],p);const g=c(n,["metadata","model"]);g!=null&&d(e,["model"],g);const m=c(n,["metadata","output"]);return m!=null&&d(e,["dest"],y1(Jy(m))),e}function Rf(n){const e={},o=c(n,["name"]);o!=null&&d(e,["name"],o);const l=c(n,["displayName"]);l!=null&&d(e,["displayName"],l);const r=c(n,["state"]);r!=null&&d(e,["state"],Ky(r));const u=c(n,["error"]);u!=null&&d(e,["error"],u);const f=c(n,["createTime"]);f!=null&&d(e,["createTime"],f);const p=c(n,["startTime"]);p!=null&&d(e,["startTime"],p);const g=c(n,["endTime"]);g!=null&&d(e,["endTime"],g);const m=c(n,["updateTime"]);m!=null&&d(e,["updateTime"],m);const v=c(n,["model"]);v!=null&&d(e,["model"],v);const S=c(n,["inputConfig"]);S!=null&&d(e,["src"],_1(S));const _=c(n,["outputConfig"]);_!=null&&d(e,["dest"],v1(Jy(_)));const C=c(n,["completionStats"]);return C!=null&&d(e,["completionStats"],C),e}function _1(n){const e={},o=c(n,["instancesFormat"]);o!=null&&d(e,["format"],o);const l=c(n,["gcsSource","uris"]);l!=null&&d(e,["gcsUri"],l);const r=c(n,["bigquerySource","inputUri"]);return r!=null&&d(e,["bigqueryUri"],r),e}function E1(n,e){const o={};if(c(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const l=c(e,["fileName"]);l!=null&&d(o,["fileName"],l);const r=c(e,["inlinedRequests"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>Q1(n,f))),d(o,["requests","requests"],u)}return o}function T1(n){const e={},o=c(n,["format"]);o!=null&&d(e,["instancesFormat"],o);const l=c(n,["gcsUri"]);l!=null&&d(e,["gcsSource","uris"],l);const r=c(n,["bigqueryUri"]);if(r!=null&&d(e,["bigquerySource","inputUri"],r),c(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function C1(n){const e={},o=c(n,["data"]);if(o!=null&&d(e,["data"],o),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function A1(n,e){const o={},l=c(e,["name"]);return l!=null&&d(o,["_url","name"],Nl(n,l)),o}function R1(n,e){const o={},l=c(e,["name"]);return l!=null&&d(o,["_url","name"],Nl(n,l)),o}function M1(n){const e={},o=c(n,["content"]);o!=null&&d(e,["content"],o);const l=c(n,["citationMetadata"]);l!=null&&d(e,["citationMetadata"],b1(l));const r=c(n,["tokenCount"]);r!=null&&d(e,["tokenCount"],r);const u=c(n,["finishReason"]);u!=null&&d(e,["finishReason"],u);const f=c(n,["avgLogprobs"]);f!=null&&d(e,["avgLogprobs"],f);const p=c(n,["groundingMetadata"]);p!=null&&d(e,["groundingMetadata"],p);const g=c(n,["index"]);g!=null&&d(e,["index"],g);const m=c(n,["logprobsResult"]);m!=null&&d(e,["logprobsResult"],m);const v=c(n,["safetyRatings"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(C=>C)),d(e,["safetyRatings"],_)}const S=c(n,["urlContextMetadata"]);return S!=null&&d(e,["urlContextMetadata"],S),e}function b1(n){const e={},o=c(n,["citationSources"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(r=>r)),d(e,["citations"],l)}return e}function $y(n){const e={},o=c(n,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>oA(u))),d(e,["parts"],r)}const l=c(n,["role"]);return l!=null&&d(e,["role"],l),e}function x1(n,e){const o={},l=c(n,["displayName"]);if(e!==void 0&&l!=null&&d(e,["batch","displayName"],l),c(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function N1(n,e){const o={},l=c(n,["displayName"]);e!==void 0&&l!=null&&d(e,["displayName"],l);const r=c(n,["dest"]);return e!==void 0&&r!=null&&d(e,["outputConfig"],S1(g1(r))),o}function N0(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["_url","model"],Oe(n,l));const r=c(e,["src"]);r!=null&&d(o,["batch","inputConfig"],E1(n,Yy(n,r)));const u=c(e,["config"]);return u!=null&&x1(u,o),o}function w1(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["model"],Oe(n,l));const r=c(e,["src"]);r!=null&&d(o,["inputConfig"],T1(Yy(n,r)));const u=c(e,["config"]);return u!=null&&N1(u,o),o}function D1(n,e){const o={},l=c(n,["displayName"]);return e!==void 0&&l!=null&&d(e,["batch","displayName"],l),o}function I1(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["_url","model"],Oe(n,l));const r=c(e,["src"]);r!=null&&d(o,["batch","inputConfig"],P1(n,r));const u=c(e,["config"]);return u!=null&&D1(u,o),o}function U1(n,e){const o={},l=c(e,["name"]);return l!=null&&d(o,["_url","name"],Nl(n,l)),o}function L1(n,e){const o={},l=c(e,["name"]);return l!=null&&d(o,["_url","name"],Nl(n,l)),o}function k1(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["name"]);l!=null&&d(e,["name"],l);const r=c(n,["done"]);r!=null&&d(e,["done"],r);const u=c(n,["error"]);return u!=null&&d(e,["error"],u),e}function q1(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["name"]);l!=null&&d(e,["name"],l);const r=c(n,["done"]);r!=null&&d(e,["done"],r);const u=c(n,["error"]);return u!=null&&d(e,["error"],u),e}function G1(n,e){const o={},l=c(e,["contents"]);if(l!=null){let u=Xf(n,l);Array.isArray(u)&&(u=u.map(f=>f)),d(o,["requests[]","request","content"],u)}const r=c(e,["config"]);return r!=null&&(d(o,["_self"],H1(r,o)),LC(o,{"requests[].*":"requests[].request.*"})),o}function H1(n,e){const o={},l=c(n,["taskType"]);e!==void 0&&l!=null&&d(e,["requests[]","taskType"],l);const r=c(n,["title"]);e!==void 0&&r!=null&&d(e,["requests[]","title"],r);const u=c(n,["outputDimensionality"]);if(e!==void 0&&u!=null&&d(e,["requests[]","outputDimensionality"],u),c(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function P1(n,e){const o={},l=c(e,["fileName"]);l!=null&&d(o,["file_name"],l);const r=c(e,["inlinedRequests"]);return r!=null&&d(o,["requests"],G1(n,r)),o}function z1(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["fileUri"]);o!=null&&d(e,["fileUri"],o);const l=c(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function O1(n){const e={},o=c(n,["id"]);o!=null&&d(e,["id"],o);const l=c(n,["args"]);l!=null&&d(e,["args"],l);const r=c(n,["name"]);if(r!=null&&d(e,["name"],r),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function V1(n){const e={},o=c(n,["mode"]);o!=null&&d(e,["mode"],o);const l=c(n,["allowedFunctionNames"]);if(l!=null&&d(e,["allowedFunctionNames"],l),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function B1(n,e,o){const l={},r=c(e,["systemInstruction"]);o!==void 0&&r!=null&&d(o,["systemInstruction"],$y(tn(r)));const u=c(e,["temperature"]);u!=null&&d(l,["temperature"],u);const f=c(e,["topP"]);f!=null&&d(l,["topP"],f);const p=c(e,["topK"]);p!=null&&d(l,["topK"],p);const g=c(e,["candidateCount"]);g!=null&&d(l,["candidateCount"],g);const m=c(e,["maxOutputTokens"]);m!=null&&d(l,["maxOutputTokens"],m);const v=c(e,["stopSequences"]);v!=null&&d(l,["stopSequences"],v);const S=c(e,["responseLogprobs"]);S!=null&&d(l,["responseLogprobs"],S);const _=c(e,["logprobs"]);_!=null&&d(l,["logprobs"],_);const C=c(e,["presencePenalty"]);C!=null&&d(l,["presencePenalty"],C);const A=c(e,["frequencyPenalty"]);A!=null&&d(l,["frequencyPenalty"],A);const x=c(e,["seed"]);x!=null&&d(l,["seed"],x);const b=c(e,["responseMimeType"]);b!=null&&d(l,["responseMimeType"],b);const D=c(e,["responseSchema"]);D!=null&&d(l,["responseSchema"],Qf(D));const B=c(e,["responseJsonSchema"]);if(B!=null&&d(l,["responseJsonSchema"],B),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const U=c(e,["safetySettings"]);if(o!==void 0&&U!=null){let he=U;Array.isArray(he)&&(he=he.map(Re=>lA(Re))),d(o,["safetySettings"],he)}const X=c(e,["tools"]);if(o!==void 0&&X!=null){let he=xl(X);Array.isArray(he)&&(he=he.map(Re=>rA(bl(Re)))),d(o,["tools"],he)}const Z=c(e,["toolConfig"]);if(o!==void 0&&Z!=null&&d(o,["toolConfig"],sA(Z)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const W=c(e,["cachedContent"]);o!==void 0&&W!=null&&d(o,["cachedContent"],Ii(n,W));const J=c(e,["responseModalities"]);J!=null&&d(l,["responseModalities"],J);const j=c(e,["mediaResolution"]);j!=null&&d(l,["mediaResolution"],j);const ee=c(e,["speechConfig"]);if(ee!=null&&d(l,["speechConfig"],Zf(ee)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const oe=c(e,["thinkingConfig"]);oe!=null&&d(l,["thinkingConfig"],oe);const re=c(e,["imageConfig"]);re!=null&&d(l,["imageConfig"],X1(re));const ve=c(e,["enableEnhancedCivicAnswers"]);return ve!=null&&d(l,["enableEnhancedCivicAnswers"],ve),l}function F1(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["candidates"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(m=>M1(m))),d(e,["candidates"],g)}const r=c(n,["modelVersion"]);r!=null&&d(e,["modelVersion"],r);const u=c(n,["promptFeedback"]);u!=null&&d(e,["promptFeedback"],u);const f=c(n,["responseId"]);f!=null&&d(e,["responseId"],f);const p=c(n,["usageMetadata"]);return p!=null&&d(e,["usageMetadata"],p),e}function Y1(n,e){const o={},l=c(e,["name"]);return l!=null&&d(o,["_url","name"],Nl(n,l)),o}function J1(n,e){const o={},l=c(e,["name"]);return l!=null&&d(o,["_url","name"],Nl(n,l)),o}function K1(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(n,["enableWidget"]);return o!=null&&d(e,["enableWidget"],o),e}function $1(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(n,["timeRangeFilter"]);return o!=null&&d(e,["timeRangeFilter"],o),e}function X1(n){const e={},o=c(n,["aspectRatio"]);o!=null&&d(e,["aspectRatio"],o);const l=c(n,["imageSize"]);if(l!=null&&d(e,["imageSize"],l),c(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Q1(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["request","model"],Oe(n,l));const r=c(e,["contents"]);if(r!=null){let p=Vn(r);Array.isArray(p)&&(p=p.map(g=>$y(g))),d(o,["request","contents"],p)}const u=c(e,["metadata"]);u!=null&&d(o,["metadata"],u);const f=c(e,["config"]);return f!=null&&d(o,["request","generationConfig"],B1(n,f,c(o,["request"],{}))),o}function Z1(n){const e={},o=c(n,["response"]);o!=null&&d(e,["response"],F1(o));const l=c(n,["error"]);return l!=null&&d(e,["error"],l),e}function W1(n,e){const o={},l=c(n,["pageSize"]);e!==void 0&&l!=null&&d(e,["_query","pageSize"],l);const r=c(n,["pageToken"]);if(e!==void 0&&r!=null&&d(e,["_query","pageToken"],r),c(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function j1(n,e){const o={},l=c(n,["pageSize"]);e!==void 0&&l!=null&&d(e,["_query","pageSize"],l);const r=c(n,["pageToken"]);e!==void 0&&r!=null&&d(e,["_query","pageToken"],r);const u=c(n,["filter"]);return e!==void 0&&u!=null&&d(e,["_query","filter"],u),o}function eA(n){const e={},o=c(n,["config"]);return o!=null&&W1(o,e),e}function tA(n){const e={},o=c(n,["config"]);return o!=null&&j1(o,e),e}function nA(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["nextPageToken"]);l!=null&&d(e,["nextPageToken"],l);const r=c(n,["operations"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>ha(f))),d(e,["batchJobs"],u)}return e}function iA(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["nextPageToken"]);l!=null&&d(e,["nextPageToken"],l);const r=c(n,["batchPredictionJobs"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>Rf(f))),d(e,["batchJobs"],u)}return e}function oA(n){const e={},o=c(n,["mediaResolution"]);o!=null&&d(e,["mediaResolution"],o);const l=c(n,["codeExecutionResult"]);l!=null&&d(e,["codeExecutionResult"],l);const r=c(n,["executableCode"]);r!=null&&d(e,["executableCode"],r);const u=c(n,["fileData"]);u!=null&&d(e,["fileData"],z1(u));const f=c(n,["functionCall"]);f!=null&&d(e,["functionCall"],O1(f));const p=c(n,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const g=c(n,["inlineData"]);g!=null&&d(e,["inlineData"],C1(g));const m=c(n,["text"]);m!=null&&d(e,["text"],m);const v=c(n,["thought"]);v!=null&&d(e,["thought"],v);const S=c(n,["thoughtSignature"]);S!=null&&d(e,["thoughtSignature"],S);const _=c(n,["videoMetadata"]);return _!=null&&d(e,["videoMetadata"],_),e}function lA(n){const e={},o=c(n,["category"]);if(o!=null&&d(e,["category"],o),c(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=c(n,["threshold"]);return l!=null&&d(e,["threshold"],l),e}function sA(n){const e={},o=c(n,["functionCallingConfig"]);o!=null&&d(e,["functionCallingConfig"],V1(o));const l=c(n,["retrievalConfig"]);return l!=null&&d(e,["retrievalConfig"],l),e}function rA(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(S=>S)),d(e,["functionDeclarations"],v)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=c(n,["googleSearchRetrieval"]);l!=null&&d(e,["googleSearchRetrieval"],l);const r=c(n,["computerUse"]);r!=null&&d(e,["computerUse"],r);const u=c(n,["fileSearch"]);u!=null&&d(e,["fileSearch"],u);const f=c(n,["codeExecution"]);if(f!=null&&d(e,["codeExecution"],f),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=c(n,["googleMaps"]);p!=null&&d(e,["googleMaps"],K1(p));const g=c(n,["googleSearch"]);g!=null&&d(e,["googleSearch"],$1(g));const m=c(n,["urlContext"]);return m!=null&&d(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ni;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(Ni||(Ni={}));class Go{constructor(e,o,l,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(e,l,r)}init(e,o,l){var r,u;this.nameInternal=e,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let f={config:{}};!l||Object.keys(l).length===0?f={config:{}}:typeof l=="object"?f=Object.assign({},l):f=l,f.config&&(f.config.pageToken=o.nextPageToken),this.paramsInternal=f,this.pageInternalSize=(u=(r=f.config)===null||r===void 0?void 0:r.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aA extends Di{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Go(Ni.PAGED_ITEM_BATCH_JOBS,l=>this.listInternal(l),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(e){const o=N0(this.apiClient,e),l=o._url,r=se("{model}:batchGenerateContent",l),p=o.batch.inputConfig.requests,g=p.requests,m=[];for(const v of g){const S=Object.assign({},v);if(S.systemInstruction){const _=S.systemInstruction;delete S.systemInstruction;const C=S.request;C.systemInstruction=_,S.request=C}m.push(S)}return p.requests=m,delete o.config,delete o._url,delete o._query,{path:r,body:o}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,o){const l=o?Object.assign({},o):{},r=Date.now().toString();if(l.displayName||(l.displayName=`genaiBatchJob_${r}`),l.dest===void 0){const u=this.getGcsUri(e),f=this.getBigqueryUri(e);if(u)u.endsWith(".jsonl")?l.dest=`${u.slice(0,-6)}/dest`:l.dest=`${u}_dest_${r}`;else if(f)l.dest=`${f}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return l}async createInternal(e){var o,l,r,u;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=w1(this.apiClient,e);return p=se("batchPredictionJobs",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>Rf(v))}else{const m=N0(this.apiClient,e);return p=se("{model}:batchGenerateContent",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>ha(v))}}async createEmbeddingsInternal(e){var o,l;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=I1(this.apiClient,e);return u=se("{model}:asyncBatchEmbedContent",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),r.then(g=>ha(g))}}async get(e){var o,l,r,u;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=J1(this.apiClient,e);return p=se("batchPredictionJobs/{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>Rf(v))}else{const m=Y1(this.apiClient,e);return p=se("batches/{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>ha(v))}}async cancel(e){var o,l,r,u;let f="",p={};if(this.apiClient.isVertexAI()){const g=R1(this.apiClient,e);f=se("batchPredictionJobs/{name}:cancel",g._url),p=g._query,delete g._url,delete g._query,await this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}else{const g=A1(this.apiClient,e);f=se("batches/{name}:cancel",g._url),p=g._query,delete g._url,delete g._query,await this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal})}}async listInternal(e){var o,l,r,u;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=tA(e);return p=se("batchPredictionJobs",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const S=iA(v),_=new R0;return Object.assign(_,S),_})}else{const m=eA(e);return p=se("batches",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const S=nA(v),_=new R0;return Object.assign(_,S),_})}}async delete(e){var o,l,r,u;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=L1(this.apiClient,e);return p=se("batchPredictionJobs/{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>q1(v))}else{const m=U1(this.apiClient,e);return p=se("batches/{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>k1(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uA(n){const e={},o=c(n,["data"]);if(o!=null&&d(e,["data"],o),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function w0(n){const e={},o=c(n,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>IA(u))),d(e,["parts"],r)}const l=c(n,["role"]);return l!=null&&d(e,["role"],l),e}function cA(n,e){const o={},l=c(n,["ttl"]);e!==void 0&&l!=null&&d(e,["ttl"],l);const r=c(n,["expireTime"]);e!==void 0&&r!=null&&d(e,["expireTime"],r);const u=c(n,["displayName"]);e!==void 0&&u!=null&&d(e,["displayName"],u);const f=c(n,["contents"]);if(e!==void 0&&f!=null){let v=Vn(f);Array.isArray(v)&&(v=v.map(S=>w0(S))),d(e,["contents"],v)}const p=c(n,["systemInstruction"]);e!==void 0&&p!=null&&d(e,["systemInstruction"],w0(tn(p)));const g=c(n,["tools"]);if(e!==void 0&&g!=null){let v=g;Array.isArray(v)&&(v=v.map(S=>LA(S))),d(e,["tools"],v)}const m=c(n,["toolConfig"]);if(e!==void 0&&m!=null&&d(e,["toolConfig"],UA(m)),c(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function fA(n,e){const o={},l=c(n,["ttl"]);e!==void 0&&l!=null&&d(e,["ttl"],l);const r=c(n,["expireTime"]);e!==void 0&&r!=null&&d(e,["expireTime"],r);const u=c(n,["displayName"]);e!==void 0&&u!=null&&d(e,["displayName"],u);const f=c(n,["contents"]);if(e!==void 0&&f!=null){let S=Vn(f);Array.isArray(S)&&(S=S.map(_=>_)),d(e,["contents"],S)}const p=c(n,["systemInstruction"]);e!==void 0&&p!=null&&d(e,["systemInstruction"],tn(p));const g=c(n,["tools"]);if(e!==void 0&&g!=null){let S=g;Array.isArray(S)&&(S=S.map(_=>kA(_))),d(e,["tools"],S)}const m=c(n,["toolConfig"]);e!==void 0&&m!=null&&d(e,["toolConfig"],m);const v=c(n,["kmsKeyName"]);return e!==void 0&&v!=null&&d(e,["encryption_spec","kmsKeyName"],v),o}function dA(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["model"],qy(n,l));const r=c(e,["config"]);return r!=null&&cA(r,o),o}function hA(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["model"],qy(n,l));const r=c(e,["config"]);return r!=null&&fA(r,o),o}function pA(n,e){const o={},l=c(e,["name"]);return l!=null&&d(o,["_url","name"],Ii(n,l)),o}function mA(n,e){const o={},l=c(e,["name"]);return l!=null&&d(o,["_url","name"],Ii(n,l)),o}function gA(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}function yA(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}function vA(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["fileUri"]);o!=null&&d(e,["fileUri"],o);const l=c(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function SA(n){const e={},o=c(n,["id"]);o!=null&&d(e,["id"],o);const l=c(n,["args"]);l!=null&&d(e,["args"],l);const r=c(n,["name"]);if(r!=null&&d(e,["name"],r),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function _A(n){const e={},o=c(n,["mode"]);o!=null&&d(e,["mode"],o);const l=c(n,["allowedFunctionNames"]);if(l!=null&&d(e,["allowedFunctionNames"],l),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function EA(n){const e={};if(c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=c(n,["description"]);o!=null&&d(e,["description"],o);const l=c(n,["name"]);l!=null&&d(e,["name"],l);const r=c(n,["parameters"]);r!=null&&d(e,["parameters"],r);const u=c(n,["parametersJsonSchema"]);u!=null&&d(e,["parametersJsonSchema"],u);const f=c(n,["response"]);f!=null&&d(e,["response"],f);const p=c(n,["responseJsonSchema"]);return p!=null&&d(e,["responseJsonSchema"],p),e}function TA(n,e){const o={},l=c(e,["name"]);return l!=null&&d(o,["_url","name"],Ii(n,l)),o}function CA(n,e){const o={},l=c(e,["name"]);return l!=null&&d(o,["_url","name"],Ii(n,l)),o}function AA(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(n,["enableWidget"]);return o!=null&&d(e,["enableWidget"],o),e}function RA(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(n,["timeRangeFilter"]);return o!=null&&d(e,["timeRangeFilter"],o),e}function MA(n,e){const o={},l=c(n,["pageSize"]);e!==void 0&&l!=null&&d(e,["_query","pageSize"],l);const r=c(n,["pageToken"]);return e!==void 0&&r!=null&&d(e,["_query","pageToken"],r),o}function bA(n,e){const o={},l=c(n,["pageSize"]);e!==void 0&&l!=null&&d(e,["_query","pageSize"],l);const r=c(n,["pageToken"]);return e!==void 0&&r!=null&&d(e,["_query","pageToken"],r),o}function xA(n){const e={},o=c(n,["config"]);return o!=null&&MA(o,e),e}function NA(n){const e={},o=c(n,["config"]);return o!=null&&bA(o,e),e}function wA(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["nextPageToken"]);l!=null&&d(e,["nextPageToken"],l);const r=c(n,["cachedContents"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["cachedContents"],u)}return e}function DA(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["nextPageToken"]);l!=null&&d(e,["nextPageToken"],l);const r=c(n,["cachedContents"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["cachedContents"],u)}return e}function IA(n){const e={},o=c(n,["mediaResolution"]);o!=null&&d(e,["mediaResolution"],o);const l=c(n,["codeExecutionResult"]);l!=null&&d(e,["codeExecutionResult"],l);const r=c(n,["executableCode"]);r!=null&&d(e,["executableCode"],r);const u=c(n,["fileData"]);u!=null&&d(e,["fileData"],vA(u));const f=c(n,["functionCall"]);f!=null&&d(e,["functionCall"],SA(f));const p=c(n,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const g=c(n,["inlineData"]);g!=null&&d(e,["inlineData"],uA(g));const m=c(n,["text"]);m!=null&&d(e,["text"],m);const v=c(n,["thought"]);v!=null&&d(e,["thought"],v);const S=c(n,["thoughtSignature"]);S!=null&&d(e,["thoughtSignature"],S);const _=c(n,["videoMetadata"]);return _!=null&&d(e,["videoMetadata"],_),e}function UA(n){const e={},o=c(n,["functionCallingConfig"]);o!=null&&d(e,["functionCallingConfig"],_A(o));const l=c(n,["retrievalConfig"]);return l!=null&&d(e,["retrievalConfig"],l),e}function LA(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(S=>S)),d(e,["functionDeclarations"],v)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=c(n,["googleSearchRetrieval"]);l!=null&&d(e,["googleSearchRetrieval"],l);const r=c(n,["computerUse"]);r!=null&&d(e,["computerUse"],r);const u=c(n,["fileSearch"]);u!=null&&d(e,["fileSearch"],u);const f=c(n,["codeExecution"]);if(f!=null&&d(e,["codeExecution"],f),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=c(n,["googleMaps"]);p!=null&&d(e,["googleMaps"],AA(p));const g=c(n,["googleSearch"]);g!=null&&d(e,["googleSearch"],RA(g));const m=c(n,["urlContext"]);return m!=null&&d(e,["urlContext"],m),e}function kA(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(_=>EA(_))),d(e,["functionDeclarations"],S)}const l=c(n,["retrieval"]);l!=null&&d(e,["retrieval"],l);const r=c(n,["googleSearchRetrieval"]);r!=null&&d(e,["googleSearchRetrieval"],r);const u=c(n,["computerUse"]);if(u!=null&&d(e,["computerUse"],u),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const f=c(n,["codeExecution"]);f!=null&&d(e,["codeExecution"],f);const p=c(n,["enterpriseWebSearch"]);p!=null&&d(e,["enterpriseWebSearch"],p);const g=c(n,["googleMaps"]);g!=null&&d(e,["googleMaps"],g);const m=c(n,["googleSearch"]);m!=null&&d(e,["googleSearch"],m);const v=c(n,["urlContext"]);return v!=null&&d(e,["urlContext"],v),e}function qA(n,e){const o={},l=c(n,["ttl"]);e!==void 0&&l!=null&&d(e,["ttl"],l);const r=c(n,["expireTime"]);return e!==void 0&&r!=null&&d(e,["expireTime"],r),o}function GA(n,e){const o={},l=c(n,["ttl"]);e!==void 0&&l!=null&&d(e,["ttl"],l);const r=c(n,["expireTime"]);return e!==void 0&&r!=null&&d(e,["expireTime"],r),o}function HA(n,e){const o={},l=c(e,["name"]);l!=null&&d(o,["_url","name"],Ii(n,l));const r=c(e,["config"]);return r!=null&&qA(r,o),o}function PA(n,e){const o={},l=c(e,["name"]);l!=null&&d(o,["_url","name"],Ii(n,l));const r=c(e,["config"]);return r!=null&&GA(r,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zA extends Di{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Go(Ni.PAGED_ITEM_CACHED_CONTENTS,l=>this.listInternal(l),await this.listInternal(o),o)}async create(e){var o,l,r,u;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=hA(this.apiClient,e);return p=se("cachedContents",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const m=dA(this.apiClient,e);return p=se("cachedContents",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async get(e){var o,l,r,u;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=CA(this.apiClient,e);return p=se("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const m=TA(this.apiClient,e);return p=se("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async delete(e){var o,l,r,u;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=mA(this.apiClient,e);return p=se("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const S=yA(v),_=new C0;return Object.assign(_,S),_})}else{const m=pA(this.apiClient,e);return p=se("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const S=gA(v),_=new C0;return Object.assign(_,S),_})}}async update(e){var o,l,r,u;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=PA(this.apiClient,e);return p=se("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const m=HA(this.apiClient,e);return p=se("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async listInternal(e){var o,l,r,u;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=NA(e);return p=se("cachedContents",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const S=DA(v),_=new A0;return Object.assign(_,S),_})}else{const m=xA(e);return p=se("cachedContents",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const S=wA(v),_=new A0;return Object.assign(_,S),_})}}}function Ca(n,e){var o={};for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&e.indexOf(l)<0&&(o[l]=n[l]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,l=Object.getOwnPropertySymbols(n);r<l.length;r++)e.indexOf(l[r])<0&&Object.prototype.propertyIsEnumerable.call(n,l[r])&&(o[l[r]]=n[l[r]]);return o}function D0(n){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&n[e],l=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&l>=n.length&&(n=void 0),{value:n&&n[l++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ce(n){return this instanceof Ce?(this.v=n,this):new Ce(n)}function jn(n,e,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=o.apply(n,e||[]),r,u=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",f),r[Symbol.asyncIterator]=function(){return this},r;function f(C){return function(A){return Promise.resolve(A).then(C,S)}}function p(C,A){l[C]&&(r[C]=function(x){return new Promise(function(b,D){u.push([C,x,b,D])>1||g(C,x)})},A&&(r[C]=A(r[C])))}function g(C,A){try{m(l[C](A))}catch(x){_(u[0][3],x)}}function m(C){C.value instanceof Ce?Promise.resolve(C.value.v).then(v,S):_(u[0][2],C)}function v(C){g("next",C)}function S(C){g("throw",C)}function _(C,A){C(A),u.shift(),u.length&&g(u[0][0],u[0][1])}}function ei(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],o;return e?e.call(n):(n=typeof D0=="function"?D0(n):n[Symbol.iterator](),o={},l("next"),l("throw"),l("return"),o[Symbol.asyncIterator]=function(){return this},o);function l(u){o[u]=n[u]&&function(f){return new Promise(function(p,g){f=n[u](f),r(p,g,f.done,f.value)})}}function r(u,f,p,g){Promise.resolve(g).then(function(m){u({value:m,done:p})},f)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OA(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const o=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return o===void 0?!1:Xy(o)}function Xy(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function VA(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function I0(n){if(n===void 0||n.length===0)return[];const e=[],o=n.length;let l=0;for(;l<o;)if(n[l].role==="user")e.push(n[l]),l++;else{const r=[];let u=!0;for(;l<o&&n[l].role==="model";)r.push(n[l]),u&&!Xy(n[l])&&(u=!1),l++;u?e.push(...r):e.pop()}return e}class BA{constructor(e,o){this.modelsModule=e,this.apiClient=o}create(e){return new FA(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class FA{constructor(e,o,l,r={},u=[]){this.apiClient=e,this.modelsModule=o,this.model=l,this.config=r,this.history=u,this.sendPromise=Promise.resolve(),VA(u)}async sendMessage(e){var o;await this.sendPromise;const l=tn(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(l),config:(o=e.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var u,f,p;const g=await r,m=(f=(u=g.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content,v=g.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let _=[];v!=null&&(_=(p=v.slice(S))!==null&&p!==void 0?p:[]);const C=m?[m]:[];this.recordHistory(l,C,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var o;await this.sendPromise;const l=tn(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(l),config:(o=e.config)!==null&&o!==void 0?o:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const u=await r;return this.processStreamResponse(u,l)}getHistory(e=!1){const o=e?I0(this.history):this.history;return structuredClone(o)}processStreamResponse(e,o){return jn(this,arguments,function*(){var r,u,f,p,g,m;const v=[];try{for(var S=!0,_=ei(e),C;C=yield Ce(_.next()),r=C.done,!r;S=!0){p=C.value,S=!1;const A=p;if(OA(A)){const x=(m=(g=A.candidates)===null||g===void 0?void 0:g[0])===null||m===void 0?void 0:m.content;x!==void 0&&v.push(x)}yield yield Ce(A)}}catch(A){u={error:A}}finally{try{!S&&!r&&(f=_.return)&&(yield Ce(f.call(_)))}finally{if(u)throw u.error}}this.recordHistory(o,v)})}recordHistory(e,o,l){let r=[];o.length>0&&o.every(u=>u.role!==void 0)?r=o:r.push({role:"model",parts:[]}),l&&l.length>0?this.history.push(...I0(l)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ia extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Ia.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YA(n){const e={},o=c(n,["file"]);return o!=null&&d(e,["file"],o),e}function JA(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}function KA(n){const e={},o=c(n,["name"]);return o!=null&&d(e,["_url","file"],Vy(o)),e}function $A(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}function XA(n){const e={},o=c(n,["name"]);return o!=null&&d(e,["_url","file"],Vy(o)),e}function QA(n,e){const o={},l=c(n,["pageSize"]);e!==void 0&&l!=null&&d(e,["_query","pageSize"],l);const r=c(n,["pageToken"]);return e!==void 0&&r!=null&&d(e,["_query","pageToken"],r),o}function ZA(n){const e={},o=c(n,["config"]);return o!=null&&QA(o,e),e}function WA(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["nextPageToken"]);l!=null&&d(e,["nextPageToken"],l);const r=c(n,["files"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["files"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jA extends Di{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Go(Ni.PAGED_ITEM_FILES,l=>this.listInternal(l),await this.listInternal(o),o)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(o=>o)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var o,l;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=ZA(e);return u=se("files",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>{const m=WA(g),v=new i1;return Object.assign(v,m),v})}}async createInternal(e){var o,l;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=YA(e);return u=se("upload/v1beta/files",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),r.then(g=>{const m=JA(g),v=new o1;return Object.assign(v,m),v})}}async get(e){var o,l;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=XA(e);return u=se("files/{file}",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),r.then(g=>g)}}async delete(e){var o,l;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=KA(e);return u=se("files/{file}",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>{const m=$A(g),v=new l1;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pa(n){const e={},o=c(n,["data"]);if(o!=null&&d(e,["data"],o),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function eR(n){const e={},o=c(n,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>gR(u))),d(e,["parts"],r)}const l=c(n,["role"]);return l!=null&&d(e,["role"],l),e}function tR(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["fileUri"]);o!=null&&d(e,["fileUri"],o);const l=c(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function nR(n){const e={},o=c(n,["id"]);o!=null&&d(e,["id"],o);const l=c(n,["args"]);l!=null&&d(e,["args"],l);const r=c(n,["name"]);if(r!=null&&d(e,["name"],r),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function iR(n){const e={};if(c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=c(n,["description"]);o!=null&&d(e,["description"],o);const l=c(n,["name"]);l!=null&&d(e,["name"],l);const r=c(n,["parameters"]);r!=null&&d(e,["parameters"],r);const u=c(n,["parametersJsonSchema"]);u!=null&&d(e,["parametersJsonSchema"],u);const f=c(n,["response"]);f!=null&&d(e,["response"],f);const p=c(n,["responseJsonSchema"]);return p!=null&&d(e,["responseJsonSchema"],p),e}function oR(n){const e={},o=c(n,["modelSelectionConfig"]);o!=null&&d(e,["modelConfig"],o);const l=c(n,["responseJsonSchema"]);l!=null&&d(e,["responseJsonSchema"],l);const r=c(n,["audioTimestamp"]);r!=null&&d(e,["audioTimestamp"],r);const u=c(n,["candidateCount"]);u!=null&&d(e,["candidateCount"],u);const f=c(n,["enableAffectiveDialog"]);f!=null&&d(e,["enableAffectiveDialog"],f);const p=c(n,["frequencyPenalty"]);p!=null&&d(e,["frequencyPenalty"],p);const g=c(n,["logprobs"]);g!=null&&d(e,["logprobs"],g);const m=c(n,["maxOutputTokens"]);m!=null&&d(e,["maxOutputTokens"],m);const v=c(n,["mediaResolution"]);v!=null&&d(e,["mediaResolution"],v);const S=c(n,["presencePenalty"]);S!=null&&d(e,["presencePenalty"],S);const _=c(n,["responseLogprobs"]);_!=null&&d(e,["responseLogprobs"],_);const C=c(n,["responseMimeType"]);C!=null&&d(e,["responseMimeType"],C);const A=c(n,["responseModalities"]);A!=null&&d(e,["responseModalities"],A);const x=c(n,["responseSchema"]);x!=null&&d(e,["responseSchema"],x);const b=c(n,["routingConfig"]);b!=null&&d(e,["routingConfig"],b);const D=c(n,["seed"]);D!=null&&d(e,["seed"],D);const B=c(n,["speechConfig"]);B!=null&&d(e,["speechConfig"],B);const U=c(n,["stopSequences"]);U!=null&&d(e,["stopSequences"],U);const X=c(n,["temperature"]);X!=null&&d(e,["temperature"],X);const Z=c(n,["thinkingConfig"]);Z!=null&&d(e,["thinkingConfig"],Z);const W=c(n,["topK"]);W!=null&&d(e,["topK"],W);const J=c(n,["topP"]);if(J!=null&&d(e,["topP"],J),c(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function lR(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(n,["enableWidget"]);return o!=null&&d(e,["enableWidget"],o),e}function sR(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(n,["timeRangeFilter"]);return o!=null&&d(e,["timeRangeFilter"],o),e}function rR(n,e){const o={},l=c(n,["generationConfig"]);e!==void 0&&l!=null&&d(e,["setup","generationConfig"],l);const r=c(n,["responseModalities"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig","responseModalities"],r);const u=c(n,["temperature"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","temperature"],u);const f=c(n,["topP"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","topP"],f);const p=c(n,["topK"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","topK"],p);const g=c(n,["maxOutputTokens"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","maxOutputTokens"],g);const m=c(n,["mediaResolution"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","mediaResolution"],m);const v=c(n,["seed"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","seed"],v);const S=c(n,["speechConfig"]);e!==void 0&&S!=null&&d(e,["setup","generationConfig","speechConfig"],Wf(S));const _=c(n,["thinkingConfig"]);e!==void 0&&_!=null&&d(e,["setup","generationConfig","thinkingConfig"],_);const C=c(n,["enableAffectiveDialog"]);e!==void 0&&C!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],C);const A=c(n,["systemInstruction"]);e!==void 0&&A!=null&&d(e,["setup","systemInstruction"],eR(tn(A)));const x=c(n,["tools"]);if(e!==void 0&&x!=null){let W=xl(x);Array.isArray(W)&&(W=W.map(J=>vR(bl(J)))),d(e,["setup","tools"],W)}const b=c(n,["sessionResumption"]);e!==void 0&&b!=null&&d(e,["setup","sessionResumption"],yR(b));const D=c(n,["inputAudioTranscription"]);e!==void 0&&D!=null&&d(e,["setup","inputAudioTranscription"],D);const B=c(n,["outputAudioTranscription"]);e!==void 0&&B!=null&&d(e,["setup","outputAudioTranscription"],B);const U=c(n,["realtimeInputConfig"]);e!==void 0&&U!=null&&d(e,["setup","realtimeInputConfig"],U);const X=c(n,["contextWindowCompression"]);e!==void 0&&X!=null&&d(e,["setup","contextWindowCompression"],X);const Z=c(n,["proactivity"]);if(e!==void 0&&Z!=null&&d(e,["setup","proactivity"],Z),c(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function aR(n,e){const o={},l=c(n,["generationConfig"]);e!==void 0&&l!=null&&d(e,["setup","generationConfig"],oR(l));const r=c(n,["responseModalities"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig","responseModalities"],r);const u=c(n,["temperature"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","temperature"],u);const f=c(n,["topP"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","topP"],f);const p=c(n,["topK"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","topK"],p);const g=c(n,["maxOutputTokens"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","maxOutputTokens"],g);const m=c(n,["mediaResolution"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","mediaResolution"],m);const v=c(n,["seed"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","seed"],v);const S=c(n,["speechConfig"]);e!==void 0&&S!=null&&d(e,["setup","generationConfig","speechConfig"],Wf(S));const _=c(n,["thinkingConfig"]);e!==void 0&&_!=null&&d(e,["setup","generationConfig","thinkingConfig"],_);const C=c(n,["enableAffectiveDialog"]);e!==void 0&&C!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],C);const A=c(n,["systemInstruction"]);e!==void 0&&A!=null&&d(e,["setup","systemInstruction"],tn(A));const x=c(n,["tools"]);if(e!==void 0&&x!=null){let J=xl(x);Array.isArray(J)&&(J=J.map(j=>SR(bl(j)))),d(e,["setup","tools"],J)}const b=c(n,["sessionResumption"]);e!==void 0&&b!=null&&d(e,["setup","sessionResumption"],b);const D=c(n,["inputAudioTranscription"]);e!==void 0&&D!=null&&d(e,["setup","inputAudioTranscription"],D);const B=c(n,["outputAudioTranscription"]);e!==void 0&&B!=null&&d(e,["setup","outputAudioTranscription"],B);const U=c(n,["realtimeInputConfig"]);e!==void 0&&U!=null&&d(e,["setup","realtimeInputConfig"],U);const X=c(n,["contextWindowCompression"]);e!==void 0&&X!=null&&d(e,["setup","contextWindowCompression"],X);const Z=c(n,["proactivity"]);e!==void 0&&Z!=null&&d(e,["setup","proactivity"],Z);const W=c(n,["explicitVadSignal"]);return e!==void 0&&W!=null&&d(e,["setup","explicitVadSignal"],W),o}function uR(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["setup","model"],Oe(n,l));const r=c(e,["config"]);return r!=null&&d(o,["config"],rR(r,o)),o}function cR(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["setup","model"],Oe(n,l));const r=c(e,["config"]);return r!=null&&d(o,["config"],aR(r,o)),o}function fR(n){const e={},o=c(n,["musicGenerationConfig"]);return o!=null&&d(e,["musicGenerationConfig"],o),e}function dR(n){const e={},o=c(n,["weightedPrompts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(r=>r)),d(e,["weightedPrompts"],l)}return e}function hR(n){const e={},o=c(n,["media"]);if(o!=null){let m=Gy(o);Array.isArray(m)&&(m=m.map(v=>pa(v))),d(e,["mediaChunks"],m)}const l=c(n,["audio"]);l!=null&&d(e,["audio"],pa(Py(l)));const r=c(n,["audioStreamEnd"]);r!=null&&d(e,["audioStreamEnd"],r);const u=c(n,["video"]);u!=null&&d(e,["video"],pa(Hy(u)));const f=c(n,["text"]);f!=null&&d(e,["text"],f);const p=c(n,["activityStart"]);p!=null&&d(e,["activityStart"],p);const g=c(n,["activityEnd"]);return g!=null&&d(e,["activityEnd"],g),e}function pR(n){const e={},o=c(n,["media"]);if(o!=null){let m=Gy(o);Array.isArray(m)&&(m=m.map(v=>v)),d(e,["mediaChunks"],m)}const l=c(n,["audio"]);l!=null&&d(e,["audio"],Py(l));const r=c(n,["audioStreamEnd"]);r!=null&&d(e,["audioStreamEnd"],r);const u=c(n,["video"]);u!=null&&d(e,["video"],Hy(u));const f=c(n,["text"]);f!=null&&d(e,["text"],f);const p=c(n,["activityStart"]);p!=null&&d(e,["activityStart"],p);const g=c(n,["activityEnd"]);return g!=null&&d(e,["activityEnd"],g),e}function mR(n){const e={},o=c(n,["setupComplete"]);o!=null&&d(e,["setupComplete"],o);const l=c(n,["serverContent"]);l!=null&&d(e,["serverContent"],l);const r=c(n,["toolCall"]);r!=null&&d(e,["toolCall"],r);const u=c(n,["toolCallCancellation"]);u!=null&&d(e,["toolCallCancellation"],u);const f=c(n,["usageMetadata"]);f!=null&&d(e,["usageMetadata"],_R(f));const p=c(n,["goAway"]);p!=null&&d(e,["goAway"],p);const g=c(n,["sessionResumptionUpdate"]);g!=null&&d(e,["sessionResumptionUpdate"],g);const m=c(n,["voiceActivityDetectionSignal"]);return m!=null&&d(e,["voiceActivityDetectionSignal"],m),e}function gR(n){const e={},o=c(n,["mediaResolution"]);o!=null&&d(e,["mediaResolution"],o);const l=c(n,["codeExecutionResult"]);l!=null&&d(e,["codeExecutionResult"],l);const r=c(n,["executableCode"]);r!=null&&d(e,["executableCode"],r);const u=c(n,["fileData"]);u!=null&&d(e,["fileData"],tR(u));const f=c(n,["functionCall"]);f!=null&&d(e,["functionCall"],nR(f));const p=c(n,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const g=c(n,["inlineData"]);g!=null&&d(e,["inlineData"],pa(g));const m=c(n,["text"]);m!=null&&d(e,["text"],m);const v=c(n,["thought"]);v!=null&&d(e,["thought"],v);const S=c(n,["thoughtSignature"]);S!=null&&d(e,["thoughtSignature"],S);const _=c(n,["videoMetadata"]);return _!=null&&d(e,["videoMetadata"],_),e}function yR(n){const e={},o=c(n,["handle"]);if(o!=null&&d(e,["handle"],o),c(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function vR(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(S=>S)),d(e,["functionDeclarations"],v)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=c(n,["googleSearchRetrieval"]);l!=null&&d(e,["googleSearchRetrieval"],l);const r=c(n,["computerUse"]);r!=null&&d(e,["computerUse"],r);const u=c(n,["fileSearch"]);u!=null&&d(e,["fileSearch"],u);const f=c(n,["codeExecution"]);if(f!=null&&d(e,["codeExecution"],f),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=c(n,["googleMaps"]);p!=null&&d(e,["googleMaps"],lR(p));const g=c(n,["googleSearch"]);g!=null&&d(e,["googleSearch"],sR(g));const m=c(n,["urlContext"]);return m!=null&&d(e,["urlContext"],m),e}function SR(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(_=>iR(_))),d(e,["functionDeclarations"],S)}const l=c(n,["retrieval"]);l!=null&&d(e,["retrieval"],l);const r=c(n,["googleSearchRetrieval"]);r!=null&&d(e,["googleSearchRetrieval"],r);const u=c(n,["computerUse"]);if(u!=null&&d(e,["computerUse"],u),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const f=c(n,["codeExecution"]);f!=null&&d(e,["codeExecution"],f);const p=c(n,["enterpriseWebSearch"]);p!=null&&d(e,["enterpriseWebSearch"],p);const g=c(n,["googleMaps"]);g!=null&&d(e,["googleMaps"],g);const m=c(n,["googleSearch"]);m!=null&&d(e,["googleSearch"],m);const v=c(n,["urlContext"]);return v!=null&&d(e,["urlContext"],v),e}function _R(n){const e={},o=c(n,["promptTokenCount"]);o!=null&&d(e,["promptTokenCount"],o);const l=c(n,["cachedContentTokenCount"]);l!=null&&d(e,["cachedContentTokenCount"],l);const r=c(n,["candidatesTokenCount"]);r!=null&&d(e,["responseTokenCount"],r);const u=c(n,["toolUsePromptTokenCount"]);u!=null&&d(e,["toolUsePromptTokenCount"],u);const f=c(n,["thoughtsTokenCount"]);f!=null&&d(e,["thoughtsTokenCount"],f);const p=c(n,["totalTokenCount"]);p!=null&&d(e,["totalTokenCount"],p);const g=c(n,["promptTokensDetails"]);if(g!=null){let C=g;Array.isArray(C)&&(C=C.map(A=>A)),d(e,["promptTokensDetails"],C)}const m=c(n,["cacheTokensDetails"]);if(m!=null){let C=m;Array.isArray(C)&&(C=C.map(A=>A)),d(e,["cacheTokensDetails"],C)}const v=c(n,["candidatesTokensDetails"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(A=>A)),d(e,["responseTokensDetails"],C)}const S=c(n,["toolUsePromptTokensDetails"]);if(S!=null){let C=S;Array.isArray(C)&&(C=C.map(A=>A)),d(e,["toolUsePromptTokensDetails"],C)}const _=c(n,["trafficType"]);return _!=null&&d(e,["trafficType"],_),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ER(n){const e={},o=c(n,["data"]);if(o!=null&&d(e,["data"],o),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function TR(n){const e={},o=c(n,["content"]);o!=null&&d(e,["content"],o);const l=c(n,["citationMetadata"]);l!=null&&d(e,["citationMetadata"],CR(l));const r=c(n,["tokenCount"]);r!=null&&d(e,["tokenCount"],r);const u=c(n,["finishReason"]);u!=null&&d(e,["finishReason"],u);const f=c(n,["avgLogprobs"]);f!=null&&d(e,["avgLogprobs"],f);const p=c(n,["groundingMetadata"]);p!=null&&d(e,["groundingMetadata"],p);const g=c(n,["index"]);g!=null&&d(e,["index"],g);const m=c(n,["logprobsResult"]);m!=null&&d(e,["logprobsResult"],m);const v=c(n,["safetyRatings"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(C=>C)),d(e,["safetyRatings"],_)}const S=c(n,["urlContextMetadata"]);return S!=null&&d(e,["urlContextMetadata"],S),e}function CR(n){const e={},o=c(n,["citationSources"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(r=>r)),d(e,["citations"],l)}return e}function AR(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["_url","model"],Oe(n,l));const r=c(e,["contents"]);if(r!=null){let u=Vn(r);Array.isArray(u)&&(u=u.map(f=>f)),d(o,["contents"],u)}return o}function RR(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["tokensInfo"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(u=>u)),d(e,["tokensInfo"],r)}return e}function MR(n){const e={},o=c(n,["values"]);o!=null&&d(e,["values"],o);const l=c(n,["statistics"]);return l!=null&&d(e,["statistics"],bR(l)),e}function bR(n){const e={},o=c(n,["truncated"]);o!=null&&d(e,["truncated"],o);const l=c(n,["token_count"]);return l!=null&&d(e,["tokenCount"],l),e}function Ua(n){const e={},o=c(n,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>qM(u))),d(e,["parts"],r)}const l=c(n,["role"]);return l!=null&&d(e,["role"],l),e}function xR(n){const e={},o=c(n,["controlType"]);o!=null&&d(e,["controlType"],o);const l=c(n,["enableControlImageComputation"]);return l!=null&&d(e,["computeControl"],l),e}function NR(n){const e={};if(c(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function wR(n,e){const o={},l=c(n,["systemInstruction"]);e!==void 0&&l!=null&&d(e,["systemInstruction"],tn(l));const r=c(n,["tools"]);if(e!==void 0&&r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>jy(p))),d(e,["tools"],f)}const u=c(n,["generationConfig"]);return e!==void 0&&u!=null&&d(e,["generationConfig"],EM(u)),o}function DR(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["_url","model"],Oe(n,l));const r=c(e,["contents"]);if(r!=null){let f=Vn(r);Array.isArray(f)&&(f=f.map(p=>Ua(p))),d(o,["contents"],f)}const u=c(e,["config"]);return u!=null&&NR(u),o}function IR(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["_url","model"],Oe(n,l));const r=c(e,["contents"]);if(r!=null){let f=Vn(r);Array.isArray(f)&&(f=f.map(p=>p)),d(o,["contents"],f)}const u=c(e,["config"]);return u!=null&&wR(u,o),o}function UR(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["totalTokens"]);l!=null&&d(e,["totalTokens"],l);const r=c(n,["cachedContentTokenCount"]);return r!=null&&d(e,["cachedContentTokenCount"],r),e}function LR(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["totalTokens"]);return l!=null&&d(e,["totalTokens"],l),e}function kR(n,e){const o={},l=c(e,["model"]);return l!=null&&d(o,["_url","name"],Oe(n,l)),o}function qR(n,e){const o={},l=c(e,["model"]);return l!=null&&d(o,["_url","name"],Oe(n,l)),o}function GR(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}function HR(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}function PR(n,e){const o={},l=c(n,["outputGcsUri"]);e!==void 0&&l!=null&&d(e,["parameters","storageUri"],l);const r=c(n,["negativePrompt"]);e!==void 0&&r!=null&&d(e,["parameters","negativePrompt"],r);const u=c(n,["numberOfImages"]);e!==void 0&&u!=null&&d(e,["parameters","sampleCount"],u);const f=c(n,["aspectRatio"]);e!==void 0&&f!=null&&d(e,["parameters","aspectRatio"],f);const p=c(n,["guidanceScale"]);e!==void 0&&p!=null&&d(e,["parameters","guidanceScale"],p);const g=c(n,["seed"]);e!==void 0&&g!=null&&d(e,["parameters","seed"],g);const m=c(n,["safetyFilterLevel"]);e!==void 0&&m!=null&&d(e,["parameters","safetySetting"],m);const v=c(n,["personGeneration"]);e!==void 0&&v!=null&&d(e,["parameters","personGeneration"],v);const S=c(n,["includeSafetyAttributes"]);e!==void 0&&S!=null&&d(e,["parameters","includeSafetyAttributes"],S);const _=c(n,["includeRaiReason"]);e!==void 0&&_!=null&&d(e,["parameters","includeRaiReason"],_);const C=c(n,["language"]);e!==void 0&&C!=null&&d(e,["parameters","language"],C);const A=c(n,["outputMimeType"]);e!==void 0&&A!=null&&d(e,["parameters","outputOptions","mimeType"],A);const x=c(n,["outputCompressionQuality"]);e!==void 0&&x!=null&&d(e,["parameters","outputOptions","compressionQuality"],x);const b=c(n,["addWatermark"]);e!==void 0&&b!=null&&d(e,["parameters","addWatermark"],b);const D=c(n,["labels"]);e!==void 0&&D!=null&&d(e,["labels"],D);const B=c(n,["editMode"]);e!==void 0&&B!=null&&d(e,["parameters","editMode"],B);const U=c(n,["baseSteps"]);return e!==void 0&&U!=null&&d(e,["parameters","editConfig","baseSteps"],U),o}function zR(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["_url","model"],Oe(n,l));const r=c(e,["prompt"]);r!=null&&d(o,["instances[0]","prompt"],r);const u=c(e,["referenceImages"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(g=>VM(g))),d(o,["instances[0]","referenceImages"],p)}const f=c(e,["config"]);return f!=null&&PR(f,o),o}function OR(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["predictions"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(u=>La(u))),d(e,["generatedImages"],r)}return e}function VR(n,e){const o={},l=c(n,["taskType"]);e!==void 0&&l!=null&&d(e,["requests[]","taskType"],l);const r=c(n,["title"]);e!==void 0&&r!=null&&d(e,["requests[]","title"],r);const u=c(n,["outputDimensionality"]);if(e!==void 0&&u!=null&&d(e,["requests[]","outputDimensionality"],u),c(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function BR(n,e){const o={},l=c(n,["taskType"]);e!==void 0&&l!=null&&d(e,["instances[]","task_type"],l);const r=c(n,["title"]);e!==void 0&&r!=null&&d(e,["instances[]","title"],r);const u=c(n,["outputDimensionality"]);e!==void 0&&u!=null&&d(e,["parameters","outputDimensionality"],u);const f=c(n,["mimeType"]);e!==void 0&&f!=null&&d(e,["instances[]","mimeType"],f);const p=c(n,["autoTruncate"]);return e!==void 0&&p!=null&&d(e,["parameters","autoTruncate"],p),o}function FR(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["_url","model"],Oe(n,l));const r=c(e,["contents"]);if(r!=null){let p=Xf(n,r);Array.isArray(p)&&(p=p.map(g=>g)),d(o,["requests[]","content"],p)}const u=c(e,["config"]);u!=null&&VR(u,o);const f=c(e,["model"]);return f!==void 0&&d(o,["requests[]","model"],Oe(n,f)),o}function YR(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["_url","model"],Oe(n,l));const r=c(e,["contents"]);if(r!=null){let f=Xf(n,r);Array.isArray(f)&&(f=f.map(p=>p)),d(o,["instances[]","content"],f)}const u=c(e,["config"]);return u!=null&&BR(u,o),o}function JR(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["embeddings"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["embeddings"],u)}const r=c(n,["metadata"]);return r!=null&&d(e,["metadata"],r),e}function KR(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["predictions[]","embeddings"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>MR(f))),d(e,["embeddings"],u)}const r=c(n,["metadata"]);return r!=null&&d(e,["metadata"],r),e}function $R(n){const e={},o=c(n,["endpoint"]);o!=null&&d(e,["name"],o);const l=c(n,["deployedModelId"]);return l!=null&&d(e,["deployedModelId"],l),e}function XR(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["fileUri"]);o!=null&&d(e,["fileUri"],o);const l=c(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function QR(n){const e={},o=c(n,["id"]);o!=null&&d(e,["id"],o);const l=c(n,["args"]);l!=null&&d(e,["args"],l);const r=c(n,["name"]);if(r!=null&&d(e,["name"],r),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ZR(n){const e={},o=c(n,["mode"]);o!=null&&d(e,["mode"],o);const l=c(n,["allowedFunctionNames"]);if(l!=null&&d(e,["allowedFunctionNames"],l),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function WR(n){const e={};if(c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=c(n,["description"]);o!=null&&d(e,["description"],o);const l=c(n,["name"]);l!=null&&d(e,["name"],l);const r=c(n,["parameters"]);r!=null&&d(e,["parameters"],r);const u=c(n,["parametersJsonSchema"]);u!=null&&d(e,["parametersJsonSchema"],u);const f=c(n,["response"]);f!=null&&d(e,["response"],f);const p=c(n,["responseJsonSchema"]);return p!=null&&d(e,["responseJsonSchema"],p),e}function jR(n,e,o){const l={},r=c(e,["systemInstruction"]);o!==void 0&&r!=null&&d(o,["systemInstruction"],Ua(tn(r)));const u=c(e,["temperature"]);u!=null&&d(l,["temperature"],u);const f=c(e,["topP"]);f!=null&&d(l,["topP"],f);const p=c(e,["topK"]);p!=null&&d(l,["topK"],p);const g=c(e,["candidateCount"]);g!=null&&d(l,["candidateCount"],g);const m=c(e,["maxOutputTokens"]);m!=null&&d(l,["maxOutputTokens"],m);const v=c(e,["stopSequences"]);v!=null&&d(l,["stopSequences"],v);const S=c(e,["responseLogprobs"]);S!=null&&d(l,["responseLogprobs"],S);const _=c(e,["logprobs"]);_!=null&&d(l,["logprobs"],_);const C=c(e,["presencePenalty"]);C!=null&&d(l,["presencePenalty"],C);const A=c(e,["frequencyPenalty"]);A!=null&&d(l,["frequencyPenalty"],A);const x=c(e,["seed"]);x!=null&&d(l,["seed"],x);const b=c(e,["responseMimeType"]);b!=null&&d(l,["responseMimeType"],b);const D=c(e,["responseSchema"]);D!=null&&d(l,["responseSchema"],Qf(D));const B=c(e,["responseJsonSchema"]);if(B!=null&&d(l,["responseJsonSchema"],B),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const U=c(e,["safetySettings"]);if(o!==void 0&&U!=null){let he=U;Array.isArray(he)&&(he=he.map(Re=>BM(Re))),d(o,["safetySettings"],he)}const X=c(e,["tools"]);if(o!==void 0&&X!=null){let he=xl(X);Array.isArray(he)&&(he=he.map(Re=>QM(bl(Re)))),d(o,["tools"],he)}const Z=c(e,["toolConfig"]);if(o!==void 0&&Z!=null&&d(o,["toolConfig"],XM(Z)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const W=c(e,["cachedContent"]);o!==void 0&&W!=null&&d(o,["cachedContent"],Ii(n,W));const J=c(e,["responseModalities"]);J!=null&&d(l,["responseModalities"],J);const j=c(e,["mediaResolution"]);j!=null&&d(l,["mediaResolution"],j);const ee=c(e,["speechConfig"]);if(ee!=null&&d(l,["speechConfig"],Zf(ee)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const oe=c(e,["thinkingConfig"]);oe!=null&&d(l,["thinkingConfig"],oe);const re=c(e,["imageConfig"]);re!=null&&d(l,["imageConfig"],MM(re));const ve=c(e,["enableEnhancedCivicAnswers"]);return ve!=null&&d(l,["enableEnhancedCivicAnswers"],ve),l}function eM(n,e,o){const l={},r=c(e,["systemInstruction"]);o!==void 0&&r!=null&&d(o,["systemInstruction"],tn(r));const u=c(e,["temperature"]);u!=null&&d(l,["temperature"],u);const f=c(e,["topP"]);f!=null&&d(l,["topP"],f);const p=c(e,["topK"]);p!=null&&d(l,["topK"],p);const g=c(e,["candidateCount"]);g!=null&&d(l,["candidateCount"],g);const m=c(e,["maxOutputTokens"]);m!=null&&d(l,["maxOutputTokens"],m);const v=c(e,["stopSequences"]);v!=null&&d(l,["stopSequences"],v);const S=c(e,["responseLogprobs"]);S!=null&&d(l,["responseLogprobs"],S);const _=c(e,["logprobs"]);_!=null&&d(l,["logprobs"],_);const C=c(e,["presencePenalty"]);C!=null&&d(l,["presencePenalty"],C);const A=c(e,["frequencyPenalty"]);A!=null&&d(l,["frequencyPenalty"],A);const x=c(e,["seed"]);x!=null&&d(l,["seed"],x);const b=c(e,["responseMimeType"]);b!=null&&d(l,["responseMimeType"],b);const D=c(e,["responseSchema"]);D!=null&&d(l,["responseSchema"],Qf(D));const B=c(e,["responseJsonSchema"]);B!=null&&d(l,["responseJsonSchema"],B);const U=c(e,["routingConfig"]);U!=null&&d(l,["routingConfig"],U);const X=c(e,["modelSelectionConfig"]);X!=null&&d(l,["modelConfig"],X);const Z=c(e,["safetySettings"]);if(o!==void 0&&Z!=null){let z=Z;Array.isArray(z)&&(z=z.map(te=>te)),d(o,["safetySettings"],z)}const W=c(e,["tools"]);if(o!==void 0&&W!=null){let z=xl(W);Array.isArray(z)&&(z=z.map(te=>jy(bl(te)))),d(o,["tools"],z)}const J=c(e,["toolConfig"]);o!==void 0&&J!=null&&d(o,["toolConfig"],J);const j=c(e,["labels"]);o!==void 0&&j!=null&&d(o,["labels"],j);const ee=c(e,["cachedContent"]);o!==void 0&&ee!=null&&d(o,["cachedContent"],Ii(n,ee));const oe=c(e,["responseModalities"]);oe!=null&&d(l,["responseModalities"],oe);const re=c(e,["mediaResolution"]);re!=null&&d(l,["mediaResolution"],re);const ve=c(e,["speechConfig"]);ve!=null&&d(l,["speechConfig"],Zf(ve));const he=c(e,["audioTimestamp"]);he!=null&&d(l,["audioTimestamp"],he);const Re=c(e,["thinkingConfig"]);Re!=null&&d(l,["thinkingConfig"],Re);const Fe=c(e,["imageConfig"]);if(Fe!=null&&d(l,["imageConfig"],bM(Fe)),c(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return l}function U0(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["_url","model"],Oe(n,l));const r=c(e,["contents"]);if(r!=null){let f=Vn(r);Array.isArray(f)&&(f=f.map(p=>Ua(p))),d(o,["contents"],f)}const u=c(e,["config"]);return u!=null&&d(o,["generationConfig"],jR(n,u,o)),o}function L0(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["_url","model"],Oe(n,l));const r=c(e,["contents"]);if(r!=null){let f=Vn(r);Array.isArray(f)&&(f=f.map(p=>p)),d(o,["contents"],f)}const u=c(e,["config"]);return u!=null&&d(o,["generationConfig"],eM(n,u,o)),o}function k0(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["candidates"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(m=>TR(m))),d(e,["candidates"],g)}const r=c(n,["modelVersion"]);r!=null&&d(e,["modelVersion"],r);const u=c(n,["promptFeedback"]);u!=null&&d(e,["promptFeedback"],u);const f=c(n,["responseId"]);f!=null&&d(e,["responseId"],f);const p=c(n,["usageMetadata"]);return p!=null&&d(e,["usageMetadata"],p),e}function q0(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["candidates"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(v=>v)),d(e,["candidates"],m)}const r=c(n,["createTime"]);r!=null&&d(e,["createTime"],r);const u=c(n,["modelVersion"]);u!=null&&d(e,["modelVersion"],u);const f=c(n,["promptFeedback"]);f!=null&&d(e,["promptFeedback"],f);const p=c(n,["responseId"]);p!=null&&d(e,["responseId"],p);const g=c(n,["usageMetadata"]);return g!=null&&d(e,["usageMetadata"],g),e}function tM(n,e){const o={};if(c(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=c(n,["numberOfImages"]);e!==void 0&&l!=null&&d(e,["parameters","sampleCount"],l);const r=c(n,["aspectRatio"]);e!==void 0&&r!=null&&d(e,["parameters","aspectRatio"],r);const u=c(n,["guidanceScale"]);if(e!==void 0&&u!=null&&d(e,["parameters","guidanceScale"],u),c(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=c(n,["safetyFilterLevel"]);e!==void 0&&f!=null&&d(e,["parameters","safetySetting"],f);const p=c(n,["personGeneration"]);e!==void 0&&p!=null&&d(e,["parameters","personGeneration"],p);const g=c(n,["includeSafetyAttributes"]);e!==void 0&&g!=null&&d(e,["parameters","includeSafetyAttributes"],g);const m=c(n,["includeRaiReason"]);e!==void 0&&m!=null&&d(e,["parameters","includeRaiReason"],m);const v=c(n,["language"]);e!==void 0&&v!=null&&d(e,["parameters","language"],v);const S=c(n,["outputMimeType"]);e!==void 0&&S!=null&&d(e,["parameters","outputOptions","mimeType"],S);const _=c(n,["outputCompressionQuality"]);if(e!==void 0&&_!=null&&d(e,["parameters","outputOptions","compressionQuality"],_),c(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=c(n,["imageSize"]);if(e!==void 0&&C!=null&&d(e,["parameters","sampleImageSize"],C),c(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function nM(n,e){const o={},l=c(n,["outputGcsUri"]);e!==void 0&&l!=null&&d(e,["parameters","storageUri"],l);const r=c(n,["negativePrompt"]);e!==void 0&&r!=null&&d(e,["parameters","negativePrompt"],r);const u=c(n,["numberOfImages"]);e!==void 0&&u!=null&&d(e,["parameters","sampleCount"],u);const f=c(n,["aspectRatio"]);e!==void 0&&f!=null&&d(e,["parameters","aspectRatio"],f);const p=c(n,["guidanceScale"]);e!==void 0&&p!=null&&d(e,["parameters","guidanceScale"],p);const g=c(n,["seed"]);e!==void 0&&g!=null&&d(e,["parameters","seed"],g);const m=c(n,["safetyFilterLevel"]);e!==void 0&&m!=null&&d(e,["parameters","safetySetting"],m);const v=c(n,["personGeneration"]);e!==void 0&&v!=null&&d(e,["parameters","personGeneration"],v);const S=c(n,["includeSafetyAttributes"]);e!==void 0&&S!=null&&d(e,["parameters","includeSafetyAttributes"],S);const _=c(n,["includeRaiReason"]);e!==void 0&&_!=null&&d(e,["parameters","includeRaiReason"],_);const C=c(n,["language"]);e!==void 0&&C!=null&&d(e,["parameters","language"],C);const A=c(n,["outputMimeType"]);e!==void 0&&A!=null&&d(e,["parameters","outputOptions","mimeType"],A);const x=c(n,["outputCompressionQuality"]);e!==void 0&&x!=null&&d(e,["parameters","outputOptions","compressionQuality"],x);const b=c(n,["addWatermark"]);e!==void 0&&b!=null&&d(e,["parameters","addWatermark"],b);const D=c(n,["labels"]);e!==void 0&&D!=null&&d(e,["labels"],D);const B=c(n,["imageSize"]);e!==void 0&&B!=null&&d(e,["parameters","sampleImageSize"],B);const U=c(n,["enhancePrompt"]);return e!==void 0&&U!=null&&d(e,["parameters","enhancePrompt"],U),o}function iM(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["_url","model"],Oe(n,l));const r=c(e,["prompt"]);r!=null&&d(o,["instances[0]","prompt"],r);const u=c(e,["config"]);return u!=null&&tM(u,o),o}function oM(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["_url","model"],Oe(n,l));const r=c(e,["prompt"]);r!=null&&d(o,["instances[0]","prompt"],r);const u=c(e,["config"]);return u!=null&&nM(u,o),o}function lM(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["predictions"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>yM(f))),d(e,["generatedImages"],u)}const r=c(n,["positivePromptSafetyAttributes"]);return r!=null&&d(e,["positivePromptSafetyAttributes"],Zy(r)),e}function sM(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["predictions"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>La(f))),d(e,["generatedImages"],u)}const r=c(n,["positivePromptSafetyAttributes"]);return r!=null&&d(e,["positivePromptSafetyAttributes"],Wy(r)),e}function rM(n,e){const o={},l=c(n,["numberOfVideos"]);if(e!==void 0&&l!=null&&d(e,["parameters","sampleCount"],l),c(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=c(n,["durationSeconds"]);if(e!==void 0&&r!=null&&d(e,["parameters","durationSeconds"],r),c(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=c(n,["aspectRatio"]);e!==void 0&&u!=null&&d(e,["parameters","aspectRatio"],u);const f=c(n,["resolution"]);e!==void 0&&f!=null&&d(e,["parameters","resolution"],f);const p=c(n,["personGeneration"]);if(e!==void 0&&p!=null&&d(e,["parameters","personGeneration"],p),c(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const g=c(n,["negativePrompt"]);e!==void 0&&g!=null&&d(e,["parameters","negativePrompt"],g);const m=c(n,["enhancePrompt"]);if(e!==void 0&&m!=null&&d(e,["parameters","enhancePrompt"],m),c(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=c(n,["lastFrame"]);e!==void 0&&v!=null&&d(e,["instances[0]","lastFrame"],ka(v));const S=c(n,["referenceImages"]);if(e!==void 0&&S!=null){let _=S;Array.isArray(_)&&(_=_.map(C=>ub(C))),d(e,["instances[0]","referenceImages"],_)}if(c(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function aM(n,e){const o={},l=c(n,["numberOfVideos"]);e!==void 0&&l!=null&&d(e,["parameters","sampleCount"],l);const r=c(n,["outputGcsUri"]);e!==void 0&&r!=null&&d(e,["parameters","storageUri"],r);const u=c(n,["fps"]);e!==void 0&&u!=null&&d(e,["parameters","fps"],u);const f=c(n,["durationSeconds"]);e!==void 0&&f!=null&&d(e,["parameters","durationSeconds"],f);const p=c(n,["seed"]);e!==void 0&&p!=null&&d(e,["parameters","seed"],p);const g=c(n,["aspectRatio"]);e!==void 0&&g!=null&&d(e,["parameters","aspectRatio"],g);const m=c(n,["resolution"]);e!==void 0&&m!=null&&d(e,["parameters","resolution"],m);const v=c(n,["personGeneration"]);e!==void 0&&v!=null&&d(e,["parameters","personGeneration"],v);const S=c(n,["pubsubTopic"]);e!==void 0&&S!=null&&d(e,["parameters","pubsubTopic"],S);const _=c(n,["negativePrompt"]);e!==void 0&&_!=null&&d(e,["parameters","negativePrompt"],_);const C=c(n,["enhancePrompt"]);e!==void 0&&C!=null&&d(e,["parameters","enhancePrompt"],C);const A=c(n,["generateAudio"]);e!==void 0&&A!=null&&d(e,["parameters","generateAudio"],A);const x=c(n,["lastFrame"]);e!==void 0&&x!=null&&d(e,["instances[0]","lastFrame"],ni(x));const b=c(n,["referenceImages"]);if(e!==void 0&&b!=null){let U=b;Array.isArray(U)&&(U=U.map(X=>cb(X))),d(e,["instances[0]","referenceImages"],U)}const D=c(n,["mask"]);e!==void 0&&D!=null&&d(e,["instances[0]","mask"],ab(D));const B=c(n,["compressionQuality"]);return e!==void 0&&B!=null&&d(e,["parameters","compressionQuality"],B),o}function uM(n){const e={},o=c(n,["name"]);o!=null&&d(e,["name"],o);const l=c(n,["metadata"]);l!=null&&d(e,["metadata"],l);const r=c(n,["done"]);r!=null&&d(e,["done"],r);const u=c(n,["error"]);u!=null&&d(e,["error"],u);const f=c(n,["response","generateVideoResponse"]);return f!=null&&d(e,["response"],hM(f)),e}function cM(n){const e={},o=c(n,["name"]);o!=null&&d(e,["name"],o);const l=c(n,["metadata"]);l!=null&&d(e,["metadata"],l);const r=c(n,["done"]);r!=null&&d(e,["done"],r);const u=c(n,["error"]);u!=null&&d(e,["error"],u);const f=c(n,["response"]);return f!=null&&d(e,["response"],pM(f)),e}function fM(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["_url","model"],Oe(n,l));const r=c(e,["prompt"]);r!=null&&d(o,["instances[0]","prompt"],r);const u=c(e,["image"]);u!=null&&d(o,["instances[0]","image"],ka(u));const f=c(e,["video"]);f!=null&&d(o,["instances[0]","video"],ev(f));const p=c(e,["source"]);p!=null&&mM(p,o);const g=c(e,["config"]);return g!=null&&rM(g,o),o}function dM(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["_url","model"],Oe(n,l));const r=c(e,["prompt"]);r!=null&&d(o,["instances[0]","prompt"],r);const u=c(e,["image"]);u!=null&&d(o,["instances[0]","image"],ni(u));const f=c(e,["video"]);f!=null&&d(o,["instances[0]","video"],tv(f));const p=c(e,["source"]);p!=null&&gM(p,o);const g=c(e,["config"]);return g!=null&&aM(g,o),o}function hM(n){const e={},o=c(n,["generatedSamples"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>SM(f))),d(e,["generatedVideos"],u)}const l=c(n,["raiMediaFilteredCount"]);l!=null&&d(e,["raiMediaFilteredCount"],l);const r=c(n,["raiMediaFilteredReasons"]);return r!=null&&d(e,["raiMediaFilteredReasons"],r),e}function pM(n){const e={},o=c(n,["videos"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>_M(f))),d(e,["generatedVideos"],u)}const l=c(n,["raiMediaFilteredCount"]);l!=null&&d(e,["raiMediaFilteredCount"],l);const r=c(n,["raiMediaFilteredReasons"]);return r!=null&&d(e,["raiMediaFilteredReasons"],r),e}function mM(n,e){const o={},l=c(n,["prompt"]);e!==void 0&&l!=null&&d(e,["instances[0]","prompt"],l);const r=c(n,["image"]);e!==void 0&&r!=null&&d(e,["instances[0]","image"],ka(r));const u=c(n,["video"]);return e!==void 0&&u!=null&&d(e,["instances[0]","video"],ev(u)),o}function gM(n,e){const o={},l=c(n,["prompt"]);e!==void 0&&l!=null&&d(e,["instances[0]","prompt"],l);const r=c(n,["image"]);e!==void 0&&r!=null&&d(e,["instances[0]","image"],ni(r));const u=c(n,["video"]);return e!==void 0&&u!=null&&d(e,["instances[0]","video"],tv(u)),o}function yM(n){const e={},o=c(n,["_self"]);o!=null&&d(e,["image"],xM(o));const l=c(n,["raiFilteredReason"]);l!=null&&d(e,["raiFilteredReason"],l);const r=c(n,["_self"]);return r!=null&&d(e,["safetyAttributes"],Zy(r)),e}function La(n){const e={},o=c(n,["_self"]);o!=null&&d(e,["image"],Qy(o));const l=c(n,["raiFilteredReason"]);l!=null&&d(e,["raiFilteredReason"],l);const r=c(n,["_self"]);r!=null&&d(e,["safetyAttributes"],Wy(r));const u=c(n,["prompt"]);return u!=null&&d(e,["enhancedPrompt"],u),e}function vM(n){const e={},o=c(n,["_self"]);o!=null&&d(e,["mask"],Qy(o));const l=c(n,["labels"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(u=>u)),d(e,["labels"],r)}return e}function SM(n){const e={},o=c(n,["video"]);return o!=null&&d(e,["video"],sb(o)),e}function _M(n){const e={},o=c(n,["_self"]);return o!=null&&d(e,["video"],rb(o)),e}function EM(n){const e={},o=c(n,["modelSelectionConfig"]);o!=null&&d(e,["modelConfig"],o);const l=c(n,["responseJsonSchema"]);l!=null&&d(e,["responseJsonSchema"],l);const r=c(n,["audioTimestamp"]);r!=null&&d(e,["audioTimestamp"],r);const u=c(n,["candidateCount"]);u!=null&&d(e,["candidateCount"],u);const f=c(n,["enableAffectiveDialog"]);f!=null&&d(e,["enableAffectiveDialog"],f);const p=c(n,["frequencyPenalty"]);p!=null&&d(e,["frequencyPenalty"],p);const g=c(n,["logprobs"]);g!=null&&d(e,["logprobs"],g);const m=c(n,["maxOutputTokens"]);m!=null&&d(e,["maxOutputTokens"],m);const v=c(n,["mediaResolution"]);v!=null&&d(e,["mediaResolution"],v);const S=c(n,["presencePenalty"]);S!=null&&d(e,["presencePenalty"],S);const _=c(n,["responseLogprobs"]);_!=null&&d(e,["responseLogprobs"],_);const C=c(n,["responseMimeType"]);C!=null&&d(e,["responseMimeType"],C);const A=c(n,["responseModalities"]);A!=null&&d(e,["responseModalities"],A);const x=c(n,["responseSchema"]);x!=null&&d(e,["responseSchema"],x);const b=c(n,["routingConfig"]);b!=null&&d(e,["routingConfig"],b);const D=c(n,["seed"]);D!=null&&d(e,["seed"],D);const B=c(n,["speechConfig"]);B!=null&&d(e,["speechConfig"],B);const U=c(n,["stopSequences"]);U!=null&&d(e,["stopSequences"],U);const X=c(n,["temperature"]);X!=null&&d(e,["temperature"],X);const Z=c(n,["thinkingConfig"]);Z!=null&&d(e,["thinkingConfig"],Z);const W=c(n,["topK"]);W!=null&&d(e,["topK"],W);const J=c(n,["topP"]);if(J!=null&&d(e,["topP"],J),c(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function TM(n,e){const o={},l=c(e,["model"]);return l!=null&&d(o,["_url","name"],Oe(n,l)),o}function CM(n,e){const o={},l=c(e,["model"]);return l!=null&&d(o,["_url","name"],Oe(n,l)),o}function AM(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(n,["enableWidget"]);return o!=null&&d(e,["enableWidget"],o),e}function RM(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(n,["timeRangeFilter"]);return o!=null&&d(e,["timeRangeFilter"],o),e}function MM(n){const e={},o=c(n,["aspectRatio"]);o!=null&&d(e,["aspectRatio"],o);const l=c(n,["imageSize"]);if(l!=null&&d(e,["imageSize"],l),c(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function bM(n){const e={},o=c(n,["aspectRatio"]);o!=null&&d(e,["aspectRatio"],o);const l=c(n,["imageSize"]);l!=null&&d(e,["imageSize"],l);const r=c(n,["outputMimeType"]);r!=null&&d(e,["imageOutputOptions","mimeType"],r);const u=c(n,["outputCompressionQuality"]);return u!=null&&d(e,["imageOutputOptions","compressionQuality"],u),e}function xM(n){const e={},o=c(n,["bytesBase64Encoded"]);o!=null&&d(e,["imageBytes"],ho(o));const l=c(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function Qy(n){const e={},o=c(n,["gcsUri"]);o!=null&&d(e,["gcsUri"],o);const l=c(n,["bytesBase64Encoded"]);l!=null&&d(e,["imageBytes"],ho(l));const r=c(n,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function ka(n){const e={};if(c(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=c(n,["imageBytes"]);o!=null&&d(e,["bytesBase64Encoded"],ho(o));const l=c(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function ni(n){const e={},o=c(n,["gcsUri"]);o!=null&&d(e,["gcsUri"],o);const l=c(n,["imageBytes"]);l!=null&&d(e,["bytesBase64Encoded"],ho(l));const r=c(n,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function NM(n,e,o){const l={},r=c(e,["pageSize"]);o!==void 0&&r!=null&&d(o,["_query","pageSize"],r);const u=c(e,["pageToken"]);o!==void 0&&u!=null&&d(o,["_query","pageToken"],u);const f=c(e,["filter"]);o!==void 0&&f!=null&&d(o,["_query","filter"],f);const p=c(e,["queryBase"]);return o!==void 0&&p!=null&&d(o,["_url","models_url"],By(n,p)),l}function wM(n,e,o){const l={},r=c(e,["pageSize"]);o!==void 0&&r!=null&&d(o,["_query","pageSize"],r);const u=c(e,["pageToken"]);o!==void 0&&u!=null&&d(o,["_query","pageToken"],u);const f=c(e,["filter"]);o!==void 0&&f!=null&&d(o,["_query","filter"],f);const p=c(e,["queryBase"]);return o!==void 0&&p!=null&&d(o,["_url","models_url"],By(n,p)),l}function DM(n,e){const o={},l=c(e,["config"]);return l!=null&&NM(n,l,o),o}function IM(n,e){const o={},l=c(e,["config"]);return l!=null&&wM(n,l,o),o}function UM(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["nextPageToken"]);l!=null&&d(e,["nextPageToken"],l);const r=c(n,["_self"]);if(r!=null){let u=Fy(r);Array.isArray(u)&&(u=u.map(f=>Mf(f))),d(e,["models"],u)}return e}function LM(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["nextPageToken"]);l!=null&&d(e,["nextPageToken"],l);const r=c(n,["_self"]);if(r!=null){let u=Fy(r);Array.isArray(u)&&(u=u.map(f=>bf(f))),d(e,["models"],u)}return e}function kM(n){const e={},o=c(n,["maskMode"]);o!=null&&d(e,["maskMode"],o);const l=c(n,["segmentationClasses"]);l!=null&&d(e,["maskClasses"],l);const r=c(n,["maskDilation"]);return r!=null&&d(e,["dilation"],r),e}function Mf(n){const e={},o=c(n,["name"]);o!=null&&d(e,["name"],o);const l=c(n,["displayName"]);l!=null&&d(e,["displayName"],l);const r=c(n,["description"]);r!=null&&d(e,["description"],r);const u=c(n,["version"]);u!=null&&d(e,["version"],u);const f=c(n,["_self"]);f!=null&&d(e,["tunedModelInfo"],ZM(f));const p=c(n,["inputTokenLimit"]);p!=null&&d(e,["inputTokenLimit"],p);const g=c(n,["outputTokenLimit"]);g!=null&&d(e,["outputTokenLimit"],g);const m=c(n,["supportedGenerationMethods"]);m!=null&&d(e,["supportedActions"],m);const v=c(n,["temperature"]);v!=null&&d(e,["temperature"],v);const S=c(n,["maxTemperature"]);S!=null&&d(e,["maxTemperature"],S);const _=c(n,["topP"]);_!=null&&d(e,["topP"],_);const C=c(n,["topK"]);C!=null&&d(e,["topK"],C);const A=c(n,["thinking"]);return A!=null&&d(e,["thinking"],A),e}function bf(n){const e={},o=c(n,["name"]);o!=null&&d(e,["name"],o);const l=c(n,["displayName"]);l!=null&&d(e,["displayName"],l);const r=c(n,["description"]);r!=null&&d(e,["description"],r);const u=c(n,["versionId"]);u!=null&&d(e,["version"],u);const f=c(n,["deployedModels"]);if(f!=null){let S=f;Array.isArray(S)&&(S=S.map(_=>$R(_))),d(e,["endpoints"],S)}const p=c(n,["labels"]);p!=null&&d(e,["labels"],p);const g=c(n,["_self"]);g!=null&&d(e,["tunedModelInfo"],WM(g));const m=c(n,["defaultCheckpointId"]);m!=null&&d(e,["defaultCheckpointId"],m);const v=c(n,["checkpoints"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(_=>_)),d(e,["checkpoints"],S)}return e}function qM(n){const e={},o=c(n,["mediaResolution"]);o!=null&&d(e,["mediaResolution"],o);const l=c(n,["codeExecutionResult"]);l!=null&&d(e,["codeExecutionResult"],l);const r=c(n,["executableCode"]);r!=null&&d(e,["executableCode"],r);const u=c(n,["fileData"]);u!=null&&d(e,["fileData"],XR(u));const f=c(n,["functionCall"]);f!=null&&d(e,["functionCall"],QR(f));const p=c(n,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const g=c(n,["inlineData"]);g!=null&&d(e,["inlineData"],ER(g));const m=c(n,["text"]);m!=null&&d(e,["text"],m);const v=c(n,["thought"]);v!=null&&d(e,["thought"],v);const S=c(n,["thoughtSignature"]);S!=null&&d(e,["thoughtSignature"],S);const _=c(n,["videoMetadata"]);return _!=null&&d(e,["videoMetadata"],_),e}function GM(n){const e={},o=c(n,["productImage"]);return o!=null&&d(e,["image"],ni(o)),e}function HM(n,e){const o={},l=c(n,["numberOfImages"]);e!==void 0&&l!=null&&d(e,["parameters","sampleCount"],l);const r=c(n,["baseSteps"]);e!==void 0&&r!=null&&d(e,["parameters","baseSteps"],r);const u=c(n,["outputGcsUri"]);e!==void 0&&u!=null&&d(e,["parameters","storageUri"],u);const f=c(n,["seed"]);e!==void 0&&f!=null&&d(e,["parameters","seed"],f);const p=c(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&d(e,["parameters","safetySetting"],p);const g=c(n,["personGeneration"]);e!==void 0&&g!=null&&d(e,["parameters","personGeneration"],g);const m=c(n,["addWatermark"]);e!==void 0&&m!=null&&d(e,["parameters","addWatermark"],m);const v=c(n,["outputMimeType"]);e!==void 0&&v!=null&&d(e,["parameters","outputOptions","mimeType"],v);const S=c(n,["outputCompressionQuality"]);e!==void 0&&S!=null&&d(e,["parameters","outputOptions","compressionQuality"],S);const _=c(n,["enhancePrompt"]);e!==void 0&&_!=null&&d(e,["parameters","enhancePrompt"],_);const C=c(n,["labels"]);return e!==void 0&&C!=null&&d(e,["labels"],C),o}function PM(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["_url","model"],Oe(n,l));const r=c(e,["source"]);r!=null&&OM(r,o);const u=c(e,["config"]);return u!=null&&HM(u,o),o}function zM(n){const e={},o=c(n,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(r=>La(r))),d(e,["generatedImages"],l)}return e}function OM(n,e){const o={},l=c(n,["prompt"]);e!==void 0&&l!=null&&d(e,["instances[0]","prompt"],l);const r=c(n,["personImage"]);e!==void 0&&r!=null&&d(e,["instances[0]","personImage","image"],ni(r));const u=c(n,["productImages"]);if(e!==void 0&&u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>GM(p))),d(e,["instances[0]","productImages"],f)}return o}function VM(n){const e={},o=c(n,["referenceImage"]);o!=null&&d(e,["referenceImage"],ni(o));const l=c(n,["referenceId"]);l!=null&&d(e,["referenceId"],l);const r=c(n,["referenceType"]);r!=null&&d(e,["referenceType"],r);const u=c(n,["maskImageConfig"]);u!=null&&d(e,["maskImageConfig"],kM(u));const f=c(n,["controlImageConfig"]);f!=null&&d(e,["controlImageConfig"],xR(f));const p=c(n,["styleImageConfig"]);p!=null&&d(e,["styleImageConfig"],p);const g=c(n,["subjectImageConfig"]);return g!=null&&d(e,["subjectImageConfig"],g),e}function Zy(n){const e={},o=c(n,["safetyAttributes","categories"]);o!=null&&d(e,["categories"],o);const l=c(n,["safetyAttributes","scores"]);l!=null&&d(e,["scores"],l);const r=c(n,["contentType"]);return r!=null&&d(e,["contentType"],r),e}function Wy(n){const e={},o=c(n,["safetyAttributes","categories"]);o!=null&&d(e,["categories"],o);const l=c(n,["safetyAttributes","scores"]);l!=null&&d(e,["scores"],l);const r=c(n,["contentType"]);return r!=null&&d(e,["contentType"],r),e}function BM(n){const e={},o=c(n,["category"]);if(o!=null&&d(e,["category"],o),c(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=c(n,["threshold"]);return l!=null&&d(e,["threshold"],l),e}function FM(n){const e={},o=c(n,["image"]);return o!=null&&d(e,["image"],ni(o)),e}function YM(n,e){const o={},l=c(n,["mode"]);e!==void 0&&l!=null&&d(e,["parameters","mode"],l);const r=c(n,["maxPredictions"]);e!==void 0&&r!=null&&d(e,["parameters","maxPredictions"],r);const u=c(n,["confidenceThreshold"]);e!==void 0&&u!=null&&d(e,["parameters","confidenceThreshold"],u);const f=c(n,["maskDilation"]);e!==void 0&&f!=null&&d(e,["parameters","maskDilation"],f);const p=c(n,["binaryColorThreshold"]);e!==void 0&&p!=null&&d(e,["parameters","binaryColorThreshold"],p);const g=c(n,["labels"]);return e!==void 0&&g!=null&&d(e,["labels"],g),o}function JM(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["_url","model"],Oe(n,l));const r=c(e,["source"]);r!=null&&$M(r,o);const u=c(e,["config"]);return u!=null&&YM(u,o),o}function KM(n){const e={},o=c(n,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(r=>vM(r))),d(e,["generatedMasks"],l)}return e}function $M(n,e){const o={},l=c(n,["prompt"]);e!==void 0&&l!=null&&d(e,["instances[0]","prompt"],l);const r=c(n,["image"]);e!==void 0&&r!=null&&d(e,["instances[0]","image"],ni(r));const u=c(n,["scribbleImage"]);return e!==void 0&&u!=null&&d(e,["instances[0]","scribble"],FM(u)),o}function XM(n){const e={},o=c(n,["functionCallingConfig"]);o!=null&&d(e,["functionCallingConfig"],ZR(o));const l=c(n,["retrievalConfig"]);return l!=null&&d(e,["retrievalConfig"],l),e}function QM(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(S=>S)),d(e,["functionDeclarations"],v)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=c(n,["googleSearchRetrieval"]);l!=null&&d(e,["googleSearchRetrieval"],l);const r=c(n,["computerUse"]);r!=null&&d(e,["computerUse"],r);const u=c(n,["fileSearch"]);u!=null&&d(e,["fileSearch"],u);const f=c(n,["codeExecution"]);if(f!=null&&d(e,["codeExecution"],f),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=c(n,["googleMaps"]);p!=null&&d(e,["googleMaps"],AM(p));const g=c(n,["googleSearch"]);g!=null&&d(e,["googleSearch"],RM(g));const m=c(n,["urlContext"]);return m!=null&&d(e,["urlContext"],m),e}function jy(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(_=>WR(_))),d(e,["functionDeclarations"],S)}const l=c(n,["retrieval"]);l!=null&&d(e,["retrieval"],l);const r=c(n,["googleSearchRetrieval"]);r!=null&&d(e,["googleSearchRetrieval"],r);const u=c(n,["computerUse"]);if(u!=null&&d(e,["computerUse"],u),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const f=c(n,["codeExecution"]);f!=null&&d(e,["codeExecution"],f);const p=c(n,["enterpriseWebSearch"]);p!=null&&d(e,["enterpriseWebSearch"],p);const g=c(n,["googleMaps"]);g!=null&&d(e,["googleMaps"],g);const m=c(n,["googleSearch"]);m!=null&&d(e,["googleSearch"],m);const v=c(n,["urlContext"]);return v!=null&&d(e,["urlContext"],v),e}function ZM(n){const e={},o=c(n,["baseModel"]);o!=null&&d(e,["baseModel"],o);const l=c(n,["createTime"]);l!=null&&d(e,["createTime"],l);const r=c(n,["updateTime"]);return r!=null&&d(e,["updateTime"],r),e}function WM(n){const e={},o=c(n,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&d(e,["baseModel"],o);const l=c(n,["createTime"]);l!=null&&d(e,["createTime"],l);const r=c(n,["updateTime"]);return r!=null&&d(e,["updateTime"],r),e}function jM(n,e){const o={},l=c(n,["displayName"]);e!==void 0&&l!=null&&d(e,["displayName"],l);const r=c(n,["description"]);e!==void 0&&r!=null&&d(e,["description"],r);const u=c(n,["defaultCheckpointId"]);return e!==void 0&&u!=null&&d(e,["defaultCheckpointId"],u),o}function eb(n,e){const o={},l=c(n,["displayName"]);e!==void 0&&l!=null&&d(e,["displayName"],l);const r=c(n,["description"]);e!==void 0&&r!=null&&d(e,["description"],r);const u=c(n,["defaultCheckpointId"]);return e!==void 0&&u!=null&&d(e,["defaultCheckpointId"],u),o}function tb(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["_url","name"],Oe(n,l));const r=c(e,["config"]);return r!=null&&jM(r,o),o}function nb(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["_url","model"],Oe(n,l));const r=c(e,["config"]);return r!=null&&eb(r,o),o}function ib(n,e){const o={},l=c(n,["outputGcsUri"]);e!==void 0&&l!=null&&d(e,["parameters","storageUri"],l);const r=c(n,["safetyFilterLevel"]);e!==void 0&&r!=null&&d(e,["parameters","safetySetting"],r);const u=c(n,["personGeneration"]);e!==void 0&&u!=null&&d(e,["parameters","personGeneration"],u);const f=c(n,["includeRaiReason"]);e!==void 0&&f!=null&&d(e,["parameters","includeRaiReason"],f);const p=c(n,["outputMimeType"]);e!==void 0&&p!=null&&d(e,["parameters","outputOptions","mimeType"],p);const g=c(n,["outputCompressionQuality"]);e!==void 0&&g!=null&&d(e,["parameters","outputOptions","compressionQuality"],g);const m=c(n,["enhanceInputImage"]);e!==void 0&&m!=null&&d(e,["parameters","upscaleConfig","enhanceInputImage"],m);const v=c(n,["imagePreservationFactor"]);e!==void 0&&v!=null&&d(e,["parameters","upscaleConfig","imagePreservationFactor"],v);const S=c(n,["labels"]);e!==void 0&&S!=null&&d(e,["labels"],S);const _=c(n,["numberOfImages"]);e!==void 0&&_!=null&&d(e,["parameters","sampleCount"],_);const C=c(n,["mode"]);return e!==void 0&&C!=null&&d(e,["parameters","mode"],C),o}function ob(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["_url","model"],Oe(n,l));const r=c(e,["image"]);r!=null&&d(o,["instances[0]","image"],ni(r));const u=c(e,["upscaleFactor"]);u!=null&&d(o,["parameters","upscaleConfig","upscaleFactor"],u);const f=c(e,["config"]);return f!=null&&ib(f,o),o}function lb(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["predictions"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(u=>La(u))),d(e,["generatedImages"],r)}return e}function sb(n){const e={},o=c(n,["uri"]);o!=null&&d(e,["uri"],o);const l=c(n,["encodedVideo"]);l!=null&&d(e,["videoBytes"],ho(l));const r=c(n,["encoding"]);return r!=null&&d(e,["mimeType"],r),e}function rb(n){const e={},o=c(n,["gcsUri"]);o!=null&&d(e,["uri"],o);const l=c(n,["bytesBase64Encoded"]);l!=null&&d(e,["videoBytes"],ho(l));const r=c(n,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function ab(n){const e={},o=c(n,["image"]);o!=null&&d(e,["_self"],ni(o));const l=c(n,["maskMode"]);return l!=null&&d(e,["maskMode"],l),e}function ub(n){const e={},o=c(n,["image"]);o!=null&&d(e,["image"],ka(o));const l=c(n,["referenceType"]);return l!=null&&d(e,["referenceType"],l),e}function cb(n){const e={},o=c(n,["image"]);o!=null&&d(e,["image"],ni(o));const l=c(n,["referenceType"]);return l!=null&&d(e,["referenceType"],l),e}function ev(n){const e={},o=c(n,["uri"]);o!=null&&d(e,["uri"],o);const l=c(n,["videoBytes"]);l!=null&&d(e,["encodedVideo"],ho(l));const r=c(n,["mimeType"]);return r!=null&&d(e,["encoding"],r),e}function tv(n){const e={},o=c(n,["uri"]);o!=null&&d(e,["gcsUri"],o);const l=c(n,["videoBytes"]);l!=null&&d(e,["bytesBase64Encoded"],ho(l));const r=c(n,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fb(n,e){const o={},l=c(n,["displayName"]);return e!==void 0&&l!=null&&d(e,["displayName"],l),o}function db(n){const e={},o=c(n,["config"]);return o!=null&&fb(o,e),e}function hb(n,e){const o={},l=c(n,["force"]);return e!==void 0&&l!=null&&d(e,["_query","force"],l),o}function pb(n){const e={},o=c(n,["name"]);o!=null&&d(e,["_url","name"],o);const l=c(n,["config"]);return l!=null&&hb(l,e),e}function mb(n){const e={},o=c(n,["name"]);return o!=null&&d(e,["_url","name"],o),e}function gb(n,e){const o={},l=c(n,["customMetadata"]);if(e!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["customMetadata"],u)}const r=c(n,["chunkingConfig"]);return e!==void 0&&r!=null&&d(e,["chunkingConfig"],r),o}function yb(n){const e={},o=c(n,["name"]);o!=null&&d(e,["name"],o);const l=c(n,["metadata"]);l!=null&&d(e,["metadata"],l);const r=c(n,["done"]);r!=null&&d(e,["done"],r);const u=c(n,["error"]);u!=null&&d(e,["error"],u);const f=c(n,["response"]);return f!=null&&d(e,["response"],Sb(f)),e}function vb(n){const e={},o=c(n,["fileSearchStoreName"]);o!=null&&d(e,["_url","file_search_store_name"],o);const l=c(n,["fileName"]);l!=null&&d(e,["fileName"],l);const r=c(n,["config"]);return r!=null&&gb(r,e),e}function Sb(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["parent"]);l!=null&&d(e,["parent"],l);const r=c(n,["documentName"]);return r!=null&&d(e,["documentName"],r),e}function _b(n,e){const o={},l=c(n,["pageSize"]);e!==void 0&&l!=null&&d(e,["_query","pageSize"],l);const r=c(n,["pageToken"]);return e!==void 0&&r!=null&&d(e,["_query","pageToken"],r),o}function Eb(n){const e={},o=c(n,["config"]);return o!=null&&_b(o,e),e}function Tb(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["nextPageToken"]);l!=null&&d(e,["nextPageToken"],l);const r=c(n,["fileSearchStores"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["fileSearchStores"],u)}return e}function nv(n,e){const o={},l=c(n,["mimeType"]);e!==void 0&&l!=null&&d(e,["mimeType"],l);const r=c(n,["displayName"]);e!==void 0&&r!=null&&d(e,["displayName"],r);const u=c(n,["customMetadata"]);if(e!==void 0&&u!=null){let p=u;Array.isArray(p)&&(p=p.map(g=>g)),d(e,["customMetadata"],p)}const f=c(n,["chunkingConfig"]);return e!==void 0&&f!=null&&d(e,["chunkingConfig"],f),o}function Cb(n){const e={},o=c(n,["fileSearchStoreName"]);o!=null&&d(e,["_url","file_search_store_name"],o);const l=c(n,["config"]);return l!=null&&nv(l,e),e}function Ab(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rb="Content-Type",Mb="X-Server-Timeout",bb="User-Agent",xf="x-goog-api-client",xb="1.34.0",Nb=`google-genai-sdk/${xb}`,wb="v1beta1",Db="v1beta";class Ib{constructor(e){var o,l;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:wb,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:Db,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const l=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&l.push(e.apiVersion),l.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),o=new URL(e);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,o,l){const r=[this.getRequestUrlInternal(o)];return l&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,o,l);if(e.queryParams)for(const[f,p]of Object.entries(e.queryParams))r.searchParams.append(f,String(p));let u={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=e.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,o,r.toString(),e.abortSignal),this.unaryApiCall(r,u,e.httpMethod)}patchHttpOptions(e,o){const l=JSON.parse(JSON.stringify(e));for(const[r,u]of Object.entries(o))typeof u=="object"?l[r]=Object.assign(Object.assign({},l[r]),u):u!==void 0&&(l[r]=u);return l}async requestStream(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,o,l);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let u={};return u.body=e.body,u=await this.includeExtraHttpOptionsToRequestInit(u,o,r.toString(),e.abortSignal),this.streamApiCall(r,u,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,o,l,r){if(o&&o.timeout||r){const u=new AbortController,f=u.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const p=setTimeout(()=>u.abort(),o.timeout);p&&typeof p.unref=="function"&&p.unref()}r&&r.addEventListener("abort",()=>{u.abort()}),e.signal=f}return o&&o.extraBody!==null&&Ub(e,o.extraBody),e.headers=await this.getHeadersInternal(o,l),e}async unaryApiCall(e,o,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:l})).then(async r=>(await G0(r),new Cf(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,o,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:l})).then(async r=>(await G0(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){return jn(this,arguments,function*(){var l;const r=(l=e==null?void 0:e.body)===null||l===void 0?void 0:l.getReader(),u=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let f="";const p="data:",g=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:m,value:v}=yield Ce(r.read());if(m){if(f.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const S=u.decode(v,{stream:!0});try{const A=JSON.parse(S);if("error"in A){const x=JSON.parse(JSON.stringify(A.error)),b=x.status,D=x.code,B=`got status: ${b}. ${JSON.stringify(A)}`;if(D>=400&&D<600)throw new Ia({message:B,status:D})}}catch(A){if(A.name==="ApiError")throw A}f+=S;let _=-1,C=0;for(;;){_=-1,C=0;for(const b of g){const D=f.indexOf(b);D!==-1&&(_===-1||D<_)&&(_=D,C=b.length)}if(_===-1)break;const A=f.substring(0,_);f=f.substring(_+C);const x=A.trim();if(x.startsWith(p)){const b=x.substring(p.length).trim();try{const D=new Response(b,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ce(new Cf(D))}catch(D){throw new Error(`exception parsing stream chunk ${b}. ${D}`)}}}}}finally{r.releaseLock()}})}async apiCall(e,o){return fetch(e,o).catch(l=>{throw new Error(`exception ${l} sending request`)})}getDefaultHeaders(){const e={},o=Nb+" "+this.clientOptions.userAgentExtra;return e[bb]=o,e[xf]=o,e[Rb]="application/json",e}async getHeadersInternal(e,o){const l=new Headers;if(e&&e.headers){for(const[r,u]of Object.entries(e.headers))l.append(r,u);e.timeout&&e.timeout>0&&l.append(Mb,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(l,o),l}getFileName(e){var o;let l="";return typeof e=="string"&&(l=e.replace(/[/\\]+$/,""),l=(o=l.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),l}async uploadFile(e,o){var l;const r={};o!=null&&(r.mimeType=o.mimeType,r.name=o.name,r.displayName=o.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const u=this.clientOptions.uploader,f=await u.stat(e);r.sizeBytes=String(f.size);const p=(l=o==null?void 0:o.mimeType)!==null&&l!==void 0?l:f.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=p;const g={file:r},m=this.getFileName(e),v=se("upload/v1beta/files",g._url),S=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,m,g,o==null?void 0:o.httpOptions);return u.upload(e,S,this)}async uploadFileToFileSearchStore(e,o,l){var r;const u=this.clientOptions.uploader,f=await u.stat(o),p=String(f.size),g=(r=l==null?void 0:l.mimeType)!==null&&r!==void 0?r:f.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${e}:uploadToFileSearchStore`,v=this.getFileName(o),S={};l!=null&&nv(l,S);const _=await this.fetchUploadUrl(m,p,g,v,S,l==null?void 0:l.httpOptions);return u.uploadToFileSearchStore(o,_,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,o,l,r,u,f){var p;let g={};f?g=f:g={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${l}`},r?{"X-Goog-Upload-File-Name":r}:{})};const m=await this.request({path:e,body:JSON.stringify(u),httpMethod:"POST",httpOptions:g});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(p=m==null?void 0:m.headers)===null||p===void 0?void 0:p["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function G0(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const o=n.status;let l;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?l=await n.json():l={error:{message:await n.text(),code:n.status,status:n.statusText}};const r=JSON.stringify(l);throw o>=400&&o<600?new Ia({message:r,status:o}):new Error(r)}}function Ub(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof n.body=="string"&&n.body.length>0)try{const u=JSON.parse(n.body);if(typeof u=="object"&&u!==null&&!Array.isArray(u))o=u;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function l(u,f){const p=Object.assign({},u);for(const g in f)if(Object.prototype.hasOwnProperty.call(f,g)){const m=f[g],v=p[g];m&&typeof m=="object"&&!Array.isArray(m)&&v&&typeof v=="object"&&!Array.isArray(v)?p[g]=l(v,m):(v&&m&&typeof v!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${g}". Original type: ${typeof v}, New type: ${typeof m}. Overwriting.`),p[g]=m)}return p}const r=l(o,e);n.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lb="mcp_used/unknown";let kb=!1;function iv(n){for(const e of n)if(qb(e)||typeof e=="object"&&"inputSchema"in e)return!0;return kb}function ov(n){var e;const o=(e=n[xf])!==null&&e!==void 0?e:"";n[xf]=(o+` ${Lb}`).trimStart()}function qb(n){return n!==null&&typeof n=="object"&&n instanceof jf}function Gb(n){return jn(this,arguments,function*(o,l=100){let r,u=0;for(;u<l;){const f=yield Ce(o.listTools({cursor:r}));for(const p of f.tools)yield yield Ce(p),u++;if(!f.nextCursor)break;r=f.nextCursor}})}class jf{constructor(e=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=o}static create(e,o){return new jf(e,o)}async initialize(){var e,o,l,r;if(this.mcpTools.length>0)return;const u={},f=[];for(const v of this.mcpClients)try{for(var p=!0,g=(o=void 0,ei(Gb(v))),m;m=await g.next(),e=m.done,!e;p=!0){r=m.value,p=!1;const S=r;f.push(S);const _=S.name;if(u[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);u[_]=v}}catch(S){o={error:S}}finally{try{!p&&!e&&(l=g.return)&&await l.call(g)}finally{if(o)throw o.error}}this.mcpTools=f,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),m1(this.mcpTools,this.config)}async callTool(e){await this.initialize();const o=[];for(const l of e)if(l.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[l.name];let u;this.config.timeout&&(u={timeout:this.config.timeout});const f=await r.callTool({name:l.name,arguments:l.args},void 0,u);o.push({functionResponse:{name:l.name,response:f.isError?{error:f}:f}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Hb(n,e,o){const l=new r1;let r;o.data instanceof Blob?r=JSON.parse(await o.data.text()):r=JSON.parse(o.data),Object.assign(l,r),e(l)}class Pb{constructor(e,o,l){this.apiClient=e,this.auth=o,this.webSocketFactory=l}async connect(e){var o,l;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),f=Vb(this.apiClient.getDefaultHeaders()),p=this.apiClient.getApiKey(),g=`${r}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${p}`;let m=()=>{};const v=new Promise(U=>{m=U}),S=e.callbacks,_=function(){m({})},C=this.apiClient,A={onopen:_,onmessage:U=>{Hb(C,S.onmessage,U)},onerror:(o=S==null?void 0:S.onerror)!==null&&o!==void 0?o:function(U){},onclose:(l=S==null?void 0:S.onclose)!==null&&l!==void 0?l:function(U){}},x=this.webSocketFactory.create(g,Ob(f),A);x.connect(),await v;const B={setup:{model:Oe(this.apiClient,e.model)}};return x.send(JSON.stringify(B)),new zb(x,this.apiClient)}}class zb{constructor(e,o){this.conn=e,this.apiClient=o}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=dR(e);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const o=fR(e);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const o={playbackControl:e};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(vl.PLAY)}pause(){this.sendPlaybackControl(vl.PAUSE)}stop(){this.sendPlaybackControl(vl.STOP)}resetContext(){this.sendPlaybackControl(vl.RESET_CONTEXT)}close(){this.conn.close()}}function Ob(n){const e={};return n.forEach((o,l)=>{e[l]=o}),e}function Vb(n){const e=new Headers;for(const[o,l]of Object.entries(n))e.append(o,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bb="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Fb(n,e,o){const l=new s1;let r;o.data instanceof Blob?r=await o.data.text():o.data instanceof ArrayBuffer?r=new TextDecoder().decode(o.data):r=o.data;const u=JSON.parse(r);if(n.isVertexAI()){const f=mR(u);Object.assign(l,f)}else Object.assign(l,u);e(l)}class Yb{constructor(e,o,l){this.apiClient=e,this.auth=o,this.webSocketFactory=l,this.music=new Pb(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var o,l,r,u,f,p;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const g=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let v;const S=this.apiClient.getHeaders();e.config&&e.config.tools&&iv(e.config.tools)&&ov(S);const _=Xb(S);if(this.apiClient.isVertexAI())v=`${g}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_,v);else{const ee=this.apiClient.getApiKey();let oe="BidiGenerateContent",re="key";ee!=null&&ee.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),oe="BidiGenerateContentConstrained",re="access_token"),v=`${g}/ws/google.ai.generativelanguage.${m}.GenerativeService.${oe}?${re}=${ee}`}let C=()=>{};const A=new Promise(ee=>{C=ee}),x=e.callbacks,b=function(){var ee;(ee=x==null?void 0:x.onopen)===null||ee===void 0||ee.call(x),C({})},D=this.apiClient,B={onopen:b,onmessage:ee=>{Fb(D,x.onmessage,ee)},onerror:(o=x==null?void 0:x.onerror)!==null&&o!==void 0?o:function(ee){},onclose:(l=x==null?void 0:x.onclose)!==null&&l!==void 0?l:function(ee){}},U=this.webSocketFactory.create(v,$b(_),B);U.connect(),await A;let X=Oe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&X.startsWith("publishers/")){const ee=this.apiClient.getProject(),oe=this.apiClient.getLocation();X=`projects/${ee}/locations/${oe}/`+X}let Z={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[_a.AUDIO]}:e.config.responseModalities=[_a.AUDIO]),!((u=e.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const W=(p=(f=e.config)===null||f===void 0?void 0:f.tools)!==null&&p!==void 0?p:[],J=[];for(const ee of W)if(this.isCallableTool(ee)){const oe=ee;J.push(await oe.tool())}else J.push(ee);J.length>0&&(e.config.tools=J);const j={model:X,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?Z=cR(this.apiClient,j):Z=uR(this.apiClient,j),delete Z.config,U.send(JSON.stringify(Z)),new Kb(U,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Jb={turnComplete:!0};class Kb{constructor(e,o){this.conn=e,this.apiClient=o}tLiveClientContent(e,o){if(o.turns!==null&&o.turns!==void 0){let l=[];try{l=Vn(o.turns),e.isVertexAI()||(l=l.map(r=>Ua(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:l,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(e,o){let l=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?l=o.functionResponses:l=[o.functionResponses],l.length===0)throw new Error("functionResponses is required.");for(const u of l){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!e.isVertexAI()&&!("id"in u))throw new Error(Bb)}return{toolResponse:{functionResponses:l}}}sendClientContent(e){e=Object.assign(Object.assign({},Jb),e);const o=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(o))}sendRealtimeInput(e){let o={};this.apiClient.isVertexAI()?o={realtimeInput:pR(e)}:o={realtimeInput:hR(e)},this.conn.send(JSON.stringify(o))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function $b(n){const e={};return n.forEach((o,l)=>{e[l]=o}),e}function Xb(n){const e=new Headers;for(const[o,l]of Object.entries(n))e.append(o,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const H0=10;function P0(n){var e,o,l;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const f of(o=n==null?void 0:n.tools)!==null&&o!==void 0?o:[])if(Tl(f)){r=!0;break}if(!r)return!0;const u=(l=n==null?void 0:n.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function Tl(n){return"callTool"in n&&typeof n.callTool=="function"}function Qb(n){var e,o,l;return(l=(o=(e=n.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(r=>Tl(r)))!==null&&l!==void 0?l:!1}function z0(n){var e;const o=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((l,r)=>{if(Tl(l))return;const u=l;u.functionDeclarations&&u.functionDeclarations.length>0&&o.push(r)}),o}function O0(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zb extends Di{constructor(e){super(),this.apiClient=e,this.generateContent=async o=>{var l,r,u,f,p;const g=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!Qb(o)||P0(o.config))return await this.generateContentInternal(g);const m=z0(o);if(m.length>0){const x=m.map(b=>`tools[${b}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${x}.`)}let v,S;const _=Vn(g.contents),C=(u=(r=(l=g.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&u!==void 0?u:H0;let A=0;for(;A<C&&(v=await this.generateContentInternal(g),!(!v.functionCalls||v.functionCalls.length===0));){const x=v.candidates[0].content,b=[];for(const D of(p=(f=o.config)===null||f===void 0?void 0:f.tools)!==null&&p!==void 0?p:[])if(Tl(D)){const U=await D.callTool(v.functionCalls);b.push(...U)}A++,S={role:"user",parts:b},g.contents=Vn(g.contents),g.contents.push(x),g.contents.push(S),O0(g.config)&&(_.push(x),_.push(S))}return O0(g.config)&&(v.automaticFunctionCallingHistory=_),v},this.generateContentStream=async o=>{var l,r,u,f,p;if(this.maybeMoveToResponseJsonSchem(o),P0(o.config)){const S=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(S)}const g=z0(o);if(g.length>0){const S=g.map(_=>`tools[${_}]`).join(", ");throw new Error(`Incompatible tools found at ${S}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(u=(r=(l=o==null?void 0:o.config)===null||l===void 0?void 0:l.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||u===void 0?void 0:u.streamFunctionCallArguments,v=(p=(f=o==null?void 0:o.config)===null||f===void 0?void 0:f.automaticFunctionCalling)===null||p===void 0?void 0:p.disable;if(m&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(l=>{var r;let u;const f=[];if(l!=null&&l.generatedImages)for(const g of l.generatedImages)g&&(g!=null&&g.safetyAttributes)&&((r=g==null?void 0:g.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?u=g==null?void 0:g.safetyAttributes:f.push(g);let p;return u?p={generatedImages:f,positivePromptSafetyAttributes:u,sdkHttpResponse:l.sdkHttpResponse}:p={generatedImages:f,sdkHttpResponse:l.sdkHttpResponse},p}),this.list=async o=>{var l;const f={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!f.config.queryBase){if(!((l=f.config)===null||l===void 0)&&l.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");f.config.filter="labels.tune-type:*"}return new Go(Ni.PAGED_ITEM_MODELS,p=>this.listInternal(p),await this.listInternal(f),f)},this.editImage=async o=>{const l={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(l.referenceImages=o.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(l)},this.upscaleImage=async o=>{let l={numberOfImages:1,mode:"upscale"};o.config&&(l=Object.assign(Object.assign({},l),o.config));const r={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:l};return await this.upscaleImageInternal(r)},this.generateVideos=async o=>{var l,r,u,f,p,g;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((l=o.video)===null||l===void 0)&&l.uri&&(!((r=o.video)===null||r===void 0)&&r.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((f=(u=o.source)===null||u===void 0?void 0:u.video)===null||f===void 0)&&f.uri&&(!((g=(p=o.source)===null||p===void 0?void 0:p.video)===null||g===void 0)&&g.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var o,l,r;const u=(o=e.config)===null||o===void 0?void 0:o.tools;if(!u)return e;const f=await Promise.all(u.map(async g=>Tl(g)?await g.tool():g)),p={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:f})};if(p.config.tools=f,e.config&&e.config.tools&&iv(e.config.tools)){const g=(r=(l=e.config.httpOptions)===null||l===void 0?void 0:l.headers)!==null&&r!==void 0?r:{};let m=Object.assign({},g);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),ov(m),p.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return p}async initAfcToolsMap(e){var o,l,r;const u=new Map;for(const f of(l=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[])if(Tl(f)){const p=f,g=await p.tool();for(const m of(r=g.functionDeclarations)!==null&&r!==void 0?r:[]){if(!m.name)throw new Error("Function declaration name is required.");if(u.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);u.set(m.name,p)}}return u}async processAfcStream(e){var o,l,r;const u=(r=(l=(o=e.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&r!==void 0?r:H0;let f=!1,p=0;const g=await this.initAfcToolsMap(e);return(function(m,v,S){return jn(this,arguments,function*(){for(var _,C,A,x,b,D;p<u;){f&&(p++,f=!1);const Z=yield Ce(m.processParamsMaybeAddMcpUsage(S)),W=yield Ce(m.generateContentStreamInternal(Z)),J=[],j=[];try{for(var B=!0,U=(C=void 0,ei(W)),X;X=yield Ce(U.next()),_=X.done,!_;B=!0){x=X.value,B=!1;const ee=x;if(yield yield Ce(ee),ee.candidates&&(!((b=ee.candidates[0])===null||b===void 0)&&b.content)){j.push(ee.candidates[0].content);for(const oe of(D=ee.candidates[0].content.parts)!==null&&D!==void 0?D:[])if(p<u&&oe.functionCall){if(!oe.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(oe.functionCall.name)){const re=yield Ce(v.get(oe.functionCall.name).callTool([oe.functionCall]));J.push(...re)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${oe.functionCall.name}`)}}}}catch(ee){C={error:ee}}finally{try{!B&&!_&&(A=U.return)&&(yield Ce(A.call(U)))}finally{if(C)throw C.error}}if(J.length>0){f=!0;const ee=new Rs;ee.candidates=[{content:{role:"user",parts:J}}],yield yield Ce(ee);const oe=[];oe.push(...j),oe.push({role:"user",parts:J});const re=Vn(S.contents).concat(oe);S.contents=re}else break}})})(this,g,e)}async generateContentInternal(e){var o,l,r,u;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=L0(this.apiClient,e);return p=se("{model}:generateContent",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const S=q0(v),_=new Rs;return Object.assign(_,S),_})}else{const m=U0(this.apiClient,e);return p=se("{model}:generateContent",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const S=k0(v),_=new Rs;return Object.assign(_,S),_})}}async generateContentStreamInternal(e){var o,l,r,u;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=L0(this.apiClient,e);return p=se("{model}:streamGenerateContent?alt=sse",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.requestStream({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),f.then(function(S){return jn(this,arguments,function*(){var _,C,A,x;try{for(var b=!0,D=ei(S),B;B=yield Ce(D.next()),_=B.done,!_;b=!0){x=B.value,b=!1;const U=x,X=q0(yield Ce(U.json()));X.sdkHttpResponse={headers:U.headers};const Z=new Rs;Object.assign(Z,X),yield yield Ce(Z)}}catch(U){C={error:U}}finally{try{!b&&!_&&(A=D.return)&&(yield Ce(A.call(D)))}finally{if(C)throw C.error}}})})}else{const m=U0(this.apiClient,e);return p=se("{model}:streamGenerateContent?alt=sse",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.requestStream({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}),f.then(function(S){return jn(this,arguments,function*(){var _,C,A,x;try{for(var b=!0,D=ei(S),B;B=yield Ce(D.next()),_=B.done,!_;b=!0){x=B.value,b=!1;const U=x,X=k0(yield Ce(U.json()));X.sdkHttpResponse={headers:U.headers};const Z=new Rs;Object.assign(Z,X),yield yield Ce(Z)}}catch(U){C={error:U}}finally{try{!b&&!_&&(A=D.return)&&(yield Ce(A.call(D)))}finally{if(C)throw C.error}}})})}}async embedContent(e){var o,l,r,u;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=YR(this.apiClient,e);return p=se("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const S=KR(v),_=new g0;return Object.assign(_,S),_})}else{const m=FR(this.apiClient,e);return p=se("{model}:batchEmbedContents",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const S=JR(v),_=new g0;return Object.assign(_,S),_})}}async generateImagesInternal(e){var o,l,r,u;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=oM(this.apiClient,e);return p=se("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const S=sM(v),_=new y0;return Object.assign(_,S),_})}else{const m=iM(this.apiClient,e);return p=se("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const S=lM(v),_=new y0;return Object.assign(_,S),_})}}async editImageInternal(e){var o,l;let r,u="",f={};if(this.apiClient.isVertexAI()){const p=zR(this.apiClient,e);return u=se("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>{const m=OR(g),v=new XC;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var o,l;let r,u="",f={};if(this.apiClient.isVertexAI()){const p=ob(this.apiClient,e);return u=se("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>{const m=lb(g),v=new QC;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var o,l;let r,u="",f={};if(this.apiClient.isVertexAI()){const p=PM(this.apiClient,e);return u=se("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),r.then(g=>{const m=zM(g),v=new ZC;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var o,l;let r,u="",f={};if(this.apiClient.isVertexAI()){const p=JM(this.apiClient,e);return u=se("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),r.then(g=>{const m=KM(g),v=new WC;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var o,l,r,u;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=CM(this.apiClient,e);return p=se("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>bf(v))}else{const m=TM(this.apiClient,e);return p=se("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>Mf(v))}}async listInternal(e){var o,l,r,u;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=IM(this.apiClient,e);return p=se("{models_url}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const S=LM(v),_=new v0;return Object.assign(_,S),_})}else{const m=DM(this.apiClient,e);return p=se("{models_url}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const S=UM(v),_=new v0;return Object.assign(_,S),_})}}async update(e){var o,l,r,u;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=nb(this.apiClient,e);return p=se("{model}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>bf(v))}else{const m=tb(this.apiClient,e);return p=se("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>Mf(v))}}async delete(e){var o,l,r,u;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=qR(this.apiClient,e);return p=se("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const S=HR(v),_=new S0;return Object.assign(_,S),_})}else{const m=kR(this.apiClient,e);return p=se("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const S=GR(v),_=new S0;return Object.assign(_,S),_})}}async countTokens(e){var o,l,r,u;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=IR(this.apiClient,e);return p=se("{model}:countTokens",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const S=LR(v),_=new _0;return Object.assign(_,S),_})}else{const m=DR(this.apiClient,e);return p=se("{model}:countTokens",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const S=UR(v),_=new _0;return Object.assign(_,S),_})}}async computeTokens(e){var o,l;let r,u="",f={};if(this.apiClient.isVertexAI()){const p=AR(this.apiClient,e);return u=se("{model}:computeTokens",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>{const m=RR(g),v=new jC;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var o,l,r,u;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=dM(this.apiClient,e);return p=se("{model}:predictLongRunning",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>{const S=cM(v),_=new Ea;return Object.assign(_,S),_})}else{const m=fM(this.apiClient,e);return p=se("{model}:predictLongRunning",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>{const S=uM(v),_=new Ea;return Object.assign(_,S),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wb extends Di{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const o=e.operation,l=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let u;l&&"httpOptions"in l&&(u=l.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:u}});return o._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:l});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const o=e.operation,l=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let u;l&&"httpOptions"in l&&(u=l.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:u}});return o._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:l});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var o,l,r,u;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=BC(e);return p=se("{operationName}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f}else{const m=VC(e);return p=se("{operationName}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f}}async fetchPredictVideosOperationInternal(e){var o,l;let r,u="",f={};if(this.apiClient.isVertexAI()){const p=kC(e);return u=se("{resourceName}:fetchPredictOperation",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jb(n){const e={},o=c(n,["data"]);if(o!=null&&d(e,["data"],o),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function ex(n){const e={},o=c(n,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>ux(u))),d(e,["parts"],r)}const l=c(n,["role"]);return l!=null&&d(e,["role"],l),e}function tx(n,e,o){const l={},r=c(e,["expireTime"]);o!==void 0&&r!=null&&d(o,["expireTime"],r);const u=c(e,["newSessionExpireTime"]);o!==void 0&&u!=null&&d(o,["newSessionExpireTime"],u);const f=c(e,["uses"]);o!==void 0&&f!=null&&d(o,["uses"],f);const p=c(e,["liveConnectConstraints"]);o!==void 0&&p!=null&&d(o,["bidiGenerateContentSetup"],ax(n,p));const g=c(e,["lockAdditionalFields"]);return o!==void 0&&g!=null&&d(o,["fieldMask"],g),l}function nx(n,e){const o={},l=c(e,["config"]);return l!=null&&d(o,["config"],tx(n,l,o)),o}function ix(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["fileUri"]);o!=null&&d(e,["fileUri"],o);const l=c(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function ox(n){const e={},o=c(n,["id"]);o!=null&&d(e,["id"],o);const l=c(n,["args"]);l!=null&&d(e,["args"],l);const r=c(n,["name"]);if(r!=null&&d(e,["name"],r),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function lx(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(n,["enableWidget"]);return o!=null&&d(e,["enableWidget"],o),e}function sx(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(n,["timeRangeFilter"]);return o!=null&&d(e,["timeRangeFilter"],o),e}function rx(n,e){const o={},l=c(n,["generationConfig"]);e!==void 0&&l!=null&&d(e,["setup","generationConfig"],l);const r=c(n,["responseModalities"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig","responseModalities"],r);const u=c(n,["temperature"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","temperature"],u);const f=c(n,["topP"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","topP"],f);const p=c(n,["topK"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","topK"],p);const g=c(n,["maxOutputTokens"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","maxOutputTokens"],g);const m=c(n,["mediaResolution"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","mediaResolution"],m);const v=c(n,["seed"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","seed"],v);const S=c(n,["speechConfig"]);e!==void 0&&S!=null&&d(e,["setup","generationConfig","speechConfig"],Wf(S));const _=c(n,["thinkingConfig"]);e!==void 0&&_!=null&&d(e,["setup","generationConfig","thinkingConfig"],_);const C=c(n,["enableAffectiveDialog"]);e!==void 0&&C!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],C);const A=c(n,["systemInstruction"]);e!==void 0&&A!=null&&d(e,["setup","systemInstruction"],ex(tn(A)));const x=c(n,["tools"]);if(e!==void 0&&x!=null){let W=xl(x);Array.isArray(W)&&(W=W.map(J=>fx(bl(J)))),d(e,["setup","tools"],W)}const b=c(n,["sessionResumption"]);e!==void 0&&b!=null&&d(e,["setup","sessionResumption"],cx(b));const D=c(n,["inputAudioTranscription"]);e!==void 0&&D!=null&&d(e,["setup","inputAudioTranscription"],D);const B=c(n,["outputAudioTranscription"]);e!==void 0&&B!=null&&d(e,["setup","outputAudioTranscription"],B);const U=c(n,["realtimeInputConfig"]);e!==void 0&&U!=null&&d(e,["setup","realtimeInputConfig"],U);const X=c(n,["contextWindowCompression"]);e!==void 0&&X!=null&&d(e,["setup","contextWindowCompression"],X);const Z=c(n,["proactivity"]);if(e!==void 0&&Z!=null&&d(e,["setup","proactivity"],Z),c(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function ax(n,e){const o={},l=c(e,["model"]);l!=null&&d(o,["setup","model"],Oe(n,l));const r=c(e,["config"]);return r!=null&&d(o,["config"],rx(r,o)),o}function ux(n){const e={},o=c(n,["mediaResolution"]);o!=null&&d(e,["mediaResolution"],o);const l=c(n,["codeExecutionResult"]);l!=null&&d(e,["codeExecutionResult"],l);const r=c(n,["executableCode"]);r!=null&&d(e,["executableCode"],r);const u=c(n,["fileData"]);u!=null&&d(e,["fileData"],ix(u));const f=c(n,["functionCall"]);f!=null&&d(e,["functionCall"],ox(f));const p=c(n,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const g=c(n,["inlineData"]);g!=null&&d(e,["inlineData"],jb(g));const m=c(n,["text"]);m!=null&&d(e,["text"],m);const v=c(n,["thought"]);v!=null&&d(e,["thought"],v);const S=c(n,["thoughtSignature"]);S!=null&&d(e,["thoughtSignature"],S);const _=c(n,["videoMetadata"]);return _!=null&&d(e,["videoMetadata"],_),e}function cx(n){const e={},o=c(n,["handle"]);if(o!=null&&d(e,["handle"],o),c(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function fx(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(S=>S)),d(e,["functionDeclarations"],v)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=c(n,["googleSearchRetrieval"]);l!=null&&d(e,["googleSearchRetrieval"],l);const r=c(n,["computerUse"]);r!=null&&d(e,["computerUse"],r);const u=c(n,["fileSearch"]);u!=null&&d(e,["fileSearch"],u);const f=c(n,["codeExecution"]);if(f!=null&&d(e,["codeExecution"],f),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=c(n,["googleMaps"]);p!=null&&d(e,["googleMaps"],lx(p));const g=c(n,["googleSearch"]);g!=null&&d(e,["googleSearch"],sx(g));const m=c(n,["urlContext"]);return m!=null&&d(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dx(n){const e=[];for(const o in n)if(Object.prototype.hasOwnProperty.call(n,o)){const l=n[o];if(typeof l=="object"&&l!=null&&Object.keys(l).length>0){const r=Object.keys(l).map(u=>`${o}.${u}`);e.push(...r)}else e.push(o)}return e.join(",")}function hx(n,e){let o=null;const l=n.bidiGenerateContentSetup;if(typeof l=="object"&&l!==null&&"setup"in l){const u=l.setup;typeof u=="object"&&u!==null?(n.bidiGenerateContentSetup=u,o=u):delete n.bidiGenerateContentSetup}else l!==void 0&&delete n.bidiGenerateContentSetup;const r=n.fieldMask;if(o){const u=dx(o);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)u?n.fieldMask=u:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const f=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let p=[];r.length>0&&(p=r.map(m=>f.includes(m)?`generationConfig.${m}`:m));const g=[];u&&g.push(u),p.length>0&&g.push(...p),g.length>0?n.fieldMask=g.join(","):delete n.fieldMask}else delete n.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?n.fieldMask=r.join(","):delete n.fieldMask;return n}class px extends Di{constructor(e){super(),this.apiClient=e}async create(e){var o,l;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const p=nx(this.apiClient,e);u=se("auth_tokens",p._url),f=p._query,delete p.config,delete p._url,delete p._query;const g=hx(p,e.config);return r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),r.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mx(n,e){const o={},l=c(n,["force"]);return e!==void 0&&l!=null&&d(e,["_query","force"],l),o}function gx(n){const e={},o=c(n,["name"]);o!=null&&d(e,["_url","name"],o);const l=c(n,["config"]);return l!=null&&mx(l,e),e}function yx(n){const e={},o=c(n,["name"]);return o!=null&&d(e,["_url","name"],o),e}function vx(n,e){const o={},l=c(n,["pageSize"]);e!==void 0&&l!=null&&d(e,["_query","pageSize"],l);const r=c(n,["pageToken"]);return e!==void 0&&r!=null&&d(e,["_query","pageToken"],r),o}function Sx(n){const e={},o=c(n,["parent"]);o!=null&&d(e,["_url","parent"],o);const l=c(n,["config"]);return l!=null&&vx(l,e),e}function _x(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const l=c(n,["nextPageToken"]);l!=null&&d(e,["nextPageToken"],l);const r=c(n,["documents"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["documents"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ex extends Di{constructor(e){super(),this.apiClient=e,this.list=async o=>new Go(Ni.PAGED_ITEM_DOCUMENTS,l=>this.listInternal({parent:o.parent,config:l.config}),await this.listInternal(o),o)}async get(e){var o,l;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=yx(e);return u=se("{name}",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),r.then(g=>g)}}async delete(e){var o,l;let r="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=gx(e);r=se("{name}",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var o,l;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Sx(e);return u=se("{parent}/documents",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),r.then(g=>{const m=_x(g),v=new e1;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tx extends Di{constructor(e,o=new Ex(e)){super(),this.apiClient=e,this.documents=o,this.list=async(l={})=>new Go(Ni.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(l),l)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var o,l;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=db(e);return u=se("fileSearchStores",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),r.then(g=>g)}}async get(e){var o,l;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=mb(e);return u=se("{name}",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),r.then(g=>g)}}async delete(e){var o,l;let r="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=pb(e);r=se("{name}",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var o,l;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Eb(e);return u=se("fileSearchStores",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),r.then(g=>{const m=Tb(g),v=new t1;return Object.assign(v,m),v})}}async uploadToFileSearchStoreInternal(e){var o,l;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Cb(e);return u=se("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),r.then(g=>{const m=Ab(g),v=new n1;return Object.assign(v,m),v})}}async importFile(e){var o,l;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=vb(e);return u=se("{file_search_store_name}:importFile",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),r.then(g=>{const m=yb(g),v=new Kf;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let lv=function(){const{crypto:n}=globalThis;if(n!=null&&n.randomUUID)return lv=n.randomUUID.bind(n),n.randomUUID();const e=new Uint8Array(1),o=n?()=>n.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,l=>(+l^o()&15>>+l/4).toString(16))};const Cx=()=>lv();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nf(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const wf=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const e=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(e.stack=n.stack),n.cause&&!e.cause&&(e.cause=n.cause),n.name&&(e.name=n.name),e}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bn extends Error{}class un extends Bn{constructor(e,o,l,r){super(`${un.makeMessage(e,o,l)}`),this.status=e,this.headers=r,this.error=o}static makeMessage(e,o,l){const r=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):l;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,o,l,r){if(!e||!r)return new qa({message:l,cause:wf(o)});const u=o;return e===400?new rv(e,u,l,r):e===401?new av(e,u,l,r):e===403?new uv(e,u,l,r):e===404?new cv(e,u,l,r):e===409?new fv(e,u,l,r):e===422?new dv(e,u,l,r):e===429?new hv(e,u,l,r):e>=500?new pv(e,u,l,r):new un(e,u,l,r)}}class Df extends un{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class qa extends un{constructor({message:e,cause:o}){super(void 0,void 0,e||"Connection error.",void 0),o&&(this.cause=o)}}class sv extends qa{constructor({message:e}={}){super({message:e??"Request timed out."})}}class rv extends un{}class av extends un{}class uv extends un{}class cv extends un{}class fv extends un{}class dv extends un{}class hv extends un{}class pv extends un{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ax=/^[a-z][a-z0-9+.-]*:/i,Rx=n=>Ax.test(n);let If=n=>(If=Array.isArray,If(n));const Mx=If;let bx=Mx;const V0=bx;function xx(n){if(!n)return!0;for(const e in n)return!1;return!0}function Nx(n,e){return Object.prototype.hasOwnProperty.call(n,e)}const wx=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Bn(`${n} must be an integer`);if(e<0)throw new Bn(`${n} must be a positive integer`);return e},Dx=n=>{try{return JSON.parse(n)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ix=n=>new Promise(e=>setTimeout(e,n));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yl="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ux(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Lx=()=>{var n,e,o,l,r;const u=Ux();if(u==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":yl,"X-Stainless-OS":F0(Deno.build.os),"X-Stainless-Arch":B0(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(n=Deno.version)===null||n===void 0?void 0:n.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":yl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(u==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":yl,"X-Stainless-OS":F0((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":B0((l=globalThis.process.arch)!==null&&l!==void 0?l:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const f=kx();return f?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":yl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${f.browser}`,"X-Stainless-Runtime-Version":f.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":yl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function kx(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:o}of n){const l=o.exec(navigator.userAgent);if(l){const r=l[1]||0,u=l[2]||0,f=l[3]||0;return{browser:e,version:`${r}.${u}.${f}`}}}return null}const B0=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",F0=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let la;const qx=()=>la??(la=Lx());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gx(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function mv(...n){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...n)}function Hx(n){let e=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return mv({start(){},async pull(o){const{done:l,value:r}=await e.next();l?o.close():o.enqueue(r)},async cancel(){var o;await((o=e.return)===null||o===void 0?void 0:o.call(e))}})}function gv(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const o=await e.read();return o!=null&&o.done&&e.releaseLock(),o}catch(o){throw e.releaseLock(),o}},async return(){const o=e.cancel();return e.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Px(n){var e,o;if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await((o=(e=n[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(e));return}const l=n.getReader(),r=l.cancel();l.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zx=({headers:n,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yv=()=>{var n;if(typeof File>"u"){const{process:e}=globalThis,o=typeof((n=e==null?void 0:e.versions)===null||n===void 0?void 0:n.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function hf(n,e,o){return yv(),new File(n,e??"unknown_file",o)}function Ox(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const Vx=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vv=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",Bx=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&vv(n),Fx=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function Yx(n,e,o){if(yv(),n=await n,Bx(n))return n instanceof File?n:hf([await n.arrayBuffer()],n.name);if(Fx(n)){const r=await n.blob();return e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()),hf(await Uf(r),e,o)}const l=await Uf(n);if(e||(e=Ox(n)),!(o!=null&&o.type)){const r=l.find(u=>typeof u=="object"&&"type"in u&&u.type);typeof r=="string"&&(o=Object.assign(Object.assign({},o),{type:r}))}return hf(l,e,o)}async function Uf(n){var e,o,l,r,u;let f=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)f.push(n);else if(vv(n))f.push(n instanceof Blob?n:await n.arrayBuffer());else if(Vx(n))try{for(var p=!0,g=ei(n),m;m=await g.next(),e=m.done,!e;p=!0){r=m.value,p=!1;const v=r;f.push(...await Uf(v))}}catch(v){o={error:v}}finally{try{!p&&!e&&(l=g.return)&&await l.call(g)}finally{if(o)throw o.error}}else{const v=(u=n==null?void 0:n.constructor)===null||u===void 0?void 0:u.name;throw new Error(`Unexpected data type: ${typeof n}${v?`; constructor: ${v}`:""}${Jx(n)}`)}return f}function Jx(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sv{constructor(e){this._client=e}}Sv._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _v(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Y0=Object.freeze(Object.create(null)),Kx=(n=_v)=>(function(o,...l){if(o.length===1)return o[0];let r=!1;const u=[],f=o.reduce((v,S,_)=>{var C,A,x;/[?#]/.test(S)&&(r=!0);const b=l[_];let D=(r?encodeURIComponent:n)(""+b);return _!==l.length&&(b==null||typeof b=="object"&&b.toString===((x=Object.getPrototypeOf((A=Object.getPrototypeOf((C=b.hasOwnProperty)!==null&&C!==void 0?C:Y0))!==null&&A!==void 0?A:Y0))===null||x===void 0?void 0:x.toString))&&(D=b+"",u.push({start:v.length+S.length,length:D.length,error:`Value of type ${Object.prototype.toString.call(b).slice(8,-1)} is not a valid path parameter`})),v+S+(_===l.length?"":D)},""),p=f.split(/[?#]/,1)[0],g=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=g.exec(p))!==null;)u.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(u.sort((v,S)=>v.start-S.start),u.length>0){let v=0;const S=u.reduce((_,C)=>{const A=" ".repeat(C.start-v),x="^".repeat(C.length);return v=C.start+C.length,_+A+x},"");throw new Bn(`Path parameters result in path with invalid segments:
${u.map(_=>_.error).join(`
`)}
${f}
${S}`)}return f}),sa=Kx(_v);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ev extends Sv{create(e,o){var l;const{api_version:r=this._client.apiVersion}=e,u=Ca(e,["api_version"]);if("model"in u&&"agent_config"in u)throw new Bn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in u&&"generation_config"in u)throw new Bn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(sa`/${r}/interactions`,Object.assign(Object.assign({body:u},o),{stream:(l=e.stream)!==null&&l!==void 0?l:!1}))}delete(e,o={},l){const{api_version:r=this._client.apiVersion}=o??{};return this._client.delete(sa`/${r}/interactions/${e}`,l)}cancel(e,o={},l){const{api_version:r=this._client.apiVersion}=o??{};return this._client.post(sa`/${r}/interactions/${e}/cancel`,l)}get(e,o={},l){var r;const u=o??{},{api_version:f=this._client.apiVersion}=u,p=Ca(u,["api_version"]);return this._client.get(sa`/${f}/interactions/${e}`,Object.assign(Object.assign({query:p},l),{stream:(r=o==null?void 0:o.stream)!==null&&r!==void 0?r:!1}))}}Ev._key=Object.freeze(["interactions"]);class Tv extends Ev{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $x(n){let e=0;for(const r of n)e+=r.length;const o=new Uint8Array(e);let l=0;for(const r of n)o.set(r,l),l+=r.length;return o}let ra;function ed(n){let e;return(ra??(e=new globalThis.TextEncoder,ra=e.encode.bind(e)))(n)}let aa;function J0(n){let e;return(aa??(e=new globalThis.TextDecoder,aa=e.decode.bind(e)))(n)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ga{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const o=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?ed(e):e;this.buffer=$x([this.buffer,o]);const l=[];let r;for(;(r=Xx(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){l.push(J0(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const u=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,f=J0(this.buffer.subarray(0,u));l.push(f),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return l}flush(){return this.buffer.length?this.decode(`
`):[]}}Ga.NEWLINE_CHARS=new Set([`
`,"\r"]);Ga.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Xx(n,e){for(let r=e??0;r<n.length;r++){if(n[r]===10)return{preceding:r,index:r+1,carriage:!1};if(n[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function Qx(n){for(let l=0;l<n.length-1;l++){if(n[l]===10&&n[l+1]===10||n[l]===13&&n[l+1]===13)return l+2;if(n[l]===13&&n[l+1]===10&&l+3<n.length&&n[l+2]===13&&n[l+3]===10)return l+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Aa={off:0,error:200,warn:300,info:400,debug:500},K0=(n,e,o)=>{if(n){if(Nx(Aa,n))return n;an(o).warn(`${e} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(Aa))}`)}};function Ns(){}function ua(n,e,o){return!e||Aa[n]>Aa[o]?Ns:e[n].bind(e)}const Zx={error:Ns,warn:Ns,info:Ns,debug:Ns};let $0=new WeakMap;function an(n){var e;const o=n.logger,l=(e=n.logLevel)!==null&&e!==void 0?e:"off";if(!o)return Zx;const r=$0.get(o);if(r&&r[0]===l)return r[1];const u={error:ua("error",o,l),warn:ua("warn",o,l),info:ua("info",o,l),debug:ua("debug",o,l)};return $0.set(o,[l,u]),u}const Lo=n=>(n.options&&(n.options=Object.assign({},n.options),delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([e,o])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sl{constructor(e,o,l){this.iterator=e,this.controller=o,this.client=l}static fromSSEResponse(e,o,l){let r=!1;const u=l?an(l):console;function f(){return jn(this,arguments,function*(){var g,m,v,S;if(r)throw new Bn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let _=!1;try{try{for(var C=!0,A=ei(Wx(e,o)),x;x=yield Ce(A.next()),g=x.done,!g;C=!0){S=x.value,C=!1;const b=S;if(!_)if(b.data.startsWith("[DONE]")){_=!0;continue}else try{yield yield Ce(JSON.parse(b.data))}catch(D){throw u.error("Could not parse message into JSON:",b.data),u.error("From chunk:",b.raw),D}}}catch(b){m={error:b}}finally{try{!C&&!g&&(v=A.return)&&(yield Ce(v.call(A)))}finally{if(m)throw m.error}}_=!0}catch(b){if(Nf(b))return yield Ce(void 0);throw b}finally{_||o.abort()}})}return new Sl(f,o,l)}static fromReadableStream(e,o,l){let r=!1;function u(){return jn(this,arguments,function*(){var g,m,v,S;const _=new Ga,C=gv(e);try{for(var A=!0,x=ei(C),b;b=yield Ce(x.next()),g=b.done,!g;A=!0){S=b.value,A=!1;const D=S;for(const B of _.decode(D))yield yield Ce(B)}}catch(D){m={error:D}}finally{try{!A&&!g&&(v=x.return)&&(yield Ce(v.call(x)))}finally{if(m)throw m.error}}for(const D of _.flush())yield yield Ce(D)})}function f(){return jn(this,arguments,function*(){var g,m,v,S;if(r)throw new Bn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let _=!1;try{try{for(var C=!0,A=ei(u()),x;x=yield Ce(A.next()),g=x.done,!g;C=!0){S=x.value,C=!1;const b=S;_||b&&(yield yield Ce(JSON.parse(b)))}}catch(b){m={error:b}}finally{try{!C&&!g&&(v=A.return)&&(yield Ce(v.call(A)))}finally{if(m)throw m.error}}_=!0}catch(b){if(Nf(b))return yield Ce(void 0);throw b}finally{_||o.abort()}})}return new Sl(f,o,l)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],o=[],l=this.iterator(),r=u=>({next:()=>{if(u.length===0){const f=l.next();e.push(f),o.push(f)}return u.shift()}});return[new Sl(()=>r(e),this.controller,this.client),new Sl(()=>r(o),this.controller,this.client)]}toReadableStream(){const e=this;let o;return mv({async start(){o=e[Symbol.asyncIterator]()},async pull(l){try{const{value:r,done:u}=await o.next();if(u)return l.close();const f=ed(JSON.stringify(r)+`
`);l.enqueue(f)}catch(r){l.error(r)}},async cancel(){var l;await((l=o.return)===null||l===void 0?void 0:l.call(o))}})}}function Wx(n,e){return jn(this,arguments,function*(){var l,r,u,f;if(!n.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Bn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Bn("Attempted to iterate over a response with no body");const p=new eN,g=new Ga,m=gv(n.body);try{for(var v=!0,S=ei(jx(m)),_;_=yield Ce(S.next()),l=_.done,!l;v=!0){f=_.value,v=!1;const C=f;for(const A of g.decode(C)){const x=p.decode(A);x&&(yield yield Ce(x))}}}catch(C){r={error:C}}finally{try{!v&&!l&&(u=S.return)&&(yield Ce(u.call(S)))}finally{if(r)throw r.error}}for(const C of g.flush()){const A=p.decode(C);A&&(yield yield Ce(A))}})}function jx(n){return jn(this,arguments,function*(){var o,l,r,u;let f=new Uint8Array;try{for(var p=!0,g=ei(n),m;m=yield Ce(g.next()),o=m.done,!o;p=!0){u=m.value,p=!1;const v=u;if(v==null)continue;const S=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?ed(v):v;let _=new Uint8Array(f.length+S.length);_.set(f),_.set(S,f.length),f=_;let C;for(;(C=Qx(f))!==-1;)yield yield Ce(f.slice(0,C)),f=f.slice(C)}}catch(v){l={error:v}}finally{try{!p&&!o&&(r=g.return)&&(yield Ce(r.call(g)))}finally{if(l)throw l.error}}f.length>0&&(yield yield Ce(f))})}class eN{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const u={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],u}if(this.chunks.push(e),e.startsWith(":"))return null;let[o,l,r]=tN(e,":");return r.startsWith(" ")&&(r=r.substring(1)),o==="event"?this.event=r:o==="data"&&this.data.push(r),null}}function tN(n,e){const o=n.indexOf(e);return o!==-1?[n.substring(0,o),e,n.substring(o+e.length)]:[n,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function nN(n,e){const{response:o,requestLogID:l,retryOfRequestLogID:r,startTime:u}=e,f=await(async()=>{var p;if(e.options.stream)return an(n).debug("response",o.status,o.url,o.headers,o.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(o,e.controller,n):Sl.fromSSEResponse(o,e.controller,n);if(o.status===204)return null;if(e.options.__binaryResponse)return o;const g=o.headers.get("content-type"),m=(p=g==null?void 0:g.split(";")[0])===null||p===void 0?void 0:p.trim();return(m==null?void 0:m.includes("application/json"))||(m==null?void 0:m.endsWith("+json"))?await o.json():await o.text()})();return an(n).debug(`[${l}] response parsed`,Lo({retryOfRequestLogID:r,url:o.url,status:o.status,body:f,durationMs:Date.now()-u})),f}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class td extends Promise{constructor(e,o,l=nN){super(r=>{r(null)}),this.responsePromise=o,this.parseResponse=l,this.client=e}_thenUnwrap(e){return new td(this.client,this.responsePromise,async(o,l)=>e(await this.parseResponse(o,l),l))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,o){return this.parse().then(e,o)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cv=Symbol("brand.privateNullableHeaders");function*iN(n){if(!n)return;if(Cv in n){const{values:l,nulls:r}=n;yield*l.entries();for(const u of r)yield[u,null];return}let e=!1,o;n instanceof Headers?o=n.entries():V0(n)?o=n:(e=!0,o=Object.entries(n??{}));for(let l of o){const r=l[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const u=V0(l[1])?l[1]:[l[1]];let f=!1;for(const p of u)p!==void 0&&(e&&!f&&(f=!0,yield[r,null]),yield[r,p])}}const Ms=n=>{const e=new Headers,o=new Set;for(const l of n){const r=new Set;for(const[u,f]of iN(l)){const p=u.toLowerCase();r.has(p)||(e.delete(u),r.add(p)),f===null?(e.delete(u),o.add(p)):(e.append(u,f),o.delete(p))}}return{[Cv]:!0,values:e,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pf=n=>{var e,o,l,r,u,f;if(typeof globalThis.process<"u")return(l=(o=(e=NC)===null||e===void 0?void 0:e[n])===null||o===void 0?void 0:o.trim())!==null&&l!==void 0?l:void 0;if(typeof globalThis.Deno<"u")return(f=(u=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||u===void 0?void 0:u.call(r,n))===null||f===void 0?void 0:f.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Av;class Ha{constructor(e){var o,l,r,u,f,p,g,{baseURL:m=pf("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(o=pf("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:S="v1beta"}=e,_=Ca(e,["baseURL","apiKey","apiVersion"]);const C=Object.assign(Object.assign({apiKey:v,apiVersion:S},_),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=C.baseURL,this.timeout=(l=C.timeout)!==null&&l!==void 0?l:Ha.DEFAULT_TIMEOUT,this.logger=(r=C.logger)!==null&&r!==void 0?r:console;const A="warn";this.logLevel=A,this.logLevel=(f=(u=K0(C.logLevel,"ClientOptions.logLevel",this))!==null&&u!==void 0?u:K0(pf("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&f!==void 0?f:A,this.fetchOptions=C.fetchOptions,this.maxRetries=(p=C.maxRetries)!==null&&p!==void 0?p:2,this.fetch=(g=C.fetch)!==null&&g!==void 0?g:Gx(),this.encoder=zx,this._options=C,this.apiKey=v,this.apiVersion=S,this.clientAdapter=C.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:o}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const o=Ms([e.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return Ms([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Ms([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([o,l])=>typeof l<"u").map(([o,l])=>{if(typeof l=="string"||typeof l=="number"||typeof l=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(l)}`;if(l===null)return`${encodeURIComponent(o)}=`;throw new Bn(`Cannot stringify type ${typeof l}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${yl}`}defaultIdempotencyKey(){return`stainless-node-retry-${Cx()}`}makeStatusError(e,o,l,r){return un.generate(e,o,l,r)}buildURL(e,o,l){const r=!this.baseURLOverridden()&&l||this.baseURL,u=Rx(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),f=this.defaultQuery();return xx(f)||(o=Object.assign(Object.assign({},f),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(u.search=this.stringifyQuery(o)),u.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const o=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(e,{url:o,options:l}){}get(e,o){return this.methodRequest("get",e,o)}post(e,o){return this.methodRequest("post",e,o)}patch(e,o){return this.methodRequest("patch",e,o)}put(e,o){return this.methodRequest("put",e,o)}delete(e,o){return this.methodRequest("delete",e,o)}methodRequest(e,o,l){return this.request(Promise.resolve(l).then(r=>Object.assign({method:e,path:o},r)))}request(e,o=null){return new td(this,this.makeRequest(e,o,void 0))}async makeRequest(e,o,l){var r,u,f;const p=await e,g=(r=p.maxRetries)!==null&&r!==void 0?r:this.maxRetries;o==null&&(o=g),await this.prepareOptions(p);const{req:m,url:v,timeout:S}=await this.buildRequest(p,{retryCount:g-o});await this.prepareRequest(m,{url:v,options:p});const _="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),C=l===void 0?"":`, retryOf: ${l}`,A=Date.now();if(an(this).debug(`[${_}] sending request`,Lo({retryOfRequestLogID:l,method:p.method,url:v,options:p,headers:m.headers})),!((u=p.signal)===null||u===void 0)&&u.aborted)throw new Df;const x=new AbortController,b=await this.fetchWithTimeout(v,m,S,x).catch(wf),D=Date.now();if(b instanceof globalThis.Error){const U=`retrying, ${o} attempts remaining`;if(!((f=p.signal)===null||f===void 0)&&f.aborted)throw new Df;const X=Nf(b)||/timed? ?out/i.test(String(b)+("cause"in b?String(b.cause):""));if(o)return an(this).info(`[${_}] connection ${X?"timed out":"failed"} - ${U}`),an(this).debug(`[${_}] connection ${X?"timed out":"failed"} (${U})`,Lo({retryOfRequestLogID:l,url:v,durationMs:D-A,message:b.message})),this.retryRequest(p,o,l??_);throw an(this).info(`[${_}] connection ${X?"timed out":"failed"} - error; no more retries left`),an(this).debug(`[${_}] connection ${X?"timed out":"failed"} (error; no more retries left)`,Lo({retryOfRequestLogID:l,url:v,durationMs:D-A,message:b.message})),X?new sv:new qa({cause:b})}const B=`[${_}${C}] ${m.method} ${v} ${b.ok?"succeeded":"failed"} with status ${b.status} in ${D-A}ms`;if(!b.ok){const U=await this.shouldRetry(b);if(o&&U){const ee=`retrying, ${o} attempts remaining`;return await Px(b.body),an(this).info(`${B} - ${ee}`),an(this).debug(`[${_}] response error (${ee})`,Lo({retryOfRequestLogID:l,url:b.url,status:b.status,headers:b.headers,durationMs:D-A})),this.retryRequest(p,o,l??_,b.headers)}const X=U?"error; no more retries left":"error; not retryable";an(this).info(`${B} - ${X}`);const Z=await b.text().catch(ee=>wf(ee).message),W=Dx(Z),J=W?void 0:Z;throw an(this).debug(`[${_}] response error (${X})`,Lo({retryOfRequestLogID:l,url:b.url,status:b.status,headers:b.headers,message:J,durationMs:Date.now()-A})),this.makeStatusError(b.status,W,J,b.headers)}return an(this).info(B),an(this).debug(`[${_}] response start`,Lo({retryOfRequestLogID:l,url:b.url,status:b.status,headers:b.headers,durationMs:D-A})),{response:b,options:p,controller:x,requestLogID:_,retryOfRequestLogID:l,startTime:A}}async fetchWithTimeout(e,o,l,r){const u=o||{},{signal:f,method:p}=u,g=Ca(u,["signal","method"]);f&&f.addEventListener("abort",()=>r.abort());const m=setTimeout(()=>r.abort(),l),v=globalThis.ReadableStream&&g.body instanceof globalThis.ReadableStream||typeof g.body=="object"&&g.body!==null&&Symbol.asyncIterator in g.body,S=Object.assign(Object.assign(Object.assign({signal:r.signal},v?{duplex:"half"}:{}),{method:"GET"}),g);p&&(S.method=p.toUpperCase());try{return await this.fetch.call(void 0,e,S)}finally{clearTimeout(m)}}async shouldRetry(e){const o=e.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,o,l,r){var u;let f;const p=r==null?void 0:r.get("retry-after-ms");if(p){const m=parseFloat(p);Number.isNaN(m)||(f=m)}const g=r==null?void 0:r.get("retry-after");if(g&&!f){const m=parseFloat(g);Number.isNaN(m)?f=Date.parse(g)-Date.now():f=m*1e3}if(!(f&&0<=f&&f<60*1e3)){const m=(u=e.maxRetries)!==null&&u!==void 0?u:this.maxRetries;f=this.calculateDefaultRetryTimeoutMillis(o,m)}return await Ix(f),this.makeRequest(e,o-1,l)}calculateDefaultRetryTimeoutMillis(e,o){const u=o-e,f=Math.min(.5*Math.pow(2,u),8),p=1-Math.random()*.25;return f*p*1e3}async buildRequest(e,{retryCount:o=0}={}){var l,r,u;const f=Object.assign({},e),{method:p,path:g,query:m,defaultBaseURL:v}=f,S=this.buildURL(g,m,v);"timeout"in f&&wx("timeout",f.timeout),f.timeout=(l=f.timeout)!==null&&l!==void 0?l:this.timeout;const{bodyHeaders:_,body:C}=this.buildBody({options:f}),A=await this.buildHeaders({options:e,method:p,bodyHeaders:_,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:p,headers:A},f.signal&&{signal:f.signal}),globalThis.ReadableStream&&C instanceof globalThis.ReadableStream&&{duplex:"half"}),C&&{body:C}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(u=f.fetchOptions)!==null&&u!==void 0?u:{}),url:S,timeout:f.timeout}}async buildHeaders({options:e,method:o,bodyHeaders:l,retryCount:r}){let u={};this.idempotencyHeader&&o!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),u[this.idempotencyHeader]=e.idempotencyKey);const f=await this.authHeaders(e);let p=Ms([u,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),qx()),this._options.defaultHeaders,l,e.headers,f]);return this.validateHeaders(p),p.values}buildBody({options:{body:e,headers:o}}){if(!e)return{bodyHeaders:void 0,body:void 0};const l=Ms([o]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&l.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:Hx(e)}:this.encoder({body:e,headers:l})}}Ha.DEFAULT_TIMEOUT=6e4;class Pt extends Ha{constructor(){super(...arguments),this.interactions=new Tv(this)}}Av=Pt;Pt.GeminiNextGenAPIClient=Av;Pt.GeminiNextGenAPIClientError=Bn;Pt.APIError=un;Pt.APIConnectionError=qa;Pt.APIConnectionTimeoutError=sv;Pt.APIUserAbortError=Df;Pt.NotFoundError=cv;Pt.ConflictError=fv;Pt.RateLimitError=hv;Pt.BadRequestError=rv;Pt.AuthenticationError=av;Pt.InternalServerError=pv;Pt.PermissionDeniedError=uv;Pt.UnprocessableEntityError=dv;Pt.toFile=Yx;Pt.Interactions=Tv;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oN(n,e){const o={},l=c(n,["name"]);return l!=null&&d(o,["_url","name"],l),o}function lN(n,e){const o={},l=c(n,["name"]);return l!=null&&d(o,["_url","name"],l),o}function sN(n,e){const o={},l=c(n,["sdkHttpResponse"]);return l!=null&&d(o,["sdkHttpResponse"],l),o}function rN(n,e){const o={},l=c(n,["sdkHttpResponse"]);return l!=null&&d(o,["sdkHttpResponse"],l),o}function aN(n,e,o){const l={};if(c(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=c(n,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&d(e,["displayName"],r),c(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=c(n,["epochCount"]);e!==void 0&&u!=null&&d(e,["tuningTask","hyperparameters","epochCount"],u);const f=c(n,["learningRateMultiplier"]);if(f!=null&&d(l,["tuningTask","hyperparameters","learningRateMultiplier"],f),c(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const p=c(n,["batchSize"]);e!==void 0&&p!=null&&d(e,["tuningTask","hyperparameters","batchSize"],p);const g=c(n,["learningRate"]);if(e!==void 0&&g!=null&&d(e,["tuningTask","hyperparameters","learningRate"],g),c(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return l}function uN(n,e,o){const l={};let r=c(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const C=c(n,["validationDataset"]);e!==void 0&&C!=null&&d(e,["supervisedTuningSpec"],X0(C))}else if(r==="PREFERENCE_TUNING"){const C=c(n,["validationDataset"]);e!==void 0&&C!=null&&d(e,["preferenceOptimizationSpec"],X0(C))}const u=c(n,["tunedModelDisplayName"]);e!==void 0&&u!=null&&d(e,["tunedModelDisplayName"],u);const f=c(n,["description"]);e!==void 0&&f!=null&&d(e,["description"],f);let p=c(o,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const C=c(n,["epochCount"]);e!==void 0&&C!=null&&d(e,["supervisedTuningSpec","hyperParameters","epochCount"],C)}else if(p==="PREFERENCE_TUNING"){const C=c(n,["epochCount"]);e!==void 0&&C!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],C)}let g=c(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const C=c(n,["learningRateMultiplier"]);e!==void 0&&C!=null&&d(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],C)}else if(g==="PREFERENCE_TUNING"){const C=c(n,["learningRateMultiplier"]);e!==void 0&&C!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],C)}let m=c(o,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const C=c(n,["exportLastCheckpointOnly"]);e!==void 0&&C!=null&&d(e,["supervisedTuningSpec","exportLastCheckpointOnly"],C)}else if(m==="PREFERENCE_TUNING"){const C=c(n,["exportLastCheckpointOnly"]);e!==void 0&&C!=null&&d(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],C)}let v=c(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const C=c(n,["adapterSize"]);e!==void 0&&C!=null&&d(e,["supervisedTuningSpec","hyperParameters","adapterSize"],C)}else if(v==="PREFERENCE_TUNING"){const C=c(n,["adapterSize"]);e!==void 0&&C!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],C)}if(c(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const S=c(n,["labels"]);e!==void 0&&S!=null&&d(e,["labels"],S);const _=c(n,["beta"]);return e!==void 0&&_!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","beta"],_),l}function cN(n,e){const o={},l=c(n,["baseModel"]);l!=null&&d(o,["baseModel"],l);const r=c(n,["preTunedModel"]);r!=null&&d(o,["preTunedModel"],r);const u=c(n,["trainingDataset"]);u!=null&&EN(u);const f=c(n,["config"]);return f!=null&&aN(f,o),o}function fN(n,e){const o={},l=c(n,["baseModel"]);l!=null&&d(o,["baseModel"],l);const r=c(n,["preTunedModel"]);r!=null&&d(o,["preTunedModel"],r);const u=c(n,["trainingDataset"]);u!=null&&TN(u,o,e);const f=c(n,["config"]);return f!=null&&uN(f,o,e),o}function dN(n,e){const o={},l=c(n,["name"]);return l!=null&&d(o,["_url","name"],l),o}function hN(n,e){const o={},l=c(n,["name"]);return l!=null&&d(o,["_url","name"],l),o}function pN(n,e,o){const l={},r=c(n,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const u=c(n,["pageToken"]);e!==void 0&&u!=null&&d(e,["_query","pageToken"],u);const f=c(n,["filter"]);return e!==void 0&&f!=null&&d(e,["_query","filter"],f),l}function mN(n,e,o){const l={},r=c(n,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const u=c(n,["pageToken"]);e!==void 0&&u!=null&&d(e,["_query","pageToken"],u);const f=c(n,["filter"]);return e!==void 0&&f!=null&&d(e,["_query","filter"],f),l}function gN(n,e){const o={},l=c(n,["config"]);return l!=null&&pN(l,o),o}function yN(n,e){const o={},l=c(n,["config"]);return l!=null&&mN(l,o),o}function vN(n,e){const o={},l=c(n,["sdkHttpResponse"]);l!=null&&d(o,["sdkHttpResponse"],l);const r=c(n,["nextPageToken"]);r!=null&&d(o,["nextPageToken"],r);const u=c(n,["tunedModels"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>Rv(p))),d(o,["tuningJobs"],f)}return o}function SN(n,e){const o={},l=c(n,["sdkHttpResponse"]);l!=null&&d(o,["sdkHttpResponse"],l);const r=c(n,["nextPageToken"]);r!=null&&d(o,["nextPageToken"],r);const u=c(n,["tuningJobs"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>Lf(p))),d(o,["tuningJobs"],f)}return o}function _N(n,e){const o={},l=c(n,["name"]);l!=null&&d(o,["model"],l);const r=c(n,["name"]);return r!=null&&d(o,["endpoint"],r),o}function EN(n,e){const o={};if(c(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const l=c(n,["examples"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(u=>u)),d(o,["examples","examples"],r)}return o}function TN(n,e,o){const l={};let r=c(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const f=c(n,["gcsUri"]);e!==void 0&&f!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(r==="PREFERENCE_TUNING"){const f=c(n,["gcsUri"]);e!==void 0&&f!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],f)}let u=c(o,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const f=c(n,["vertexDatasetResource"]);e!==void 0&&f!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(u==="PREFERENCE_TUNING"){const f=c(n,["vertexDatasetResource"]);e!==void 0&&f!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],f)}if(c(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return l}function Rv(n,e){const o={},l=c(n,["sdkHttpResponse"]);l!=null&&d(o,["sdkHttpResponse"],l);const r=c(n,["name"]);r!=null&&d(o,["name"],r);const u=c(n,["state"]);u!=null&&d(o,["state"],Oy(u));const f=c(n,["createTime"]);f!=null&&d(o,["createTime"],f);const p=c(n,["tuningTask","startTime"]);p!=null&&d(o,["startTime"],p);const g=c(n,["tuningTask","completeTime"]);g!=null&&d(o,["endTime"],g);const m=c(n,["updateTime"]);m!=null&&d(o,["updateTime"],m);const v=c(n,["description"]);v!=null&&d(o,["description"],v);const S=c(n,["baseModel"]);S!=null&&d(o,["baseModel"],S);const _=c(n,["_self"]);return _!=null&&d(o,["tunedModel"],_N(_)),o}function Lf(n,e){const o={},l=c(n,["sdkHttpResponse"]);l!=null&&d(o,["sdkHttpResponse"],l);const r=c(n,["name"]);r!=null&&d(o,["name"],r);const u=c(n,["state"]);u!=null&&d(o,["state"],Oy(u));const f=c(n,["createTime"]);f!=null&&d(o,["createTime"],f);const p=c(n,["startTime"]);p!=null&&d(o,["startTime"],p);const g=c(n,["endTime"]);g!=null&&d(o,["endTime"],g);const m=c(n,["updateTime"]);m!=null&&d(o,["updateTime"],m);const v=c(n,["error"]);v!=null&&d(o,["error"],v);const S=c(n,["description"]);S!=null&&d(o,["description"],S);const _=c(n,["baseModel"]);_!=null&&d(o,["baseModel"],_);const C=c(n,["tunedModel"]);C!=null&&d(o,["tunedModel"],C);const A=c(n,["preTunedModel"]);A!=null&&d(o,["preTunedModel"],A);const x=c(n,["supervisedTuningSpec"]);x!=null&&d(o,["supervisedTuningSpec"],x);const b=c(n,["preferenceOptimizationSpec"]);b!=null&&d(o,["preferenceOptimizationSpec"],b);const D=c(n,["tuningDataStats"]);D!=null&&d(o,["tuningDataStats"],D);const B=c(n,["encryptionSpec"]);B!=null&&d(o,["encryptionSpec"],B);const U=c(n,["partnerModelTuningSpec"]);U!=null&&d(o,["partnerModelTuningSpec"],U);const X=c(n,["customBaseModel"]);X!=null&&d(o,["customBaseModel"],X);const Z=c(n,["experiment"]);Z!=null&&d(o,["experiment"],Z);const W=c(n,["labels"]);W!=null&&d(o,["labels"],W);const J=c(n,["outputUri"]);J!=null&&d(o,["outputUri"],J);const j=c(n,["pipelineJob"]);j!=null&&d(o,["pipelineJob"],j);const ee=c(n,["serviceAccount"]);ee!=null&&d(o,["serviceAccount"],ee);const oe=c(n,["tunedModelDisplayName"]);oe!=null&&d(o,["tunedModelDisplayName"],oe);const re=c(n,["veoTuningSpec"]);return re!=null&&d(o,["veoTuningSpec"],re),o}function CN(n,e){const o={},l=c(n,["sdkHttpResponse"]);l!=null&&d(o,["sdkHttpResponse"],l);const r=c(n,["name"]);r!=null&&d(o,["name"],r);const u=c(n,["metadata"]);u!=null&&d(o,["metadata"],u);const f=c(n,["done"]);f!=null&&d(o,["done"],f);const p=c(n,["error"]);return p!=null&&d(o,["error"],p),o}function X0(n,e){const o={},l=c(n,["gcsUri"]);l!=null&&d(o,["validationDatasetUri"],l);const r=c(n,["vertexDatasetResource"]);return r!=null&&d(o,["validationDatasetUri"],r),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AN extends Di{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Go(Ni.PAGED_ITEM_TUNING_JOBS,l=>this.listInternal(l),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var l;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const r={tunedModelName:o.baseModel};!((l=o.config)===null||l===void 0)&&l.preTunedModelCheckpointId&&(r.checkpointId=o.config.preTunedModelCheckpointId);const u=Object.assign(Object.assign({},o),{preTunedModel:r});return u.baseModel=void 0,await this.tuneInternal(u)}else{const r=Object.assign({},o);return await this.tuneInternal(r)}else{const r=Object.assign({},o),u=await this.tuneMldevInternal(r);let f="";return u.metadata!==void 0&&u.metadata.tunedModel!==void 0?f=u.metadata.tunedModel:u.name!==void 0&&u.name.includes("/operations/")&&(f=u.name.split("/operations/")[0]),{name:f,state:Tf.JOB_STATE_QUEUED}}}}async getInternal(e){var o,l,r,u;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=hN(e);return p=se("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>Lf(v))}else{const m=dN(e);return p=se("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>Rv(v))}}async listInternal(e){var o,l,r,u;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=yN(e);return p=se("tuningJobs",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const S=SN(v),_=new E0;return Object.assign(_,S),_})}else{const m=gN(e);return p=se("tunedModels",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const S=vN(v),_=new E0;return Object.assign(_,S),_})}}async cancel(e){var o,l,r,u;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=lN(e);return p=se("{name}:cancel",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const S=rN(v),_=new T0;return Object.assign(_,S),_})}else{const m=oN(e);return p=se("{name}:cancel",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const S=sN(v),_=new T0;return Object.assign(_,S),_})}}async tuneInternal(e){var o,l;let r,u="",f={};if(this.apiClient.isVertexAI()){const p=fN(e,e);return u=se("tuningJobs",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>Lf(g))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var o,l;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=cN(e);return u=se("tunedModels",p._url),f=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>CN(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RN{async download(e,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const MN=1024*1024*8,bN=3,xN=1e3,NN=2,Ra="x-goog-upload-status";async function wN(n,e,o){var l;const r=await Mv(n,e,o),u=await(r==null?void 0:r.json());if(((l=r==null?void 0:r.headers)===null||l===void 0?void 0:l[Ra])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function DN(n,e,o){var l;const r=await Mv(n,e,o),u=await(r==null?void 0:r.json());if(((l=r==null?void 0:r.headers)===null||l===void 0?void 0:l[Ra])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const f=ky(u),p=new $f;return Object.assign(p,f),p}async function Mv(n,e,o){var l,r;let u=0,f=0,p=new Cf(new Response),g="upload";for(u=n.size;f<u;){const m=Math.min(MN,u-f),v=n.slice(f,f+m);f+m>=u&&(g+=", finalize");let S=0,_=xN;for(;S<bN&&(p=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(f),"Content-Length":String(m)}}}),!(!((l=p==null?void 0:p.headers)===null||l===void 0)&&l[Ra]));)S++,await UN(_),_=_*NN;if(f+=m,((r=p==null?void 0:p.headers)===null||r===void 0?void 0:r[Ra])!=="active")break;if(u<=f)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return p}async function IN(n){return{size:n.size,type:n.type}}function UN(n){return new Promise(e=>setTimeout(e,n))}class LN{async upload(e,o,l){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await wN(e,o,l)}async uploadToFileSearchStore(e,o,l){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await DN(e,o,l)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await IN(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kN{create(e,o,l){return new qN(e,o,l)}}class qN{constructor(e,o,l){this.url=e,this.headers=o,this.callbacks=l}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Q0="x-goog-api-key";class GN{constructor(e){this.apiKey=e}async addAuthHeaders(e,o){if(e.get(Q0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Q0,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HN="gl-node/";class PN{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new Pt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=o.interactions,this._interactions}constructor(e){var o;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=e.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=e.apiKey;const l=UC(e.httpOptions,e.vertexai,void 0,void 0);l&&(e.httpOptions?e.httpOptions.baseUrl=l:e.httpOptions={baseUrl:l}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new GN(this.apiKey);this.apiClient=new Ib({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:HN+"web",uploader:new LN,downloader:new RN}),this.models=new Zb(this.apiClient),this.live=new Yb(this.apiClient,r,new kN),this.batches=new aA(this.apiClient),this.chats=new BA(this.models,this.apiClient),this.caches=new zA(this.apiClient),this.files=new jA(this.apiClient),this.operations=new Wb(this.apiClient),this.authTokens=new px(this.apiClient),this.tunings=new AN(this.apiClient),this.fileSearchStores=new Tx(this.apiClient)}}const zN=new PN({apiKey:void 0});async function ON(n,e,o){try{const l=await zN.models.generateContent({model:"gemini-3-flash-preview",contents:`Current Chess Position (FEN): ${n}
Last move played: ${e||"None"}
It is ${o==="w"?"White":"Black"}'s turn.

You are a friendly and encouraging chess coach for a young child learning the game. Analyze the position and provide helpful advice.`,config:{responseMimeType:"application/json",responseSchema:{type:Dn.OBJECT,properties:{explanation:{type:Dn.STRING,description:"A friendly explanation of the current situation and why the last move was made."},suggestedMove:{type:Dn.STRING,description:"The best next move in algebraic notation (e.g., 'e4', 'Nf3')."},evaluation:{type:Dn.STRING,enum:["good","neutral","bad","mistake"],description:"How the current position looks for the player who just moved."},funFact:{type:Dn.STRING,description:"A fun fact about one of the pieces currently on the board or general chess history."}},required:["explanation","evaluation"]}}});return JSON.parse(l.text.trim())}catch(l){return console.error("Gemini Coach Error:",l),{explanation:"I'm thinking hard about the board! Keep playing while I analyze.",evaluation:"neutral"}}}const VN=()=>{const[n,e]=G.useState(new ia),[o,l]=G.useState(null),[r,u]=G.useState(!1),[f,p]=G.useState([]),[g,m]=G.useState({w:[],b:[]}),[v,S]=G.useState(!1),_=G.useCallback(()=>{const B=n.history();n.fen(),p(B);const U=n.board().flat().filter(j=>j!==null),X=j=>{const ee={p:0,r:0,n:0,b:0,q:0,k:0};return U.forEach(oe=>{oe&&oe.color===j&&ee[oe.type]++}),ee},Z=X("w"),W=X("b"),J=(j,ee)=>{const oe=[],re={p:8,r:2,n:2,b:2,q:1,k:1};return Object.keys(re).forEach(ve=>{const he=re[ve]-ee[ve];for(let Re=0;Re<he;Re++)oe.push(ve)}),oe};m({w:J("w",Z),b:J("b",W)})},[n]),C=(B,U)=>{try{const X=n.move({from:B,to:U,promotion:"q"});return X===null?!1:(e(new ia(n.fen())),_(),A(n.fen(),X.san,n.turn()),!0)}catch{return!1}},A=async(B,U,X)=>{u(!0);const Z=await ON(B,U,X);l(Z),u(!1)},x=()=>{const B=new ia;e(B),l(null),p([]),m({w:[],b:[]})},b=()=>{n.undo(),e(new ia(n.fen())),_(),l(null)},D={p:"",n:"",b:"",r:"",q:"",k:""};return M.jsxs("div",{className:"min-h-screen flex flex-col items-center bg-blue-50 p-4 md:p-8",children:[M.jsxs("header",{className:"w-full max-w-6xl flex justify-between items-center mb-6",children:[M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("div",{className:"p-3 bg-blue-600 rounded-2xl shadow-lg",children:M.jsx(df,{className:"text-white w-8 h-8"})}),M.jsxs("div",{children:[M.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Chess Academy"}),M.jsx("p",{className:"text-blue-600 text-sm font-medium",children:"Your learning journey begins here!"})]})]}),M.jsxs("div",{className:"flex gap-2",children:[M.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 bg-white text-gray-700 rounded-xl border border-gray-200 hover:bg-gray-50 transition-colors shadow-sm",children:[M.jsx(AC,{className:"w-4 h-4"}),M.jsx("span",{className:"hidden sm:inline",children:"New Game"})]}),M.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-4 py-2 bg-white text-gray-700 rounded-xl border border-gray-200 hover:bg-gray-50 transition-colors shadow-sm",children:[M.jsx(yC,{className:"w-4 h-4"}),M.jsx("span",{className:"hidden sm:inline",children:"Undo"})]})]})]}),M.jsxs("main",{className:"w-full max-w-6xl grid grid-cols-1 lg:grid-cols-12 gap-8",children:[M.jsxs("div",{className:"lg:col-span-7 flex flex-col gap-4",children:[M.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-xl border border-blue-100 flex flex-col items-center",children:[M.jsxs("div",{className:"w-full flex justify-between items-center mb-4 px-2",children:[M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:M.jsx(yg,{className:"text-gray-500 w-6 h-6"})}),M.jsxs("div",{children:[M.jsx("span",{className:"font-bold text-gray-700",children:"Black Pieces"}),M.jsx("div",{className:"flex gap-1 text-lg leading-none mt-1",children:g.w.map((B,U)=>M.jsx("span",{className:"text-gray-400 opacity-60",children:D[B]},U))})]})]}),M.jsx("div",{className:`px-4 py-1 rounded-full text-sm font-bold ${n.turn()==="b"?"bg-black text-white animate-pulse":"bg-gray-100 text-gray-400"}`,children:"Thinking..."})]}),M.jsx("div",{className:"w-full aspect-square max-w-[500px] shadow-2xl rounded-lg overflow-hidden border-4 border-blue-600",children:M.jsx(uC,{position:n.fen(),onPieceDrop:C,customDarkSquareStyle:{backgroundColor:"#3b82f6"},customLightSquareStyle:{backgroundColor:"#f3f4f6"},animationDuration:300,boardOrientation:"white"})}),M.jsxs("div",{className:"w-full flex justify-between items-center mt-4 px-2",children:[M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center border-2 border-blue-400",children:M.jsx(yg,{className:"text-blue-600 w-6 h-6"})}),M.jsxs("div",{children:[M.jsx("span",{className:"font-bold text-gray-700",children:"Your Pieces (White)"}),M.jsx("div",{className:"flex gap-1 text-lg leading-none mt-1",children:g.b.map((B,U)=>M.jsx("span",{className:"text-blue-600 opacity-80",children:D[B]},U))})]})]}),M.jsx("div",{className:`px-4 py-1 rounded-full text-sm font-bold ${n.turn()==="w"?"bg-blue-600 text-white shadow-lg":"bg-gray-100 text-gray-400"}`,children:n.turn()==="w"?"Your Turn!":"Wait..."})]})]}),(n.isCheckmate()||n.isDraw())&&M.jsxs("div",{className:"bg-yellow-400 p-4 rounded-2xl flex items-center gap-4 animate-bounce shadow-lg",children:[M.jsx(df,{className:"text-yellow-900 w-8 h-8"}),M.jsxs("div",{children:[M.jsx("h3",{className:"font-bold text-yellow-900 text-lg",children:n.isCheckmate()?n.turn()==="w"?"Black Wins!":"White Wins!":"It's a Draw!"}),M.jsx("p",{className:"text-yellow-800 text-sm",children:"Amazing game! Ready for another round?"})]})]})]}),M.jsxs("div",{className:"lg:col-span-5 flex flex-col gap-6",children:[M.jsxs("section",{className:"bg-white rounded-3xl shadow-xl overflow-hidden flex flex-col border border-blue-100 flex-grow min-h-[400px]",children:[M.jsxs("div",{className:"bg-blue-600 p-4 flex items-center gap-3",children:[M.jsx("div",{className:"bg-white p-2 rounded-xl",children:M.jsx(mg,{className:"text-blue-600 w-6 h-6"})}),M.jsx("h2",{className:"text-white font-bold text-lg",children:"AI Chess Coach"}),r&&M.jsxs("div",{className:"ml-auto flex gap-1",children:[M.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-bounce delay-75"}),M.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-bounce delay-150"}),M.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-bounce delay-300"})]})]}),M.jsx("div",{className:"p-6 flex flex-col gap-6 scroll-hide overflow-y-auto max-h-[600px]",children:o?M.jsxs(M.Fragment,{children:[M.jsx("div",{className:"bg-blue-50 p-4 rounded-2xl border-l-4 border-blue-400",children:M.jsxs("p",{className:"text-gray-700 leading-relaxed italic",children:['"',o.explanation,'"']})}),o.suggestedMove&&M.jsxs("div",{className:"flex items-center gap-4 bg-green-50 p-4 rounded-2xl border border-green-200",children:[M.jsx("div",{className:"bg-green-500 p-2 rounded-lg",children:M.jsx(xC,{className:"text-white w-5 h-5"})}),M.jsxs("div",{children:[M.jsx("p",{className:"text-green-800 text-xs font-bold uppercase tracking-wider",children:"Coach Suggestion"}),M.jsxs("p",{className:"text-green-900 font-bold text-lg",children:["Try moving ",o.suggestedMove,"!"]})]})]}),o.funFact&&M.jsxs("div",{className:"flex items-start gap-4 bg-yellow-50 p-4 rounded-2xl",children:[M.jsx("div",{className:"bg-yellow-400 p-2 rounded-lg mt-1",children:M.jsx(gg,{className:"text-yellow-900 w-5 h-5"})}),M.jsxs("div",{children:[M.jsx("p",{className:"text-yellow-900 text-xs font-bold uppercase tracking-wider",children:"Did you know?"}),M.jsx("p",{className:"text-yellow-800 text-sm",children:o.funFact})]})]}),M.jsxs("div",{className:"flex gap-2 items-center text-xs font-bold text-gray-400 uppercase tracking-widest mt-auto pt-4 border-t border-gray-100",children:[M.jsx(TC,{className:"w-4 h-4"}),"Coach is observing..."]})]}):M.jsxs("div",{className:"flex flex-col items-center justify-center text-center py-12 gap-4",children:[M.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center animate-pulse",children:M.jsx(mg,{className:"text-blue-400 w-10 h-10"})}),M.jsxs("div",{children:[M.jsx("h3",{className:"text-gray-400 font-bold text-lg",children:"Make a move!"}),M.jsx("p",{className:"text-gray-400 text-sm",children:"I'll give you tips as you play."})]})]})})]}),M.jsxs("section",{className:"bg-white rounded-3xl shadow-xl p-6 border border-gray-100",children:[M.jsxs("div",{className:"flex items-center justify-between mb-4",children:[M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx(SC,{className:"text-gray-500 w-5 h-5"}),M.jsx("h3",{className:"font-bold text-gray-700",children:"Move History"})]}),M.jsxs("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded text-gray-500 font-bold",children:[Math.ceil(f.length/2)," Rounds"]})]}),M.jsx("div",{className:"flex flex-wrap gap-2 max-h-32 overflow-y-auto scroll-hide",children:f.length>0?f.map((B,U)=>M.jsxs("span",{className:`px-3 py-1 rounded-lg text-sm font-medium border ${U%2===0?"bg-blue-50 border-blue-100 text-blue-700":"bg-gray-50 border-gray-100 text-gray-600"}`,children:[Math.floor(U/2)+1,". ",B]},U)):M.jsx("p",{className:"text-gray-400 text-sm italic",children:"No moves yet. Good luck!"})})]}),M.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 p-6 rounded-3xl text-white shadow-lg relative overflow-hidden",children:[M.jsxs("div",{className:"relative z-10",children:[M.jsxs("h4",{className:"font-bold text-lg mb-1 flex items-center gap-2",children:[M.jsx(gg,{className:"w-5 h-5"})," Quick Rule"]}),M.jsx("p",{className:"text-blue-100 text-sm",children:"Control the center of the board (the four middle squares) to make your pieces stronger!"})]}),M.jsx("div",{className:"absolute -right-4 -bottom-4 opacity-10",children:M.jsx(df,{className:"w-32 h-32"})})]})]})]}),M.jsx("footer",{className:"mt-12 text-gray-400 text-sm pb-8 text-center",children:M.jsx("p",{children:"Built with  for young grandmasters"})})]})},bv=document.getElementById("root");if(!bv)throw new Error("Could not find root element to mount to");const BN=Y_.createRoot(bv);BN.render(M.jsx(mt.StrictMode,{children:M.jsx(VN,{})}));
